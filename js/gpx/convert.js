var toGeoJSON=function(){function B(a){if(!a||!a.length)return 0;for(var b=0,e=0;b<a.length;b++)e=(e<<5)-e+a.charCodeAt(b)|0;return e}function h(a,b){var e=a.getElementsByTagName(b);return e.length?e[0]:null}function n(a){for(var b=0,e=[];b<a.length;b++)e[b]=parseFloat(a[b]);return e}function d(a){a&&a.normalize&&a.normalize();return a&&a.textContent||""}function c(a,b){var e={},f,k;for(k=0;k<b.length;k++)(f=h(a,b[k]))&&(e[b[k]]=d(f));return e}function k(a,b){for(var e in b)a[e]=b[e]}function l(a){return n(a.replace(A,
"").split(","))}function f(a){a=a.replace(t,"").split(w);for(var b=[],e=0;e<a.length;e++)b.push(l(a[e]));return b}function b(a){var b=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))],e=h(a,"ele"),f=h(a,"gpxtpx:hr")||h(a,"hr");a=h(a,"time");e&&(e=parseFloat(d(e)),isNaN(e)||b.push(e));return{coordinates:b,time:a?d(a):null,heartRate:f?parseFloat(d(f)):null}}function a(){return{type:"FeatureCollection",features:[]}}function e(a){return void 0!==a.xml?a.xml:s.serializeToString(a)}
var A=/\s*/g,t=/^\s*|\s*$/g,w=/\s+/,s;if("undefined"!==typeof XMLSerializer)s=new XMLSerializer;else{var D="object"===typeof process&&!process.browser,y="object"===typeof Titanium;if("object"===typeof exports&&(D||y))s=new (require("xmldom").XMLSerializer);else throw Error("Unable to initialize serializer");}return{kml:function(b){function k(a){var b,e;a=a||"";"#"===a.substr(0,1)&&(a=a.substr(1));if(6===a.length||3===a.length)b=a;8===a.length&&(e=parseInt(a.substr(0,2),16)/255,b="#"+a.substr(6,2)+
a.substr(4,2)+a.substr(2,2));return[b,isNaN(e)?void 0:e]}function c(a){return n(a.split(" "))}function A(a){var b,e,g,K,z,R=[],k=[];if(h(a,"MultiGeometry"))return A(h(a,"MultiGeometry"));if(h(a,"MultiTrack"))return A(h(a,"MultiTrack"));if(h(a,"gx:MultiTrack"))return A(h(a,"gx:MultiTrack"));for(K=0;K<D.length;K++)if(g=a.getElementsByTagName(D[K]))for(z=0;z<g.length;z++)if(e=g[z],"Point"===D[K])R.push({type:"Point",coordinates:l(d(h(e,"coordinates")))});else if("LineString"===D[K])R.push({type:"LineString",
coordinates:f(d(h(e,"coordinates")))});else if("Polygon"===D[K]){b=e.getElementsByTagName("LinearRing");var m=[];for(e=0;e<b.length;e++)m.push(f(d(h(b[e],"coordinates"))));R.push({type:"Polygon",coordinates:m})}else if("Track"===D[K]||"gx:Track"===D[K]){var m=e,t=m.getElementsByTagName("coord");b=[];e=[];0===t.length&&(t=m.getElementsByTagName("gx:coord"));for(var s=0;s<t.length;s++)b.push(c(d(t[s])));m=m.getElementsByTagName("when");for(t=0;t<m.length;t++)e.push(d(m[t]));R.push({type:"LineString",
coordinates:b});e.length&&k.push(e)}return{geoms:R,coordTimes:k}}function m(a){var b=A(a),e,g={},K=d(h(a,"name")),z=d(h(a,"address")),f=d(h(a,"styleUrl")),c=d(h(a,"description")),m=h(a,"TimeSpan"),l=h(a,"TimeStamp");e=h(a,"ExtendedData");var t=h(a,"LineStyle"),N=h(a,"PolyStyle"),q=h(a,"visibility");if(!b.geoms.length)return[];K&&(g.name=K);z&&(g.address=z);f&&("#"!==f[0]&&(f="#"+f),g.styleUrl=f,s[f]&&(g.styleHash=s[f]),y[f]&&(g.styleMapHash=y[f],g.styleHash=s[y[f].normal]),K=w[g.styleHash])&&(t||
(t=h(K,"LineStyle")),N||(N=h(K,"PolyStyle")),K=h(K,"IconStyle"))&&(K=h(K,"Icon"))&&(K=d(h(K,"href")))&&(g.icon=K);c&&(g.description=c);m&&(c=d(h(m,"begin")),m=d(h(m,"end")),g.timespan={begin:c,end:m});l&&(g.timestamp=d(h(l,"when")));t&&(m=k(d(h(t,"color"))),l=m[0],m=m[1],t=parseFloat(d(h(t,"width"))),l&&(g.stroke=l),isNaN(m)||(g["stroke-opacity"]=m),isNaN(t)||(g["stroke-width"]=t));N&&(l=k(d(h(N,"color"))),t=l[0],l=l[1],m=d(h(N,"fill")),N=d(h(N,"outline")),t&&(g.fill=t),isNaN(l)||(g["fill-opacity"]=
l),m&&(g["fill-opacity"]="1"===m?g["fill-opacity"]||1:0),N&&(g["stroke-opacity"]="1"===N?g["stroke-opacity"]||1:0));if(e){N=e.getElementsByTagName("Data");t=e.getElementsByTagName("SimpleData");for(e=0;e<N.length;e++)g[N[e].getAttribute("name")]=d(h(N[e],"value"));for(e=0;e<t.length;e++)g[t[e].getAttribute("name")]=d(t[e])}q&&(g.visibility=d(q));b.coordTimes.length&&(g.coordTimes=1===b.coordTimes.length?b.coordTimes[0]:b.coordTimes);b={type:"Feature",geometry:1===b.geoms.length?b.geoms[0]:{type:"GeometryCollection",
geometries:b.geoms},properties:g};a.getAttribute("id")&&(b.id=a.getAttribute("id"));return[b]}var t=a(),s={},w={},y={},D=["Polygon","LineString","Point","Track","gx:Track"],g=b.getElementsByTagName("Placemark"),q=b.getElementsByTagName("Style");b=b.getElementsByTagName("StyleMap");for(var p=0;p<q.length;p++){var N=B(e(q[p])).toString(16);s["#"+q[p].getAttribute("id")]=N;w[N]=q[p]}for(q=0;q<b.length;q++){s["#"+b[q].getAttribute("id")]=B(e(b[q])).toString(16);for(var p=b[q].getElementsByTagName("Pair"),
N={},P=0;P<p.length;P++)N[d(h(p[P],"key"))]=d(h(p[P],"styleUrl"));y["#"+b[q].getAttribute("id")]=N}for(b=0;b<g.length;b++)t.features=t.features.concat(m(g[b]));return t},gpx:function(e){function f(a,b){for(var r=0;r<b;r++)a.push(null);return a}function A(a,e){var r=a.getElementsByTagName(e),g=[],k=[],c=[],K=r.length;if(2>K)return{};for(var z=0;z<K;z++){var R=b(r[z]);g.push(R.coordinates);R.time&&k.push(R.time);if(R.heartRate||c.length)c.length||f(c,z),c.push(R.heartRate||null)}return{line:g,times:k,
heartRates:c}}function t(a){for(var b=a.getElementsByTagName("trkseg"),r=[],e=[],g=[],c,K=0;K<b.length;K++)if(c=A(b[K],"trkpt"))if(c.line&&r.push(c.line),c.times&&c.times.length&&e.push(c.times),g.length||c.heartRates&&c.heartRates.length){if(!g.length)for(var z=0;z<K;z++)g.push(f([],r[z].length));c.heartRates&&c.heartRates.length?g.push(c.heartRates):g.push(f([],c.line.length||0))}if(0!==r.length)return b=w(a),k(b,s(h(a,"extensions"))),e.length&&(b.coordTimes=1===r.length?e[0]:e),g.length&&(b.heartRates=
1===r.length?g[0]:g),{type:"Feature",properties:b,geometry:{type:1===r.length?"LineString":"MultiLineString",coordinates:1===r.length?r[0]:r}}}function m(a){var b=A(a,"rtept");if(b.line){var r=w(a);k(r,s(h(a,"extensions")));return{type:"Feature",properties:r,geometry:{type:"LineString",coordinates:b.line}}}}function l(a){var e=w(a);k(e,c(a,["sym"]));return{type:"Feature",properties:e,geometry:{type:"Point",coordinates:b(a).coordinates}}}function s(a){var b={};if(a){var r=h(a,"line");if(r){a=d(h(r,
"color"));var e=parseFloat(d(h(r,"opacity"))),r=parseFloat(d(h(r,"width")));a&&(b.stroke=a);isNaN(e)||(b["stroke-opacity"]=e);isNaN(r)||(b["stroke-width"]=96*r/25.4)}}return b}function w(a){var b=c(a,"name cmt desc type time keywords".split(" "));a=a.getElementsByTagName("link");a.length&&(b.links=[]);for(var r=0,e;r<a.length;r++)e={href:a[r].getAttribute("href")},k(e,c(a[r],["text","type"])),b.links.push(e);return b}var y=e.getElementsByTagName("trk"),D=e.getElementsByTagName("rte"),g=e.getElementsByTagName("wpt"),
q=a(),p;for(e=0;e<y.length;e++)(p=t(y[e]))&&q.features.push(p);for(e=0;e<D.length;e++)(p=m(D[e]))&&q.features.push(p);for(e=0;e<g.length;e++)q.features.push(l(g[e]));return q}}}();"undefined"!==typeof module&&(module.exports=toGeoJSON);
!function(B){"object"==typeof exports?module.exports=B():"function"==typeof define&&define.amd?define(B):"undefined"!=typeof window?window.tcx=B():"undefined"!=typeof global?global.tcx=B():"undefined"!=typeof self&&(self.tcx=B())}(function(){return function h(n,d,c){function k(b,a){if(!d[b]){if(!n[b]){var e="function"==typeof require&&require;if(!a&&e)return e(b,!0);if(l)return l(b,!0);throw Error("Cannot find module '"+b+"'");}e=d[b]={exports:{}};n[b][0].call(e.exports,function(a){var e=n[b][1][a];
return k(e?e:a)},e,e.exports,h,n,d,c)}return d[b].exports}for(var l="function"==typeof require&&require,f=0;f<c.length;f++)k(c[f]);return k}({1:[function(h,n,d){function c(b,a){var e=b.getElementsByTagName(a);return e.length?e[0]:null}function k(b){b&&b.normalize&&b.normalize();return b&&b.firstChild&&b.firstChild.nodeValue}function l(b){b=[k(c(b,"LongitudeDegrees")),k(c(b,"LatitudeDegrees"))];for(var a=0,e=[];a<b.length;a++)e[a]=parseFloat(b[a]);return e}var f=h("__browserify_process");"undefined"!==
typeof XMLSerializer?new XMLSerializer:"object"!==typeof d||"object"!==typeof f||f.browser||new (h("xmldom").XMLSerializer);n.exports=function(b){function a(a){var b,e=a.getElementsByTagName("Trackpoint"),f=[];for(b=0;b<e.length;b++)f.push(l(e[b]));e=["TotalTimeSeconds","DistanceMeters","Calories","MaximumSpeed"];b={};var d;for(d=0;d<e.length;d++)b[e[d]]=parseFloat(k(c(a,e[d])));b.starttime=a.getAttribute("StartTime");a={};for(var A in b)b[A]&&(a[A]=b[A]);return{type:"Feature",properties:a,geometry:{type:"LineString",
coordinates:f}}}var e=b.getElementsByTagName("Lap"),f={type:"FeatureCollection",features:[],properties:{totalMeters:0,totalSeconds:0,startTime:""}};for(b=0;b<e.length;b++)f.features.push(a(e[b])),f.properties.totalMeters+=parseFloat(k(c(e[b],"DistanceMeters"))),f.properties.totalSeconds+=parseFloat(k(c(e[b],"TotalTimeSeconds"))),f.properties.startTime+=e[b].getAttribute("StartTime");return f}},{__browserify_process:3,xmldom:2}],2:[function(h,n,d){},{}],3:[function(h,n,d){h=n.exports={};h.nextTick=
function(){if("undefined"!==typeof window&&window.setImmediate)return function(c){return window.setImmediate(c)};if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var c=[];window.addEventListener("message",function(k){k.source===window&&"process-tick"===k.data&&(k.stopPropagation(),0<c.length&&c.shift()())},!0);return function(k){c.push(k);window.postMessage("process-tick","*")}}return function(c){setTimeout(c,0)}}();h.title="browser";h.browser=!0;h.env={};h.argv=[];h.binding=
function(c){throw Error("process.binding is not supported");};h.cwd=function(){return"/"};h.chdir=function(c){throw Error("process.chdir is not supported");}},{}]},{},[1])(1)});
require=function(){function B(h,n,d){function c(f,b){if(!n[f]){if(!h[f]){var a="function"==typeof require&&require;if(!b&&a)return a(f,!0);if(k)return k(f,!0);a=Error("Cannot find module '"+f+"'");throw a.code="MODULE_NOT_FOUND",a;}a=n[f]={exports:{}};h[f][0].call(a.exports,function(a){return c(h[f][1][a]||a)},a,a.exports,B,h,n,d)}return n[f].exports}for(var k="function"==typeof require&&require,l=0;l<d.length;l++)c(d[l]);return c}return B}()({1:[function(B,h,n){(function(d){function c(c,f){this.buffer=
c;this.position=0;this.isBigEndian=f||!1}function k(c,f,b){return function(){var a;a=this.isBigEndian?f.call(this.buffer,this.position):c.call(this.buffer,this.position);this.position+=b;return a}}h.exports=c;c.prototype.readUInt8=k(d.prototype.readUInt8,d.prototype.readUInt8,1);c.prototype.readUInt16=k(d.prototype.readUInt16LE,d.prototype.readUInt16BE,2);c.prototype.readUInt32=k(d.prototype.readUInt32LE,d.prototype.readUInt32BE,4);c.prototype.readInt8=k(d.prototype.readInt8,d.prototype.readInt8,
1);c.prototype.readInt16=k(d.prototype.readInt16LE,d.prototype.readInt16BE,2);c.prototype.readInt32=k(d.prototype.readInt32LE,d.prototype.readInt32BE,4);c.prototype.readFloat=k(d.prototype.readFloatLE,d.prototype.readFloatBE,4);c.prototype.readDouble=k(d.prototype.readDoubleLE,d.prototype.readDoubleBE,8);c.prototype.readVarInt=function(){var c,f=0,b=0;do c=this.buffer[this.position+b],f+=(c&127)<<7*b,b++;while(128<=c);this.position+=b;return f}}).call(this,B("buffer").Buffer)},{buffer:"buffer"}],
2:[function(B,h,n){(function(d){function c(c,f){this.buffer=new d(c);this.position=0;this.allowResize=f}function k(c,f){return function(b,a){this.ensureSize(f);c.call(this.buffer,b,this.position,a);this.position+=f}}h.exports=c;c.prototype.writeUInt8=k(d.prototype.writeUInt8,1);c.prototype.writeUInt16LE=k(d.prototype.writeUInt16LE,2);c.prototype.writeUInt16BE=k(d.prototype.writeUInt16BE,2);c.prototype.writeUInt32LE=k(d.prototype.writeUInt32LE,4);c.prototype.writeUInt32BE=k(d.prototype.writeUInt32BE,
4);c.prototype.writeInt8=k(d.prototype.writeInt8,1);c.prototype.writeInt16LE=k(d.prototype.writeInt16LE,2);c.prototype.writeInt16BE=k(d.prototype.writeInt16BE,2);c.prototype.writeInt32LE=k(d.prototype.writeInt32LE,4);c.prototype.writeInt32BE=k(d.prototype.writeInt32BE,4);c.prototype.writeFloatLE=k(d.prototype.writeFloatLE,4);c.prototype.writeFloatBE=k(d.prototype.writeFloatBE,4);c.prototype.writeDoubleLE=k(d.prototype.writeDoubleLE,8);c.prototype.writeDoubleBE=k(d.prototype.writeDoubleBE,8);c.prototype.writeBuffer=
function(c){this.ensureSize(c.length);c.copy(this.buffer,this.position,0,c.length);this.position+=c.length};c.prototype.writeVarInt=function(c){for(var f=1;0!==(c&4294967168);)this.writeUInt8(c&127|128),c>>>=7,f++;this.writeUInt8(c&127);return f};c.prototype.ensureSize=function(c){if(this.buffer.length<this.position+c)if(this.allowResize)c=new d(this.position+c),this.buffer.copy(c,0,0,this.buffer.length),this.buffer=c;else throw new RangeError("index out of range");}}).call(this,B("buffer").Buffer)},
{buffer:"buffer"}],3:[function(B,h,n){(function(d){function c(){this.srid=void 0;this.hasM=this.hasZ=!1}h.exports=c;var k=B("./types"),l=B("./point"),f=B("./linestring"),b=B("./polygon"),a=B("./multipoint"),e=B("./multilinestring"),A=B("./multipolygon"),t=B("./geometrycollection"),w=B("./binaryreader"),s=B("./binarywriter"),D=B("./wktparser"),y=B("./zigzag.js");c.parse=function(a,b){if("string"===typeof a||a instanceof D)return c._parseWkt(a);if(d.isBuffer(a)||a instanceof w)return c._parseWkb(a,
b);throw Error("first argument must be a string or Buffer");};c._parseWkt=function(c){var d;c=c instanceof D?c:new D(c);var s=c.matchRegex([/^SRID=((\d|\w)+);/]);s&&(d=parseInt(s[1],10),!d||isNaN(d))&&(d=1);var s=c.matchType(),w=c.matchDimension();d={srid:d,hasZ:w.hasZ,hasM:w.hasM};switch(s){case k.wkt.Point:return l._parseWkt(c,d);case k.wkt.LineString:return f._parseWkt(c,d);case k.wkt.Polygon:return b._parseWkt(c,d);case k.wkt.MultiPoint:return a._parseWkt(c,d);case k.wkt.MultiLineString:return e._parseWkt(c,
d);case k.wkt.MultiPolygon:return A._parseWkt(c,d);case k.wkt.GeometryCollection:return t._parseWkt(c,d)}};c._parseWkb=function(c,d){var s,y,m={};s=c instanceof w?c:new w(c);s.isBigEndian=!s.readInt8();y=s.readUInt32();m.hasSrid=536870912===(y&536870912);m.isEwkb=y&536870912||y&1073741824||y&2147483648;m.hasSrid&&(m.srid=s.readUInt32());m.hasZ=!1;m.hasM=!1;m.isEwkb||d&&d.isEwkb?(y&2147483648&&(m.hasZ=!0),y&1073741824&&(m.hasM=!0),y&=15):1E3<=y&&2E3>y?(m.hasZ=!0,y-=1E3):2E3<=y&&3E3>y?(m.hasM=!0,y-=
2E3):3E3<=y&&4E3>y&&(m.hasZ=!0,m.hasM=!0,y-=3E3);switch(y){case k.wkb.Point:return l._parseWkb(s,m);case k.wkb.LineString:return f._parseWkb(s,m);case k.wkb.Polygon:return b._parseWkb(s,m);case k.wkb.MultiPoint:return a._parseWkb(s,m);case k.wkb.MultiLineString:return e._parseWkb(s,m);case k.wkb.MultiPolygon:return A._parseWkb(s,m);case k.wkb.GeometryCollection:return t._parseWkb(s,m);default:throw Error("GeometryType "+y+" not supported");}};c.parseTwkb=function(c){var d={};c=c instanceof w?c:new w(c);
var s=c.readUInt8(),D=c.readUInt8(),m=s&15;d.precision=y.decode(s>>4);d.precisionFactor=Math.pow(10,d.precision);d.hasBoundingBox=D>>0&1;d.hasSizeAttribute=D>>1&1;d.hasIdList=D>>2&1;d.hasExtendedPrecision=D>>3&1;d.isEmpty=D>>4&1;d.hasExtendedPrecision?(s=c.readUInt8(),d.hasZ=1===(s&1),d.hasM=2===(s&2),d.zPrecision=y.decode((s&28)>>2),d.zPrecisionFactor=Math.pow(10,d.zPrecision),d.mPrecision=y.decode((s&224)>>5),d.mPrecisionFactor=Math.pow(10,d.mPrecision)):(d.hasZ=!1,d.hasM=!1);d.hasSizeAttribute&&
c.readVarInt();if(d.hasBoundingBox)for(s=2,d.hasZ&&s++,d.hasM&&s++,D=0;D<s;D++)c.readVarInt(),c.readVarInt();switch(m){case k.wkb.Point:return l._parseTwkb(c,d);case k.wkb.LineString:return f._parseTwkb(c,d);case k.wkb.Polygon:return b._parseTwkb(c,d);case k.wkb.MultiPoint:return a._parseTwkb(c,d);case k.wkb.MultiLineString:return e._parseTwkb(c,d);case k.wkb.MultiPolygon:return A._parseTwkb(c,d);case k.wkb.GeometryCollection:return t._parseTwkb(c,d);default:throw Error("GeometryType "+m+" not supported");
}};c.parseGeoJSON=function(a){return c._parseGeoJSON(a)};c._parseGeoJSON=function(c,d){var s;switch(c.type){case k.geoJSON.Point:s=l._parseGeoJSON(c);break;case k.geoJSON.LineString:s=f._parseGeoJSON(c);break;case k.geoJSON.Polygon:s=b._parseGeoJSON(c);break;case k.geoJSON.MultiPoint:s=a._parseGeoJSON(c);break;case k.geoJSON.MultiLineString:s=e._parseGeoJSON(c);break;case k.geoJSON.MultiPolygon:s=A._parseGeoJSON(c);break;case k.geoJSON.GeometryCollection:s=t._parseGeoJSON(c);break;default:throw Error("GeometryType "+
c.type+" not supported");}if(c.crs&&c.crs.type&&"name"===c.crs.type&&c.crs.properties&&c.crs.properties.name){var w=c.crs.properties.name;if(0===w.indexOf("EPSG:"))s.srid=parseInt(w.substring(5));else if(0===w.indexOf("urn:ogc:def:crs:EPSG::"))s.srid=parseInt(w.substring(22));else throw Error("Unsupported crs: "+w);}else d||(s.srid=4326);return s};c.prototype.toEwkt=function(){return"SRID="+(this.srid||"1")+";"+this.toWkt()};c.prototype.toEwkb=function(){var a=new s(this._getWkbSize()+4),b=this.toWkb();
a.writeInt8(1);a.writeUInt32LE((b.slice(1,5).readUInt32LE(0)|536870912)>>>0,!0);a.writeUInt32LE(this.srid);a.writeBuffer(b.slice(5));return a.buffer};c.prototype._getWktType=function(a,b){var e=a;this.hasZ&&this.hasM?e+=" ZM ":this.hasZ?e+=" Z ":this.hasM&&(e+=" M ");!b||this.hasZ||this.hasM||(e+=" ");b&&(e+="EMPTY");return e};c.prototype._getWktCoordinate=function(a){var b=a.x+" "+a.y;this.hasZ&&(b+=" "+a.z);this.hasM&&(b+=" "+a.m);return b};c.prototype._writeWkbType=function(a,b,e){var c=0;"undefined"!==
typeof this.srid||e&&"undefined"!==typeof e.srid?(this.hasZ&&(c|=2147483648),this.hasM&&(c|=1073741824)):this.hasZ&&this.hasM?c+=3E3:this.hasZ?c+=1E3:this.hasM&&(c+=2E3);a.writeUInt32LE(c+b>>>0,!0)};c.getTwkbPrecision=function(a,b,e){return{xy:a,z:b,m:e,xyFactor:Math.pow(10,a),zFactor:Math.pow(10,b),mFactor:Math.pow(10,e)}};c.prototype._writeTwkbHeader=function(a,b,e,c){b=(y.encode(e.xy)<<4)+b;e=(this.hasZ||this.hasM)<<3;e+=c<<4;a.writeUInt8(b);a.writeUInt8(e);if(this.hasZ||this.hasM)c=0,this.hasZ&&
(c|=1),this.hasM&&(c|=2),a.writeUInt8(c)};c.prototype.toGeoJSON=function(a){var b={};this.srid&&a&&(a.shortCrs?b.crs={type:"name",properties:{name:"EPSG:"+this.srid}}:a.longCrs&&(b.crs={type:"name",properties:{name:"urn:ogc:def:crs:EPSG::"+this.srid}}));return b}}).call(this,{isBuffer:B("../node_modules/is-buffer/index.js")})},{"../node_modules/is-buffer/index.js":17,"./binaryreader":1,"./binarywriter":2,"./geometrycollection":4,"./linestring":5,"./multilinestring":6,"./multipoint":7,"./multipolygon":8,
"./point":9,"./polygon":10,"./types":11,"./wktparser":12,"./zigzag.js":13}],4:[function(B,h,n){function d(c,b){k.call(this);this.geometries=c||[];this.srid=b;0<this.geometries.length&&(this.hasZ=this.geometries[0].hasZ,this.hasM=this.geometries[0].hasM)}h.exports=d;h=B("util");var c=B("./types"),k=B("./geometry"),l=B("./binarywriter");h.inherits(d,k);d.Z=function(c,b){var a=new d(c,b);a.hasZ=!0;return a};d.M=function(c,b){var a=new d(c,b);a.hasM=!0;return a};d.ZM=function(c,b){var a=new d(c,b);a.hasZ=
!0;a.hasM=!0;return a};d._parseWkt=function(c,b){var a=new d;a.srid=b.srid;a.hasZ=b.hasZ;a.hasM=b.hasM;if(c.isMatch(["EMPTY"]))return a;c.expectGroupStart();do a.geometries.push(k.parse(c));while(c.isMatch([","]));c.expectGroupEnd();return a};d._parseWkb=function(c,b){var a=new d;a.srid=b.srid;a.hasZ=b.hasZ;a.hasM=b.hasM;for(var e=c.readUInt32(),A=0;A<e;A++)a.geometries.push(k.parse(c,b));return a};d._parseTwkb=function(c,b){var a=new d;a.hasZ=b.hasZ;a.hasM=b.hasM;if(b.isEmpty)return a;for(var e=
c.readVarInt(),A=0;A<e;A++)a.geometries.push(k.parseTwkb(c));return a};d._parseGeoJSON=function(c){for(var b=new d,a=0;a<c.geometries.length;a++)b.geometries.push(k._parseGeoJSON(c.geometries[a],!0));0<b.geometries.length&&(b.hasZ=b.geometries[0].hasZ);return b};d.prototype.toWkt=function(){if(0===this.geometries.length)return this._getWktType(c.wkt.GeometryCollection,!0);for(var f=this._getWktType(c.wkt.GeometryCollection,!1)+"(",b=0;b<this.geometries.length;b++)f+=this.geometries[b].toWkt()+",";
f=f.slice(0,-1);return f+")"};d.prototype.toWkb=function(){var f=new l(this._getWkbSize());f.writeInt8(1);this._writeWkbType(f,c.wkb.GeometryCollection);f.writeUInt32LE(this.geometries.length);for(var b=0;b<this.geometries.length;b++)f.writeBuffer(this.geometries[b].toWkb({srid:this.srid}));return f.buffer};d.prototype.toTwkb=function(){var f=new l(0,!0),b=k.getTwkbPrecision(5,0,0);this._writeTwkbHeader(f,c.wkb.GeometryCollection,b,0===this.geometries.length);if(0<this.geometries.length)for(f.writeVarInt(this.geometries.length),
b=0;b<this.geometries.length;b++)f.writeBuffer(this.geometries[b].toTwkb());return f.buffer};d.prototype._getWkbSize=function(){for(var c=9,b=0;b<this.geometries.length;b++)c+=this.geometries[b]._getWkbSize();return c};d.prototype.toGeoJSON=function(f){f=k.prototype.toGeoJSON.call(this,f);f.type=c.geoJSON.GeometryCollection;f.geometries=[];for(var b=0;b<this.geometries.length;b++)f.geometries.push(this.geometries[b].toGeoJSON());return f}},{"./binarywriter":2,"./geometry":3,"./types":11,util:20}],
5:[function(B,h,n){function d(b,a){c.call(this);this.points=b||[];this.srid=a;0<this.points.length&&(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}h.exports=d;h=B("util");var c=B("./geometry"),k=B("./types"),l=B("./point"),f=B("./binarywriter");h.inherits(d,c);d.Z=function(b,a){var e=new d(b,a);e.hasZ=!0;return e};d.M=function(b,a){var e=new d(b,a);e.hasM=!0;return e};d.ZM=function(b,a){var e=new d(b,a);e.hasZ=!0;e.hasM=!0;return e};d._parseWkt=function(b,a){var e=new d;e.srid=a.srid;
e.hasZ=a.hasZ;e.hasM=a.hasM;if(b.isMatch(["EMPTY"]))return e;b.expectGroupStart();e.points.push.apply(e.points,b.matchCoordinates(a));b.expectGroupEnd();return e};d._parseWkb=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;for(var c=b.readUInt32(),f=0;f<c;f++)e.points.push(l._readWkbPoint(b,a));return e};d._parseTwkb=function(b,a){var e=new d;e.hasZ=a.hasZ;e.hasM=a.hasM;if(a.isEmpty)return e;for(var c=new l(0,0,a.hasZ?0:void 0,a.hasM?0:void 0),f=b.readVarInt(),k=0;k<f;k++)e.points.push(l._readTwkbPoint(b,
a,c));return e};d._parseGeoJSON=function(b){var a=new d;0<b.coordinates.length&&(a.hasZ=2<b.coordinates[0].length);for(var e=0;e<b.coordinates.length;e++)a.points.push(l._readGeoJSONPoint(b.coordinates[e]));return a};d.prototype.toWkt=function(){return 0===this.points.length?this._getWktType(k.wkt.LineString,!0):this._getWktType(k.wkt.LineString,!1)+this._toInnerWkt()};d.prototype._toInnerWkt=function(){for(var b="(",a=0;a<this.points.length;a++)b+=this._getWktCoordinate(this.points[a])+",";b=b.slice(0,
-1);return b+")"};d.prototype.toWkb=function(b){var a=new f(this._getWkbSize());a.writeInt8(1);this._writeWkbType(a,k.wkb.LineString,b);a.writeUInt32LE(this.points.length);for(b=0;b<this.points.length;b++)this.points[b]._writeWkbPoint(a);return a.buffer};d.prototype.toTwkb=function(){var b=new f(0,!0),a=c.getTwkbPrecision(5,0,0);this._writeTwkbHeader(b,k.wkb.LineString,a,0===this.points.length);if(0<this.points.length){b.writeVarInt(this.points.length);for(var e=new l(0,0,0,0),d=0;d<this.points.length;d++)this.points[d]._writeTwkbPoint(b,
a,e)}return b.buffer};d.prototype._getWkbSize=function(){var b=16;this.hasZ&&(b+=8);this.hasM&&(b+=8);return 9+this.points.length*b};d.prototype.toGeoJSON=function(b){b=c.prototype.toGeoJSON.call(this,b);b.type=k.geoJSON.LineString;b.coordinates=[];for(var a=0;a<this.points.length;a++)this.hasZ?b.coordinates.push([this.points[a].x,this.points[a].y,this.points[a].z]):b.coordinates.push([this.points[a].x,this.points[a].y]);return b}},{"./binarywriter":2,"./geometry":3,"./point":9,"./types":11,util:20}],
6:[function(B,h,n){function d(a,b){k.call(this);this.lineStrings=a||[];this.srid=b;0<this.lineStrings.length&&(this.hasZ=this.lineStrings[0].hasZ,this.hasM=this.lineStrings[0].hasM)}h.exports=d;h=B("util");var c=B("./types"),k=B("./geometry"),l=B("./point"),f=B("./linestring"),b=B("./binarywriter");h.inherits(d,k);d.Z=function(a,b){var c=new d(a,b);c.hasZ=!0;return c};d.M=function(a,b){var c=new d(a,b);c.hasM=!0;return c};d.ZM=function(a,b){var c=new d(a,b);c.hasZ=!0;c.hasM=!0;return c};d._parseWkt=
function(a,b){var c=new d;c.srid=b.srid;c.hasZ=b.hasZ;c.hasM=b.hasM;if(a.isMatch(["EMPTY"]))return c;a.expectGroupStart();do a.expectGroupStart(),c.lineStrings.push(new f(a.matchCoordinates(b))),a.expectGroupEnd();while(a.isMatch([","]));a.expectGroupEnd();return c};d._parseWkb=function(a,b){var c=new d;c.srid=b.srid;c.hasZ=b.hasZ;c.hasM=b.hasM;for(var f=a.readUInt32(),l=0;l<f;l++)c.lineStrings.push(k.parse(a,b));return c};d._parseTwkb=function(a,b){var c=new d;c.hasZ=b.hasZ;c.hasM=b.hasM;if(b.isEmpty)return c;
for(var k=new l(0,0,b.hasZ?0:void 0,b.hasM?0:void 0),w=a.readVarInt(),s=0;s<w;s++){var D=new f;D.hasZ=b.hasZ;D.hasM=b.hasM;for(var y=a.readVarInt(),h=0;h<y;h++)D.points.push(l._readTwkbPoint(a,b,k));c.lineStrings.push(D)}return c};d._parseGeoJSON=function(a){var b=new d;0<a.coordinates.length&&0<a.coordinates[0].length&&(b.hasZ=2<a.coordinates[0][0].length);for(var c=0;c<a.coordinates.length;c++)b.lineStrings.push(f._parseGeoJSON({coordinates:a.coordinates[c]}));return b};d.prototype.toWkt=function(){if(0===
this.lineStrings.length)return this._getWktType(c.wkt.MultiLineString,!0);for(var a=this._getWktType(c.wkt.MultiLineString,!1)+"(",b=0;b<this.lineStrings.length;b++)a+=this.lineStrings[b]._toInnerWkt()+",";a=a.slice(0,-1);return a+")"};d.prototype.toWkb=function(){var a=new b(this._getWkbSize());a.writeInt8(1);this._writeWkbType(a,c.wkb.MultiLineString);a.writeUInt32LE(this.lineStrings.length);for(var e=0;e<this.lineStrings.length;e++)a.writeBuffer(this.lineStrings[e].toWkb({srid:this.srid}));return a.buffer};
d.prototype.toTwkb=function(){var a=new b(0,!0),e=k.getTwkbPrecision(5,0,0);this._writeTwkbHeader(a,c.wkb.MultiLineString,e,0===this.lineStrings.length);if(0<this.lineStrings.length){a.writeVarInt(this.lineStrings.length);for(var f=new l(0,0,0,0),d=0;d<this.lineStrings.length;d++){a.writeVarInt(this.lineStrings[d].points.length);for(var w=0;w<this.lineStrings[d].points.length;w++)this.lineStrings[d].points[w]._writeTwkbPoint(a,e,f)}}return a.buffer};d.prototype._getWkbSize=function(){for(var a=9,
b=0;b<this.lineStrings.length;b++)a+=this.lineStrings[b]._getWkbSize();return a};d.prototype.toGeoJSON=function(a){a=k.prototype.toGeoJSON.call(this,a);a.type=c.geoJSON.MultiLineString;a.coordinates=[];for(var b=0;b<this.lineStrings.length;b++)a.coordinates.push(this.lineStrings[b].toGeoJSON().coordinates);return a}},{"./binarywriter":2,"./geometry":3,"./linestring":5,"./point":9,"./types":11,util:20}],7:[function(B,h,n){function d(b,a){k.call(this);this.points=b||[];this.srid=a;0<this.points.length&&
(this.hasZ=this.points[0].hasZ,this.hasM=this.points[0].hasM)}h.exports=d;h=B("util");var c=B("./types"),k=B("./geometry"),l=B("./point"),f=B("./binarywriter");h.inherits(d,k);d.Z=function(b,a){var e=new d(b,a);e.hasZ=!0;return e};d.M=function(b,a){var e=new d(b,a);e.hasM=!0;return e};d.ZM=function(b,a){var e=new d(b,a);e.hasZ=!0;e.hasM=!0;return e};d._parseWkt=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;if(b.isMatch(["EMPTY"]))return e;b.expectGroupStart();e.points.push.apply(e.points,
b.matchCoordinates(a));b.expectGroupEnd();return e};d._parseWkb=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;for(var c=b.readUInt32(),f=0;f<c;f++)e.points.push(k.parse(b,a));return e};d._parseTwkb=function(b,a){var e=new d;e.hasZ=a.hasZ;e.hasM=a.hasM;if(a.isEmpty)return e;for(var c=new l(0,0,a.hasZ?0:void 0,a.hasM?0:void 0),f=b.readVarInt(),k=0;k<f;k++)e.points.push(l._readTwkbPoint(b,a,c));return e};d._parseGeoJSON=function(b){var a=new d;0<b.coordinates.length&&(a.hasZ=2<
b.coordinates[0].length);for(var e=0;e<b.coordinates.length;e++)a.points.push(l._parseGeoJSON({coordinates:b.coordinates[e]}));return a};d.prototype.toWkt=function(){if(0===this.points.length)return this._getWktType(c.wkt.MultiPoint,!0);for(var b=this._getWktType(c.wkt.MultiPoint,!1)+"(",a=0;a<this.points.length;a++)b+=this._getWktCoordinate(this.points[a])+",";b=b.slice(0,-1);return b+")"};d.prototype.toWkb=function(){var b=new f(this._getWkbSize());b.writeInt8(1);this._writeWkbType(b,c.wkb.MultiPoint);
b.writeUInt32LE(this.points.length);for(var a=0;a<this.points.length;a++)b.writeBuffer(this.points[a].toWkb({srid:this.srid}));return b.buffer};d.prototype.toTwkb=function(){var b=new f(0,!0),a=k.getTwkbPrecision(5,0,0);this._writeTwkbHeader(b,c.wkb.MultiPoint,a,0===this.points.length);if(0<this.points.length){b.writeVarInt(this.points.length);for(var e=new l(0,0,0,0),d=0;d<this.points.length;d++)this.points[d]._writeTwkbPoint(b,a,e)}return b.buffer};d.prototype._getWkbSize=function(){var b=16;this.hasZ&&
(b+=8);this.hasM&&(b+=8);return 9+this.points.length*(b+5)};d.prototype.toGeoJSON=function(b){b=k.prototype.toGeoJSON.call(this,b);b.type=c.geoJSON.MultiPoint;b.coordinates=[];for(var a=0;a<this.points.length;a++)b.coordinates.push(this.points[a].toGeoJSON().coordinates);return b}},{"./binarywriter":2,"./geometry":3,"./point":9,"./types":11,util:20}],8:[function(B,h,n){function d(a,b){k.call(this);this.polygons=a||[];this.srid=b;0<this.polygons.length&&(this.hasZ=this.polygons[0].hasZ,this.hasM=this.polygons[0].hasM)}
h.exports=d;h=B("util");var c=B("./types"),k=B("./geometry"),l=B("./point"),f=B("./polygon"),b=B("./binarywriter");h.inherits(d,k);d.Z=function(a,b){var c=new d(a,b);c.hasZ=!0;return c};d.M=function(a,b){var c=new d(a,b);c.hasM=!0;return c};d.ZM=function(a,b){var c=new d(a,b);c.hasZ=!0;c.hasM=!0;return c};d._parseWkt=function(a,b){var c=new d;c.srid=b.srid;c.hasZ=b.hasZ;c.hasM=b.hasM;if(a.isMatch(["EMPTY"]))return c;a.expectGroupStart();do{a.expectGroupStart();var k=[],l=[];a.expectGroupStart();k.push.apply(k,
a.matchCoordinates(b));for(a.expectGroupEnd();a.isMatch([","]);)a.expectGroupStart(),l.push(a.matchCoordinates(b)),a.expectGroupEnd();c.polygons.push(new f(k,l));a.expectGroupEnd()}while(a.isMatch([","]));a.expectGroupEnd();return c};d._parseWkb=function(a,b){var c=new d;c.srid=b.srid;c.hasZ=b.hasZ;c.hasM=b.hasM;for(var f=a.readUInt32(),l=0;l<f;l++)c.polygons.push(k.parse(a,b));return c};d._parseTwkb=function(a,b){var c=new d;c.hasZ=b.hasZ;c.hasM=b.hasM;if(b.isEmpty)return c;for(var k=new l(0,0,b.hasZ?
0:void 0,b.hasM?0:void 0),w=a.readVarInt(),s=0;s<w;s++){var D=new f;D.hasZ=b.hasZ;D.hasM=b.hasM;for(var y=a.readVarInt(),h=a.readVarInt(),x=0;x<h;x++)D.exteriorRing.push(l._readTwkbPoint(a,b,k));for(x=1;x<y;x++){for(var h=[],G=a.readVarInt(),n=0;n<G;n++)h.push(l._readTwkbPoint(a,b,k));D.interiorRings.push(h)}c.polygons.push(D)}return c};d._parseGeoJSON=function(a){var b=new d;0<a.coordinates.length&&0<a.coordinates[0].length&&0<a.coordinates[0][0].length&&(b.hasZ=2<a.coordinates[0][0][0].length);
for(var c=0;c<a.coordinates.length;c++)b.polygons.push(f._parseGeoJSON({coordinates:a.coordinates[c]}));return b};d.prototype.toWkt=function(){if(0===this.polygons.length)return this._getWktType(c.wkt.MultiPolygon,!0);for(var a=this._getWktType(c.wkt.MultiPolygon,!1)+"(",b=0;b<this.polygons.length;b++)a+=this.polygons[b]._toInnerWkt()+",";a=a.slice(0,-1);return a+")"};d.prototype.toWkb=function(){var a=new b(this._getWkbSize());a.writeInt8(1);this._writeWkbType(a,c.wkb.MultiPolygon);a.writeUInt32LE(this.polygons.length);
for(var e=0;e<this.polygons.length;e++)a.writeBuffer(this.polygons[e].toWkb({srid:this.srid}));return a.buffer};d.prototype.toTwkb=function(){var a=new b(0,!0),e=k.getTwkbPrecision(5,0,0);this._writeTwkbHeader(a,c.wkb.MultiPolygon,e,0===this.polygons.length);if(0<this.polygons.length){a.writeVarInt(this.polygons.length);for(var f=new l(0,0,0,0),d=0;d<this.polygons.length;d++){a.writeVarInt(1+this.polygons[d].interiorRings.length);a.writeVarInt(this.polygons[d].exteriorRing.length);for(var w=0;w<this.polygons[d].exteriorRing.length;w++)this.polygons[d].exteriorRing[w]._writeTwkbPoint(a,
e,f);for(w=0;w<this.polygons[d].interiorRings.length;w++){a.writeVarInt(this.polygons[d].interiorRings[w].length);for(var s=0;s<this.polygons[d].interiorRings[w].length;s++)this.polygons[d].interiorRings[w][s]._writeTwkbPoint(a,e,f)}}}return a.buffer};d.prototype._getWkbSize=function(){for(var a=9,b=0;b<this.polygons.length;b++)a+=this.polygons[b]._getWkbSize();return a};d.prototype.toGeoJSON=function(a){a=k.prototype.toGeoJSON.call(this,a);a.type=c.geoJSON.MultiPolygon;a.coordinates=[];for(var b=
0;b<this.polygons.length;b++)a.coordinates.push(this.polygons[b].toGeoJSON().coordinates);return a}},{"./binarywriter":2,"./geometry":3,"./point":9,"./polygon":10,"./types":11,util:20}],9:[function(B,h,n){function d(b,a,e,f,d){c.call(this);this.x=b;this.y=a;this.z=e;this.m=f;this.srid=d;this.hasZ="undefined"!==typeof this.z;this.hasM="undefined"!==typeof this.m}h.exports=d;h=B("util");var c=B("./geometry"),k=B("./types"),l=B("./binarywriter"),f=B("./zigzag.js");h.inherits(d,c);d.Z=function(b,a,e,
c){b=new d(b,a,e,void 0,c);b.hasZ=!0;return b};d.M=function(b,a,e,c){b=new d(b,a,void 0,e,c);b.hasM=!0;return b};d.ZM=function(b,a,e,c,f){b=new d(b,a,e,c,f);b.hasZ=!0;b.hasM=!0;return b};d._parseWkt=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;if(b.isMatch(["EMPTY"]))return e;b.expectGroupStart();var c=b.matchCoordinate(a);e.x=c.x;e.y=c.y;e.z=c.z;e.m=c.m;b.expectGroupEnd();return e};d._parseWkb=function(b,a){var e=d._readWkbPoint(b,a);e.srid=a.srid;return e};d._readWkbPoint=
function(b,a){return new d(b.readDouble(),b.readDouble(),a.hasZ?b.readDouble():void 0,a.hasM?b.readDouble():void 0)};d._parseTwkb=function(b,a){var e=new d;e.hasZ=a.hasZ;e.hasM=a.hasM;if(a.isEmpty)return e;e.x=f.decode(b.readVarInt())/a.precisionFactor;e.y=f.decode(b.readVarInt())/a.precisionFactor;e.z=a.hasZ?f.decode(b.readVarInt())/a.zPrecisionFactor:void 0;e.m=a.hasM?f.decode(b.readVarInt())/a.mPrecisionFactor:void 0;return e};d._readTwkbPoint=function(b,a,e){e.x+=f.decode(b.readVarInt())/a.precisionFactor;
e.y+=f.decode(b.readVarInt())/a.precisionFactor;a.hasZ&&(e.z+=f.decode(b.readVarInt())/a.zPrecisionFactor);a.hasM&&(e.m+=f.decode(b.readVarInt())/a.mPrecisionFactor);return new d(e.x,e.y,e.z,e.m)};d._parseGeoJSON=function(b){return d._readGeoJSONPoint(b.coordinates)};d._readGeoJSONPoint=function(b){return 0===b.length?new d:2<b.length?new d(b[0],b[1],b[2]):new d(b[0],b[1])};d.prototype.toWkt=function(){return"undefined"===typeof this.x&&"undefined"===typeof this.y&&"undefined"===typeof this.z&&"undefined"===
typeof this.m?this._getWktType(k.wkt.Point,!0):this._getWktType(k.wkt.Point,!1)+"("+this._getWktCoordinate(this)+")"};d.prototype.toWkb=function(b){var a=new l(this._getWkbSize());a.writeInt8(1);this._writeWkbType(a,k.wkb.Point,b);"undefined"===typeof this.x&&"undefined"===typeof this.y?(a.writeDoubleLE(NaN),a.writeDoubleLE(NaN),this.hasZ&&a.writeDoubleLE(NaN),this.hasM&&a.writeDoubleLE(NaN)):this._writeWkbPoint(a);return a.buffer};d.prototype._writeWkbPoint=function(b){b.writeDoubleLE(this.x);b.writeDoubleLE(this.y);
this.hasZ&&b.writeDoubleLE(this.z);this.hasM&&b.writeDoubleLE(this.m)};d.prototype.toTwkb=function(){var b=new l(0,!0),a=c.getTwkbPrecision(5,0,0),e="undefined"===typeof this.x&&"undefined"===typeof this.y;this._writeTwkbHeader(b,k.wkb.Point,a,e);e||this._writeTwkbPoint(b,a,new d(0,0,0,0));return b.buffer};d.prototype._writeTwkbPoint=function(b,a,e){var c=this.x*a.xyFactor,d=this.y*a.xyFactor,k=this.z*a.zFactor;a=this.m*a.mFactor;b.writeVarInt(f.encode(c-e.x));b.writeVarInt(f.encode(d-e.y));this.hasZ&&
b.writeVarInt(f.encode(k-e.z));this.hasM&&b.writeVarInt(f.encode(a-e.m));e.x=c;e.y=d;e.z=k;e.m=a};d.prototype._getWkbSize=function(){var b=21;this.hasZ&&(b+=8);this.hasM&&(b+=8);return b};d.prototype.toGeoJSON=function(b){b=c.prototype.toGeoJSON.call(this,b);b.type=k.geoJSON.Point;b.coordinates="undefined"===typeof this.x&&"undefined"===typeof this.y?[]:"undefined"!==typeof this.z?[this.x,this.y,this.z]:[this.x,this.y];return b}},{"./binarywriter":2,"./geometry":3,"./types":11,"./zigzag.js":13,util:20}],
10:[function(B,h,n){function d(b,a,e){c.call(this);this.exteriorRing=b||[];this.interiorRings=a||[];this.srid=e;0<this.exteriorRing.length&&(this.hasZ=this.exteriorRing[0].hasZ,this.hasM=this.exteriorRing[0].hasM)}h.exports=d;h=B("util");var c=B("./geometry"),k=B("./types"),l=B("./point"),f=B("./binarywriter");h.inherits(d,c);d.Z=function(b,a,e){b=new d(b,a,e);b.hasZ=!0;return b};d.M=function(b,a,e){b=new d(b,a,e);b.hasM=!0;return b};d.ZM=function(b,a,e){b=new d(b,a,e);b.hasZ=!0;b.hasM=!0;return b};
d._parseWkt=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;if(b.isMatch(["EMPTY"]))return e;b.expectGroupStart();b.expectGroupStart();e.exteriorRing.push.apply(e.exteriorRing,b.matchCoordinates(a));for(b.expectGroupEnd();b.isMatch([","]);)b.expectGroupStart(),e.interiorRings.push(b.matchCoordinates(a)),b.expectGroupEnd();b.expectGroupEnd();return e};d._parseWkb=function(b,a){var e=new d;e.srid=a.srid;e.hasZ=a.hasZ;e.hasM=a.hasM;var c=b.readUInt32();if(0<c){for(var f=b.readUInt32(),
k=0;k<f;k++)e.exteriorRing.push(l._readWkbPoint(b,a));for(k=1;k<c;k++){for(var f=[],s=b.readUInt32(),D=0;D<s;D++)f.push(l._readWkbPoint(b,a));e.interiorRings.push(f)}}return e};d._parseTwkb=function(b,a){var e=new d;e.hasZ=a.hasZ;e.hasM=a.hasM;if(a.isEmpty)return e;for(var c=new l(0,0,a.hasZ?0:void 0,a.hasM?0:void 0),f=b.readVarInt(),k=b.readVarInt(),s=0;s<k;s++)e.exteriorRing.push(l._readTwkbPoint(b,a,c));for(s=1;s<f;s++){for(var k=[],D=b.readVarInt(),y=0;y<D;y++)k.push(l._readTwkbPoint(b,a,c));
e.interiorRings.push(k)}return e};d._parseGeoJSON=function(b){var a=new d;0<b.coordinates.length&&0<b.coordinates[0].length&&(a.hasZ=2<b.coordinates[0][0].length);for(var c=0;c<b.coordinates.length;c++){0<c&&a.interiorRings.push([]);for(var f=0;f<b.coordinates[c].length;f++)0===c?a.exteriorRing.push(l._readGeoJSONPoint(b.coordinates[c][f])):a.interiorRings[c-1].push(l._readGeoJSONPoint(b.coordinates[c][f]))}return a};d.prototype.toWkt=function(){return 0===this.exteriorRing.length?this._getWktType(k.wkt.Polygon,
!0):this._getWktType(k.wkt.Polygon,!1)+this._toInnerWkt()};d.prototype._toInnerWkt=function(){for(var b="((",a=0;a<this.exteriorRing.length;a++)b+=this._getWktCoordinate(this.exteriorRing[a])+",";b=b.slice(0,-1);b+=")";for(a=0;a<this.interiorRings.length;a++){for(var b=b+",(",c=0;c<this.interiorRings[a].length;c++)b+=this._getWktCoordinate(this.interiorRings[a][c])+",";b=b.slice(0,-1);b+=")"}return b+")"};d.prototype.toWkb=function(b){var a=new f(this._getWkbSize());a.writeInt8(1);this._writeWkbType(a,
k.wkb.Polygon,b);0<this.exteriorRing.length?(a.writeUInt32LE(1+this.interiorRings.length),a.writeUInt32LE(this.exteriorRing.length)):a.writeUInt32LE(0);for(b=0;b<this.exteriorRing.length;b++)this.exteriorRing[b]._writeWkbPoint(a);for(b=0;b<this.interiorRings.length;b++){a.writeUInt32LE(this.interiorRings[b].length);for(var c=0;c<this.interiorRings[b].length;c++)this.interiorRings[b][c]._writeWkbPoint(a)}return a.buffer};d.prototype.toTwkb=function(){var b=new f(0,!0),a=c.getTwkbPrecision(5,0,0);this._writeTwkbHeader(b,
k.wkb.Polygon,a,0===this.exteriorRing.length);if(0<this.exteriorRing.length){b.writeVarInt(1+this.interiorRings.length);b.writeVarInt(this.exteriorRing.length);for(var e=new l(0,0,0,0),d=0;d<this.exteriorRing.length;d++)this.exteriorRing[d]._writeTwkbPoint(b,a,e);for(d=0;d<this.interiorRings.length;d++){b.writeVarInt(this.interiorRings[d].length);for(var t=0;t<this.interiorRings[d].length;t++)this.interiorRings[d][t]._writeTwkbPoint(b,a,e)}}return b.buffer};d.prototype._getWkbSize=function(){var b=
16;this.hasZ&&(b+=8);this.hasM&&(b+=8);var a=9;0<this.exteriorRing.length&&(a+=4+this.exteriorRing.length*b);for(var c=0;c<this.interiorRings.length;c++)a+=4+this.interiorRings[c].length*b;return a};d.prototype.toGeoJSON=function(b){b=c.prototype.toGeoJSON.call(this,b);b.type=k.geoJSON.Polygon;b.coordinates=[];if(0<this.exteriorRing.length){for(var a=[],e=0;e<this.exteriorRing.length;e++)this.hasZ?a.push([this.exteriorRing[e].x,this.exteriorRing[e].y,this.exteriorRing[e].z]):a.push([this.exteriorRing[e].x,
this.exteriorRing[e].y]);b.coordinates.push(a)}for(a=0;a<this.interiorRings.length;a++){for(var e=[],f=0;f<this.interiorRings[a].length;f++)this.hasZ?e.push([this.interiorRings[a][f].x,this.interiorRings[a][f].y,this.interiorRings[a][f].z]):e.push([this.interiorRings[a][f].x,this.interiorRings[a][f].y]);b.coordinates.push(e)}return b}},{"./binarywriter":2,"./geometry":3,"./point":9,"./types":11,util:20}],11:[function(B,h,n){h.exports={wkt:{Point:"POINT",LineString:"LINESTRING",Polygon:"POLYGON",MultiPoint:"MULTIPOINT",
MultiLineString:"MULTILINESTRING",MultiPolygon:"MULTIPOLYGON",GeometryCollection:"GEOMETRYCOLLECTION"},wkb:{Point:1,LineString:2,Polygon:3,MultiPoint:4,MultiLineString:5,MultiPolygon:6,GeometryCollection:7},geoJSON:{Point:"Point",LineString:"LineString",Polygon:"Polygon",MultiPoint:"MultiPoint",MultiLineString:"MultiLineString",MultiPolygon:"MultiPolygon",GeometryCollection:"GeometryCollection"}}},{}],12:[function(B,h,n){function d(c){this.value=c;this.position=0}h.exports=d;var c=B("./types"),k=
B("./point");d.prototype.match=function(c){this.skipWhitespaces();for(var f=0;f<c.length;f++)if(0===this.value.substring(this.position).indexOf(c[f]))return this.position+=c[f].length,c[f];return null};d.prototype.matchRegex=function(c){this.skipWhitespaces();for(var f=0;f<c.length;f++){var b=this.value.substring(this.position).match(c[f]);if(b)return this.position+=b[0].length,b}return null};d.prototype.isMatch=function(c){this.skipWhitespaces();for(var f=0;f<c.length;f++)if(0===this.value.substring(this.position).indexOf(c[f]))return this.position+=
c[f].length,!0;return!1};d.prototype.matchType=function(){var d=this.match([c.wkt.Point,c.wkt.LineString,c.wkt.Polygon,c.wkt.MultiPoint,c.wkt.MultiLineString,c.wkt.MultiPolygon,c.wkt.GeometryCollection]);if(!d)throw Error("Expected geometry type");return d};d.prototype.matchDimension=function(){switch(this.match(["ZM","Z","M"])){case "ZM":return{hasZ:!0,hasM:!0};case "Z":return{hasZ:!0,hasM:!1};case "M":return{hasZ:!1,hasM:!0};default:return{hasZ:!1,hasM:!1}}};d.prototype.expectGroupStart=function(){if(!this.isMatch(["("]))throw Error("Expected group start");
};d.prototype.expectGroupEnd=function(){if(!this.isMatch([")"]))throw Error("Expected group end");};d.prototype.matchCoordinate=function(c){var f;f=c.hasZ&&c.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+(\S*)\s+([^\s,)]*)/]):c.hasZ||c.hasM?this.matchRegex([/^(\S*)\s+(\S*)\s+([^\s,)]*)/]):this.matchRegex([/^(\S*)\s+([^\s,)]*)/]);if(!f)throw Error("Expected coordinates");return c.hasZ&&c.hasM?new k(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]),parseFloat(f[4])):c.hasZ?new k(parseFloat(f[1]),parseFloat(f[2]),
parseFloat(f[3])):c.hasM?new k(parseFloat(f[1]),parseFloat(f[2]),void 0,parseFloat(f[3])):new k(parseFloat(f[1]),parseFloat(f[2]))};d.prototype.matchCoordinates=function(c){var f=[];do{var b=this.isMatch(["("]);f.push(this.matchCoordinate(c));b&&this.expectGroupEnd()}while(this.isMatch([","]));return f};d.prototype.skipWhitespaces=function(){for(;this.position<this.value.length&&" "===this.value[this.position];)this.position++}},{"./point":9,"./types":11}],13:[function(B,h,n){h.exports={encode:function(d){return d<<
1^d>>31},decode:function(d){return d>>1^-(d&1)}}},{}],14:[function(B,h,n){function d(b){var a=b.length;if(0<a%4)throw Error("Invalid string. Length must be a multiple of 4");b=b.indexOf("=");-1===b&&(b=a);return[b,b===a?0:4-b%4]}function c(b,a,c){for(var f=[],d=a;d<c;d+=3)a=(b[d]<<16&16711680)+(b[d+1]<<8&65280)+(b[d+2]&255),f.push(k[a>>18&63]+k[a>>12&63]+k[a>>6&63]+k[a&63]);return f.join("")}n.byteLength=function(b){b=d(b);var a=b[1];return 3*(b[0]+a)/4-a};n.toByteArray=function(b){var a,c=d(b);a=
c[0];for(var c=c[1],k=new f(3*(a+c)/4-c),t=0,w=0<c?a-4:a,s=0;s<w;s+=4)a=l[b.charCodeAt(s)]<<18|l[b.charCodeAt(s+1)]<<12|l[b.charCodeAt(s+2)]<<6|l[b.charCodeAt(s+3)],k[t++]=a>>16&255,k[t++]=a>>8&255,k[t++]=a&255;2===c&&(a=l[b.charCodeAt(s)]<<2|l[b.charCodeAt(s+1)]>>4,k[t++]=a&255);1===c&&(a=l[b.charCodeAt(s)]<<10|l[b.charCodeAt(s+1)]<<4|l[b.charCodeAt(s+2)]>>2,k[t++]=a>>8&255,k[t++]=a&255);return k};n.fromByteArray=function(b){for(var a=b.length,e=a%3,f=[],d=0,l=a-e;d<l;d+=16383)f.push(c(b,d,d+16383>
l?l:d+16383));1===e?(b=b[a-1],f.push(k[b>>2]+k[b<<4&63]+"==")):2===e&&(b=(b[a-2]<<8)+b[a-1],f.push(k[b>>10]+k[b>>4&63]+k[b<<2&63]+"="));return f.join("")};var k=[],l=[],f="undefined"!==typeof Uint8Array?Uint8Array:Array;for(B=0;64>B;++B)k[B]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[B],l["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(B)]=B;l[45]=62;l[95]=63},{}],15:[function(B,h,n){n.read=function(d,c,k,l,f){var b;b=8*f-l-1;var a=(1<<b)-1,e=
a>>1,A=-7;f=k?f-1:0;var t=k?-1:1,w=d[c+f];f+=t;k=w&(1<<-A)-1;w>>=-A;for(A+=b;0<A;k=256*k+d[c+f],f+=t,A-=8);b=k&(1<<-A)-1;k>>=-A;for(A+=l;0<A;b=256*b+d[c+f],f+=t,A-=8);if(0===k)k=1-e;else{if(k===a)return b?NaN:Infinity*(w?-1:1);b+=Math.pow(2,l);k-=e}return(w?-1:1)*b*Math.pow(2,k-l)};n.write=function(d,c,k,l,f,b){var a,e=8*b-f-1,A=(1<<e)-1,t=A>>1,w=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;b=l?0:b-1;var s=l?1:-1,D=0>c||0===c&&0>1/c?1:0;c=Math.abs(c);isNaN(c)||Infinity===c?(c=isNaN(c)?1:0,l=A):(l=Math.floor(Math.log(c)/
Math.LN2),1>c*(a=Math.pow(2,-l))&&(l--,a*=2),c=1<=l+t?c+w/a:c+w*Math.pow(2,1-t),2<=c*a&&(l++,a/=2),l+t>=A?(c=0,l=A):1<=l+t?(c=(c*a-1)*Math.pow(2,f),l+=t):(c=c*Math.pow(2,t-1)*Math.pow(2,f),l=0));for(;8<=f;d[k+b]=c&255,b+=s,c/=256,f-=8);l=l<<f|c;for(e+=f;0<e;d[k+b]=l&255,b+=s,l/=256,e-=8);d[k+b-s]|=128*D}},{}],16:[function(B,h,n){h.exports="function"===typeof Object.create?function(d,c){d.super_=c;d.prototype=Object.create(c.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}})}:
function(d,c){d.super_=c;var k=function(){};k.prototype=c.prototype;d.prototype=new k;d.prototype.constructor=d}},{}],17:[function(B,h,n){function d(c){return!!c.constructor&&"function"===typeof c.constructor.isBuffer&&c.constructor.isBuffer(c)}h.exports=function(c){return null!=c&&(d(c)||"function"===typeof c.readFloatLE&&"function"===typeof c.slice&&d(c.slice(0,0))||!!c._isBuffer)}},{}],18:[function(B,h,n){function d(){throw Error("setTimeout has not been defined");}function c(){throw Error("clearTimeout has not been defined");
}function k(a){if(A===setTimeout)return setTimeout(a,0);if((A===d||!A)&&setTimeout)return A=setTimeout,setTimeout(a,0);try{return A(a,0)}catch(b){try{return A.call(null,a,0)}catch(c){return A.call(this,a,0)}}}function l(a){if(t===clearTimeout)return clearTimeout(a);if((t===c||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(a);try{return t(a)}catch(b){try{return t.call(null,a)}catch(e){return t.call(this,a)}}}function f(){y&&F&&(y=!1,F.length?D=F.concat(D):x=-1,D.length&&b())}function b(){if(!y){var a=
k(f);y=!0;for(var b=D.length;b;){F=D;for(D=[];++x<b;)F&&F[x].run();x=-1;b=D.length}F=null;y=!1;l(a)}}function a(a,b){this.fun=a;this.array=b}function e(){}B=h.exports={};var A,t;try{A="function"===typeof setTimeout?setTimeout:d}catch(w){A=d}try{t="function"===typeof clearTimeout?clearTimeout:c}catch(s){t=c}var D=[],y=!1,F,x=-1;B.nextTick=function(c){var e=Array(arguments.length-1);if(1<arguments.length)for(var f=1;f<arguments.length;f++)e[f-1]=arguments[f];D.push(new a(c,e));1!==D.length||y||k(b)};
a.prototype.run=function(){this.fun.apply(null,this.array)};B.title="browser";B.browser=!0;B.env={};B.argv=[];B.version="";B.versions={};B.on=e;B.addListener=e;B.once=e;B.off=e;B.removeListener=e;B.removeAllListeners=e;B.emit=e;B.prependListener=e;B.prependOnceListener=e;B.listeners=function(a){return[]};B.binding=function(a){throw Error("process.binding is not supported");};B.cwd=function(){return"/"};B.chdir=function(a){throw Error("process.chdir is not supported");};B.umask=function(){return 0}},
{}],19:[function(B,h,n){h.exports=function(d){return d&&"object"===typeof d&&"function"===typeof d.copy&&"function"===typeof d.fill&&"function"===typeof d.readUInt8}},{}],20:[function(B,h,n){(function(d,c){function k(b,r){var c={seen:[],stylize:f};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.colors=arguments[3]);y(r)?c.showHidden=r:r&&n._extend(c,r);G(c.showHidden)&&(c.showHidden=!1);G(c.depth)&&(c.depth=2);G(c.colors)&&(c.colors=!1);G(c.customInspect)&&(c.customInspect=!0);
c.colors&&(c.stylize=l);return a(c,b,c.depth)}function l(a,b){var c=k.styles[b];return c?"\u001b["+k.colors[c][0]+"m"+a+"\u001b["+k.colors[c][1]+"m":a}function f(a,b){return a}function b(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function a(c,r,g){if(c.customInspect&&r&&C(r.inspect)&&r.inspect!==n.inspect&&(!r.constructor||r.constructor.prototype!==r)){var f=r.inspect(g,c);x(f)||(f=a(c,f,g));return f}if(f=e(c,r))return f;var d=Object.keys(r),K=b(d);c.showHidden&&(d=Object.getOwnPropertyNames(r));
if(v(r)&&(0<=d.indexOf("message")||0<=d.indexOf("description")))return A(r);if(0===d.length){if(C(r))return c.stylize("[Function"+(r.name?": "+r.name:"")+"]","special");if(O(r))return c.stylize(RegExp.prototype.toString.call(r),"regexp");if(u(r))return c.stylize(Date.prototype.toString.call(r),"date");if(v(r))return A(r)}var f="",z=!1,k=["{","}"];D(r)&&(z=!0,k=["[","]"]);C(r)&&(f=" [Function"+(r.name?": "+r.name:"")+"]");O(r)&&(f=" "+RegExp.prototype.toString.call(r));u(r)&&(f=" "+Date.prototype.toUTCString.call(r));
v(r)&&(f=" "+A(r));if(0===d.length&&(!z||0==r.length))return k[0]+f+k[1];if(0>g)return O(r)?c.stylize(RegExp.prototype.toString.call(r),"regexp"):c.stylize("[Object]","special");c.seen.push(r);d=z?t(c,r,g,K,d):d.map(function(a){return w(c,r,g,K,a,z)});c.seen.pop();return s(d,f,k)}function e(a,b){if(G(b))return a.stylize("undefined","undefined");if(x(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(h(b))return a.stylize(""+
b,"number");if(y(b))return a.stylize(""+b,"boolean");if(null===b)return a.stylize("null","null")}function A(a){return"["+Error.prototype.toString.call(a)+"]"}function t(a,b,c,g,e){for(var K=[],z=0,f=b.length;z<f;++z)Object.prototype.hasOwnProperty.call(b,String(z))?K.push(w(a,b,c,g,String(z),!0)):K.push("");e.forEach(function(z){z.match(/^\d+$/)||K.push(w(a,b,c,g,z,!0))});return K}function w(b,c,g,e,f,K){var z,d;c=Object.getOwnPropertyDescriptor(c,f)||{value:c[f]};c.get?d=c.set?b.stylize("[Getter/Setter]",
"special"):b.stylize("[Getter]","special"):c.set&&(d=b.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,f)||(z="["+f+"]");d||(0>b.seen.indexOf(c.value)?(d=null===g?a(b,c.value,null):a(b,c.value,g-1),-1<d.indexOf("\n")&&(d=K?d.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+d.split("\n").map(function(a){return"   "+a}).join("\n"))):d=b.stylize("[Circular]","special"));if(G(z)){if(K&&f.match(/^\d+$/))return d;z=JSON.stringify(""+f);z.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?
(z=z.substr(1,z.length-2),z=b.stylize(z,"name")):(z=z.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),z=b.stylize(z,"string"))}return z+": "+d}function s(a,b,c){var g=0;return 60<a.reduce(function(a,b){g++;0<=b.indexOf("\n")&&g++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function D(a){return Array.isArray(a)}function y(a){return"boolean"===typeof a}function h(a){return"number"===typeof a}
function x(a){return"string"===typeof a}function G(a){return void 0===a}function O(a){return m(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function m(a){return"object"===typeof a&&null!==a}function u(a){return m(a)&&"[object Date]"===Object.prototype.toString.call(a)}function v(a){return m(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function C(a){return"function"===typeof a}function H(a){return 10>a?"0"+a.toString(10):a.toString(10)}function L(){var a=
new Date,b=[H(a.getHours()),H(a.getMinutes()),H(a.getSeconds())].join(":");return[a.getDate(),N[a.getMonth()],b].join(" ")}var g=/%[sdj%]/g;n.format=function(a){if(!x(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(k(arguments[c]));return b.join(" ")}for(var c=1,e=arguments,f=e.length,b=String(a).replace(g,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case "%s":return String(e[c++]);case "%d":return Number(e[c++]);case "%j":try{return JSON.stringify(e[c++])}catch(b){return"[Circular]"}default:return a}}),
K=e[c];c<f;K=e[++c])b=null!==K&&m(K)?b+(" "+k(K)):b+(" "+K);return b};n.deprecate=function(a,b){if(G(c.process))return function(){return n.deprecate(a,b).apply(this,arguments)};if(!0===d.noDeprecation)return a;var g=!1;return function(){if(!g){if(d.throwDeprecation)throw Error(b);d.traceDeprecation?console.trace(b):console.error(b);g=!0}return a.apply(this,arguments)}};var q={},p;n.debuglog=function(a){G(p)&&(p=d.env.NODE_DEBUG||"");a=a.toUpperCase();if(!q[a])if((new RegExp("\\b"+a+"\\b","i")).test(p)){var b=
d.pid;q[a]=function(){var c=n.format.apply(n,arguments);console.error("%s %d: %s",a,b,c)}}else q[a]=function(){};return q[a]};n.inspect=k;k.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};k.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};n.isArray=D;n.isBoolean=y;n.isNull=
function(a){return null===a};n.isNullOrUndefined=function(a){return null==a};n.isNumber=h;n.isString=x;n.isSymbol=function(a){return"symbol"===typeof a};n.isUndefined=G;n.isRegExp=O;n.isObject=m;n.isDate=u;n.isError=v;n.isFunction=C;n.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};n.isBuffer=B("./support/isBuffer");var N="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");n.log=function(){console.log("%s - %s",
L(),n.format.apply(n,arguments))};n.inherits=B("inherits");n._extend=function(a,b){if(!b||!m(b))return a;for(var c=Object.keys(b),g=c.length;g--;)a[c[g]]=b[c[g]];return a}}).call(this,B("_process"),"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"./support/isBuffer":19,_process:18,inherits:16}],buffer:[function(B,h,n){function d(a){if(a>p)throw new RangeError('The value "'+a+'" is invalid for option "size"');a=new Uint8Array(a);a.__proto__=
c.prototype;return a}function c(a,b,c){if("number"===typeof a){if("string"===typeof b)throw new TypeError('The "string" argument must be of type string. Received type number');return f(a)}return k(a,b,c)}function k(r,g,e){if("string"===typeof r){var f=g;if("string"!==typeof f||""===f)f="utf8";if(!c.isEncoding(f))throw new TypeError("Unknown encoding: "+f);g=A(r,f)|0;e=d(g);r=e.write(r,f);r!==g&&(e=e.slice(0,r));return e}if(ArrayBuffer.isView(r))return b(r);if(null==r)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+
typeof r);if(L(r,ArrayBuffer)||r&&L(r.buffer,ArrayBuffer)){if(0>g||r.byteLength<g)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<g+(e||0))throw new RangeError('"length" is outside of buffer bounds');r=void 0===g&&void 0===e?new Uint8Array(r):void 0===e?new Uint8Array(r,g):new Uint8Array(r,g,e);r.__proto__=c.prototype;return r}if("number"===typeof r)throw new TypeError('The "value" argument must not be of type number. Received type number');f=r.valueOf&&r.valueOf();if(null!=
f&&f!==r)return c.from(f,g,e);if(f=a(r))return f;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof r[Symbol.toPrimitive])return c.from(r[Symbol.toPrimitive]("string"),g,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);}function l(a){if("number"!==typeof a)throw new TypeError('"size" argument must be of type number');if(0>a)throw new RangeError('The value "'+a+'" is invalid for option "size"');
}function f(a){l(a);return d(0>a?0:e(a)|0)}function b(a){for(var b=0>a.length?0:e(a.length)|0,c=d(b),g=0;g<b;g+=1)c[g]=a[g]&255;return c}function a(a){if(c.isBuffer(a)){var g=e(a.length)|0,f=d(g);if(0===f.length)return f;a.copy(f,0,0,g);return f}if(void 0!==a.length)return(g="number"!==typeof a.length)||(g=a.length,g=g!==g),g?d(0):b(a);if("Buffer"===a.type&&Array.isArray(a.data))return b(a.data)}function e(a){if(a>=p)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+p.toString(16)+
" bytes");return a|0}function A(a,b){if(c.isBuffer(a))return a.length;if(ArrayBuffer.isView(a)||L(a,ArrayBuffer))return a.byteLength;if("string"!==typeof a)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof a);var e=a.length,f=2<arguments.length&&!0===arguments[2];if(!f&&0===e)return 0;for(var K=!1;;)switch(b){case "ascii":case "latin1":case "binary":return e;case "utf8":case "utf-8":return C(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*
e;case "hex":return e>>>1;case "base64":return g.toByteArray(v(a)).length;default:if(K)return f?-1:C(a).length;b=(""+b).toLowerCase();K=!0}}function t(a,b,c){var e=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===c||c>this.length)c=this.length;if(0>=c)return"";c>>>=0;b>>>=0;if(c<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=this.length;if(!a||0>a)a=0;if(!c||0>c||c>b)c=b;for(b="";a<c;++a)e=this[a],e=16>e?"0"+e.toString(16):e.toString(16),b+=e;return b;case "utf8":case "utf-8":return F(this,
b,c);case "ascii":a=b;b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]&127);return b;case "latin1":case "binary":a=b;b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]);return b;case "base64":return a=b,c=0===a&&c===this.length?g.fromByteArray(this):g.fromByteArray(this.slice(a,c)),c;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.slice(b,c);a="";for(b=0;b<c.length;b+=2)a+=String.fromCharCode(c[b]+256*c[b+1]);return a;default:if(e)throw new TypeError("Unknown encoding: "+
a);a=(a+"").toLowerCase();e=!0}}function w(a,b,c){var g=a[b];a[b]=a[c];a[c]=g}function s(a,b,g,e,K){if(0===a.length)return-1;"string"===typeof g?(e=g,g=0):2147483647<g?g=2147483647:-2147483648>g&&(g=-2147483648);g=+g;g!==g&&(g=K?0:a.length-1);0>g&&(g=a.length+g);if(g>=a.length){if(K)return-1;g=a.length-1}else if(0>g)if(K)g=0;else return-1;"string"===typeof b&&(b=c.from(b,e));if(c.isBuffer(b))return 0===b.length?-1:D(a,b,g,e,K);if("number"===typeof b)return b&=255,"function"===typeof Uint8Array.prototype.indexOf?
K?Uint8Array.prototype.indexOf.call(a,b,g):Uint8Array.prototype.lastIndexOf.call(a,b,g):D(a,[b],g,e,K);throw new TypeError("val must be string, number or Buffer");}function D(a,b,c,g,e){function z(a,b){return 1===f?a[b]:a.readUInt16BE(b*f)}var f=1,d=a.length,k=b.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>a.length||2>b.length)return-1;f=2;d/=2;k/=2;c/=2}if(e)for(g=-1;c<d;c++)if(z(a,c)===z(b,-1===g?0:c-g)){if(-1===g&&(g=c),c-g+1===
k)return g*f}else-1!==g&&(c-=c-g),g=-1;else for(c+k>d&&(c=d-k);0<=c;c--){d=!0;for(g=0;g<k;g++)if(z(a,c+g)!==z(b,g)){d=!1;break}if(d)return c}return-1}function y(a,b,c,g){for(var e=[],z=0;z<b.length;++z)e.push(b.charCodeAt(z)&255);return H(e,a,c,g)}function F(a,b,c){c=Math.min(a.length,c);for(var g=[];b<c;){var e=a[b],z=null,f=239<e?4:223<e?3:191<e?2:1;if(b+f<=c){var d,k,m;switch(f){case 1:128>e&&(z=e);break;case 2:d=a[b+1];128===(d&192)&&(e=(e&31)<<6|d&63,127<e&&(z=e));break;case 3:d=a[b+1];k=a[b+
2];128===(d&192)&&128===(k&192)&&(e=(e&15)<<12|(d&63)<<6|k&63,2047<e&&(55296>e||57343<e)&&(z=e));break;case 4:d=a[b+1],k=a[b+2],m=a[b+3],128===(d&192)&&128===(k&192)&&128===(m&192)&&(e=(e&15)<<18|(d&63)<<12|(k&63)<<6|m&63,65535<e&&1114112>e&&(z=e))}}null===z?(z=65533,f=1):65535<z&&(z-=65536,g.push(z>>>10&1023|55296),z=56320|z&1023);g.push(z);b+=f}a=g.length;if(a<=N)g=String.fromCharCode.apply(String,g);else{c="";for(b=0;b<a;)c+=String.fromCharCode.apply(String,g.slice(b,b+=N));g=c}return g}function x(a,
b,c){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function G(a,b,g,e,f,z){if(!c.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>f||b<z)throw new RangeError('"value" argument is out of bounds');if(g+e>a.length)throw new RangeError("Index out of range");}function O(a,b,c,g,e,z){if(c+g>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");
}function m(a,b,c,g,e){b=+b;c>>>=0;e||O(a,b,c,4,3.4028234663852886E38,-3.4028234663852886E38);q.write(a,b,c,g,23,4);return c+4}function u(a,b,c,g,e){b=+b;c>>>=0;e||O(a,b,c,8,1.7976931348623157E308,-1.7976931348623157E308);q.write(a,b,c,g,52,8);return c+8}function v(a){a=a.split("=")[0];a=a.trim().replace(P,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function C(a,b){b=b||Infinity;for(var c,g=a.length,e=null,z=[],f=0;f<g;++f){c=a.charCodeAt(f);if(55295<c&&57344>c){if(!e){if(56319<
c){-1<(b-=3)&&z.push(239,191,189);continue}else if(f+1===g){-1<(b-=3)&&z.push(239,191,189);continue}e=c;continue}if(56320>c){-1<(b-=3)&&z.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&-1<(b-=3)&&z.push(239,191,189);e=null;if(128>c){if(0>(b-=1))break;z.push(c)}else if(2048>c){if(0>(b-=2))break;z.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(b-=3))break;z.push(c>>12|224,c>>6&63|128,c&63|128)}else if(1114112>c){if(0>(b-=4))break;z.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|
128)}else throw Error("Invalid code point");}return z}function H(a,b,c,g){for(var e=0;e<g&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function L(a,b){return a instanceof b||null!=a&&null!=a.constructor&&null!=a.constructor.name&&a.constructor.name===b.name}var g=B("base64-js"),q=B("ieee754");n.Buffer=c;n.SlowBuffer=function(a){+a!=a&&(a=0);return c.alloc(+a)};n.INSPECT_MAX_BYTES=50;var p=2147483647;n.kMaxLength=p;c.TYPED_ARRAY_SUPPORT=function(){try{var a=new Uint8Array(1);a.__proto__=
{__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()}catch(b){return!1}}();c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){return c.isBuffer(this)?this.buffer:void 0}});Object.defineProperty(c.prototype,
"offset",{enumerable:!0,get:function(){return c.isBuffer(this)?this.byteOffset:void 0}});"undefined"!==typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});c.poolSize=8192;c.from=function(a,b,c){return k(a,b,c)};c.prototype.__proto__=Uint8Array.prototype;c.__proto__=Uint8Array;c.alloc=function(a,b,c){l(a);a=0>=a?d(a):void 0!==b?"string"===typeof c?d(a).fill(b,c):d(a).fill(b):d(a);return a};c.allocUnsafe=
function(a){return f(a)};c.allocUnsafeSlow=function(a){return f(a)};c.isBuffer=function(a){return null!=a&&!0===a._isBuffer&&a!==c.prototype};c.compare=function(a,b){L(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength));L(b,Uint8Array)&&(b=c.from(b,b.offset,b.byteLength));if(!c.isBuffer(a)||!c.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var g=a.length,e=b.length,f=0,z=Math.min(g,e);f<z;++f)if(a[f]!==b[f]){g=a[f];e=b[f];
break}return g<e?-1:e<g?1:0};c.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;default:return!1}};c.concat=function(a,b){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return c.alloc(0);var g;if(void 0===b)for(g=b=0;g<a.length;++g)b+=a[g].length;var e=c.allocUnsafe(b),f=0;for(g=0;g<
a.length;++g){var z=a[g];L(z,Uint8Array)&&(z=c.from(z));if(!c.isBuffer(z))throw new TypeError('"list" argument must be an Array of Buffers');z.copy(e,f);f+=z.length}return e};c.byteLength=A;c.prototype._isBuffer=!0;c.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)w(this,b,b+1);return this};c.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");
for(var b=0;b<a;b+=4)w(this,b,b+3),w(this,b+1,b+2);return this};c.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)w(this,b,b+7),w(this,b+1,b+6),w(this,b+2,b+5),w(this,b+3,b+4);return this};c.prototype.toString=function(){var a=this.length;return 0===a?"":0===arguments.length?F(this,0,a):t.apply(this,arguments)};c.prototype.toLocaleString=c.prototype.toString;c.prototype.equals=function(a){if(!c.isBuffer(a))throw new TypeError("Argument must be a Buffer");
return this===a?!0:0===c.compare(this,a)};c.prototype.inspect=function(){var a="",b=n.INSPECT_MAX_BYTES,a=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim();this.length>b&&(a+=" ... ");return"<Buffer "+a+">"};c.prototype.compare=function(a,b,g,e,f){L(a,Uint8Array)&&(a=c.from(a,a.offset,a.byteLength));if(!c.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);void 0===b&&(b=0);void 0===g&&(g=a?a.length:0);void 0===e&&(e=0);
void 0===f&&(f=this.length);if(0>b||g>a.length||0>e||f>this.length)throw new RangeError("out of range index");if(e>=f&&b>=g)return 0;if(e>=f)return-1;if(b>=g)return 1;b>>>=0;g>>>=0;e>>>=0;f>>>=0;if(this===a)return 0;var z=f-e,d=g-b,k=Math.min(z,d);e=this.slice(e,f);a=a.slice(b,g);for(b=0;b<k;++b)if(e[b]!==a[b]){z=e[b];d=a[b];break}return z<d?-1:d<z?1:0};c.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};c.prototype.indexOf=function(a,b,c){return s(this,a,b,c,!0)};c.prototype.lastIndexOf=
function(a,b,c){return s(this,a,b,c,!1)};c.prototype.write=function(a,b,c,e){if(void 0===b)e="utf8",c=this.length,b=0;else if(void 0===c&&"string"===typeof b)e=b,c=this.length,b=0;else if(isFinite(b))b>>>=0,isFinite(c)?(c>>>=0,void 0===e&&(e="utf8")):(e=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var f=this.length-b;if(void 0===c||c>f)c=f;if(0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
e||(e="utf8");for(f=!1;;)switch(e){case "hex":a:{b=Number(b)||0;e=this.length-b;c?(c=Number(c),c>e&&(c=e)):c=e;e=a.length;c>e/2&&(c=e/2);for(e=0;e<c;++e){f=parseInt(a.substr(2*e,2),16);if(f!==f){a=e;break a}this[b+e]=f}a=e}return a;case "utf8":case "utf-8":return H(C(a,this.length-b),this,b,c);case "ascii":return y(this,a,b,c);case "latin1":case "binary":return y(this,a,b,c);case "base64":return H(g.toByteArray(v(a)),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=this.length-
b;for(var z=void 0,z=f=void 0,d=[],k=0;k<a.length&&!(0>(e-=2));++k)z=a.charCodeAt(k),f=z>>8,z%=256,d.push(z),d.push(f);return H(d,this,b,c);default:if(f)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase();f=!0}};c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var N=4096;c.prototype.slice=function(a,b){var g=this.length;a=~~a;b=void 0===b?g:~~b;0>a?(a+=g,0>a&&(a=0)):a>g&&(a=g);0>b?(b+=g,0>b&&(b=0)):b>g&&(b=g);b<a&&(b=a);g=this.subarray(a,
b);g.__proto__=c.prototype;return g};c.prototype.readUIntLE=function(a,b,c){a>>>=0;b>>>=0;c||x(a,b,this.length);c=this[a];for(var g=1,e=0;++e<b&&(g*=256);)c+=this[a+e]*g;return c};c.prototype.readUIntBE=function(a,b,c){a>>>=0;b>>>=0;c||x(a,b,this.length);c=this[a+--b];for(var g=1;0<b&&(g*=256);)c+=this[a+--b]*g;return c};c.prototype.readUInt8=function(a,b){a>>>=0;b||x(a,1,this.length);return this[a]};c.prototype.readUInt16LE=function(a,b){a>>>=0;b||x(a,2,this.length);return this[a]|this[a+1]<<8};
c.prototype.readUInt16BE=function(a,b){a>>>=0;b||x(a,2,this.length);return this[a]<<8|this[a+1]};c.prototype.readUInt32LE=function(a,b){a>>>=0;b||x(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};c.prototype.readUInt32BE=function(a,b){a>>>=0;b||x(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};c.prototype.readIntLE=function(a,b,c){a>>>=0;b>>>=0;c||x(a,b,this.length);c=this[a];for(var g=1,e=0;++e<b&&(g*=256);)c+=this[a+e]*g;c>=128*g&&
(c-=Math.pow(2,8*b));return c};c.prototype.readIntBE=function(a,b,c){a>>>=0;b>>>=0;c||x(a,b,this.length);c=b;for(var g=1,e=this[a+--c];0<c&&(g*=256);)e+=this[a+--c]*g;e>=128*g&&(e-=Math.pow(2,8*b));return e};c.prototype.readInt8=function(a,b){a>>>=0;b||x(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};c.prototype.readInt16LE=function(a,b){a>>>=0;b||x(a,2,this.length);var c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c};c.prototype.readInt16BE=function(a,b){a>>>=0;b||x(a,2,this.length);
var c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c};c.prototype.readInt32LE=function(a,b){a>>>=0;b||x(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};c.prototype.readInt32BE=function(a,b){a>>>=0;b||x(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};c.prototype.readFloatLE=function(a,b){a>>>=0;b||x(a,4,this.length);return q.read(this,a,!0,23,4)};c.prototype.readFloatBE=function(a,b){a>>>=0;b||x(a,4,this.length);return q.read(this,a,!1,23,4)};
c.prototype.readDoubleLE=function(a,b){a>>>=0;b||x(a,8,this.length);return q.read(this,a,!0,52,8)};c.prototype.readDoubleBE=function(a,b){a>>>=0;b||x(a,8,this.length);return q.read(this,a,!1,52,8)};c.prototype.writeUIntLE=function(a,b,c,g){a=+a;b>>>=0;c>>>=0;g||(g=Math.pow(2,8*c)-1,G(this,a,b,c,g,0));g=1;var e=0;for(this[b]=a&255;++e<c&&(g*=256);)this[b+e]=a/g&255;return b+c};c.prototype.writeUIntBE=function(a,b,c,g){a=+a;b>>>=0;c>>>=0;g||(g=Math.pow(2,8*c)-1,G(this,a,b,c,g,0));g=c-1;var e=1;for(this[b+
g]=a&255;0<=--g&&(e*=256);)this[b+g]=a/e&255;return b+c};c.prototype.writeUInt8=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,1,255,0);this[b]=a&255;return b+1};c.prototype.writeUInt16LE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,2,65535,0);this[b]=a&255;this[b+1]=a>>>8;return b+2};c.prototype.writeUInt16BE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,2,65535,0);this[b]=a>>>8;this[b+1]=a&255;return b+2};c.prototype.writeUInt32LE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,4,4294967295,0);this[b+3]=a>>>24;this[b+
2]=a>>>16;this[b+1]=a>>>8;this[b]=a&255;return b+4};c.prototype.writeUInt32BE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,4,4294967295,0);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};c.prototype.writeIntLE=function(a,b,c,g){a=+a;b>>>=0;g||(g=Math.pow(2,8*c-1),G(this,a,b,c,g-1,-g));g=0;var e=1,z=0;for(this[b]=a&255;++g<c&&(e*=256);)0>a&&0===z&&0!==this[b+g-1]&&(z=1),this[b+g]=(a/e>>0)-z&255;return b+c};c.prototype.writeIntBE=function(a,b,c,g){a=+a;b>>>=0;g||(g=Math.pow(2,
8*c-1),G(this,a,b,c,g-1,-g));g=c-1;var e=1,z=0;for(this[b+g]=a&255;0<=--g&&(e*=256);)0>a&&0===z&&0!==this[b+g+1]&&(z=1),this[b+g]=(a/e>>0)-z&255;return b+c};c.prototype.writeInt8=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,1,127,-128);0>a&&(a=255+a+1);this[b]=a&255;return b+1};c.prototype.writeInt16LE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,2,32767,-32768);this[b]=a&255;this[b+1]=a>>>8;return b+2};c.prototype.writeInt16BE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,2,32767,-32768);this[b]=a>>>8;this[b+
1]=a&255;return b+2};c.prototype.writeInt32LE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,4,2147483647,-2147483648);this[b]=a&255;this[b+1]=a>>>8;this[b+2]=a>>>16;this[b+3]=a>>>24;return b+4};c.prototype.writeInt32BE=function(a,b,c){a=+a;b>>>=0;c||G(this,a,b,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);this[b]=a>>>24;this[b+1]=a>>>16;this[b+2]=a>>>8;this[b+3]=a&255;return b+4};c.prototype.writeFloatLE=function(a,b,c){return m(this,a,b,!0,c)};c.prototype.writeFloatBE=function(a,b,c){return m(this,
a,b,!1,c)};c.prototype.writeDoubleLE=function(a,b,c){return u(this,a,b,!0,c)};c.prototype.writeDoubleBE=function(a,b,c){return u(this,a,b,!1,c)};c.prototype.copy=function(a,b,g,e){if(!c.isBuffer(a))throw new TypeError("argument should be a Buffer");g||(g=0);e||0===e||(e=this.length);b>=a.length&&(b=a.length);b||(b=0);0<e&&e<g&&(e=g);if(e===g||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>g||g>=this.length)throw new RangeError("Index out of range");
if(0>e)throw new RangeError("sourceEnd out of bounds");e>this.length&&(e=this.length);a.length-b<e-g&&(e=a.length-b+g);var f=e-g;if(this===a&&"function"===typeof Uint8Array.prototype.copyWithin)this.copyWithin(b,g,e);else if(this===a&&g<b&&b<e)for(e=f-1;0<=e;--e)a[e+b]=this[e+g];else Uint8Array.prototype.set.call(a,this.subarray(g,e),b);return f};c.prototype.fill=function(a,b,g,e){if("string"===typeof a){"string"===typeof b?(e=b,b=0,g=this.length):"string"===typeof g&&(e=g,g=this.length);if(void 0!==
e&&"string"!==typeof e)throw new TypeError("encoding must be a string");if("string"===typeof e&&!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);if(1===a.length){var f=a.charCodeAt(0);if("utf8"===e&&128>f||"latin1"===e)a=f}}else"number"===typeof a&&(a&=255);if(0>b||this.length<b||this.length<g)throw new RangeError("Out of range index");if(g<=b)return this;b>>>=0;g=void 0===g?this.length:g>>>0;a||(a=0);if("number"===typeof a)for(e=b;e<g;++e)this[e]=a;else{var f=c.isBuffer(a)?a:c.from(a,
e),z=f.length;if(0===z)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(e=0;e<g-b;++e)this[e+b]=f[e%z]}return this};var P=/[^+/0-9A-Za-z-_]/g},{"base64-js":14,ieee754:15}],wkx:[function(B,h,n){n.Types=B("./types");n.Geometry=B("./geometry");n.Point=B("./point");n.LineString=B("./linestring");n.Polygon=B("./polygon");n.MultiPoint=B("./multipoint");n.MultiLineString=B("./multilinestring");n.MultiPolygon=B("./multipolygon");n.GeometryCollection=B("./geometrycollection")},
{"./geometry":3,"./geometrycollection":4,"./linestring":5,"./multilinestring":6,"./multipoint":7,"./multipolygon":8,"./point":9,"./polygon":10,"./types":11}]},{},["wkx"]);
(function(B){"object"===typeof exports&&"undefined"!==typeof module?module.exports=B():"function"===typeof define&&define.amd?define([],B):("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).shp=B()})(function(){return function h(n,d,c){function k(b,a){if(!d[b]){if(!n[b]){var e="function"==typeof require&&require;if(!a&&e)return e(b,!0);if(l)return l(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=d[b]={exports:{}};
n[b][0].call(e.exports,function(a){var c=n[b][1][a];return k(c?c:a)},e,e.exports,h,n,d,c)}return d[b].exports}for(var l="function"==typeof require&&require,f=0;f<c.length;f++)k(c[f]);return k}({1:[function(h,n,d){(function(c){var d=h("lie");n.exports=function(l){return new d(function(f,b){var a=l.slice(-3),e=new XMLHttpRequest;e.open("GET",l,!0);"prj"!==a&&"cpg"!==a&&(e.responseType="arraybuffer");e.addEventListener("load",function(){return 399<e.status?"prj"===a||"cpg"===a?f(!1):b(Error(e.status)):
"prj"!==a&&"cpg"!==a?f(new c(e.response)):f(e.response)},!1);e.send()})}}).call(this,h("buffer").Buffer)},{buffer:6,lie:34}],2:[function(h,n,d){function c(b,a){for(var c=0,f=1,d=a.length,k,s;f<d;)k=s||a[0],s=a[f],c+=(s[0]-k[0])*(s[1]+k[1]),f++;0<c||!b.length?b.push([a]):b[b.length-1].push(a);return b}function k(b){return b?function(a,c){return b.inverse([a.readDoubleLE(c),a.readDoubleLE(c+8)])}:function(a,b){return[a.readDoubleLE(b),a.readDoubleLE(b+8)]}}function l(b,a){if(!(this instanceof l))return new l(b,
a);this.buffer=b;this.shpFuncs(a);this.rows=this.getRows()}l.prototype.parsePoint=function(b){return{type:"Point",coordinates:this.parseCoord(b,0)}};l.prototype.parseZPoint=function(b){var a=this.parsePoint(b);a.coordinates.push(this.parseCoord(b,16));return a};l.prototype.parsePointArray=function(b,a,c){for(var f=[],d=0;d<c;)f.push(this.parseCoord(b,a)),a+=16,d++;return f};l.prototype.parseZPointArray=function(b,a,c,f){for(var d=0;d<c;)f[d].push(b.readDoubleLE(a)),d++,a+=8;return f};l.prototype.parseArrayGroup=
function(b,a,c,f,d){for(var k=[],s=0,l,y=0;s<f;)if(s++,c+=4,l=y,y=s===f?d:b.readInt32LE(c),l=y-l)k.push(this.parsePointArray(b,a,l)),a+=l<<4;return k};l.prototype.parseZArrayGroup=function(b,a,c,f){for(var d=0;d<c;)f[d]=this.parseZPointArray(b,a,f[d].length,f[d]),a+=f[d].length<<3,d++;return f};l.prototype.parseMultiPoint=function(b){var a={},c=this.parseCoord(b,0),f=this.parseCoord(b,16);a.bbox=[c[0],c[1],f[0],f[1]];c=b.readInt32LE(32,!0);1===c?(a.type="Point",a.coordinates=this.parseCoord(b,36)):
(a.type="MultiPoint",a.coordinates=this.parsePointArray(b,36,c));return a};l.prototype.parseZMultiPoint=function(b){var a=this.parseMultiPoint(b),c;if("Point"===a.type)return a.coordinates.push(b.readDoubleLE(72)),a;c=a.coordinates.length;a.coordinates=this.parseZPointArray(b,52+(c<<4),c,a.coordinates);return a};l.prototype.parsePolyline=function(b){var a={},c=this.parseCoord(b,0),f=this.parseCoord(b,16);a.bbox=[c[0],c[1],f[0],f[1]];c=b.readInt32LE(32);f=b.readInt32LE(36);1===c?(a.type="LineString",
a.coordinates=this.parsePointArray(b,44,f)):(a.type="MultiLineString",a.coordinates=this.parseArrayGroup(b,40+(c<<2),40,c,f));return a};l.prototype.parseZPolyline=function(b){var a=this.parsePolyline(b),c=a.coordinates.length,f;"LineString"===a.type?a.coordinates=this.parseZPointArray(b,60+(c<<4),c,a.coordinates):(f=56+(a.coordinates.reduce(function(a,b){return a+b.length},0)<<4)+(c<<2),a.coordinates=this.parseZArrayGroup(b,f,c,a.coordinates));return a};l.prototype.polyFuncs=function(b){"LineString"===
b.type?(b.type="Polygon",b.coordinates=[b.coordinates]):(b.coordinates=b.coordinates.reduce(c,[]),1===b.coordinates.length?(b.type="Polygon",b.coordinates=b.coordinates[0]):b.type="MultiPolygon");return b};l.prototype.parsePolygon=function(b){return this.polyFuncs(this.parsePolyline(b))};l.prototype.parseZPolygon=function(b){return this.polyFuncs(this.parseZPolyline(b))};var f={1:"parsePoint",3:"parsePolyline",5:"parsePolygon",8:"parseMultiPoint",11:"parseZPoint",13:"parseZPolyline",15:"parseZPolygon",
18:"parseZMultiPoint"};l.prototype.shpFuncs=function(b){var a=this.getShpCode();20<a&&(a-=20);if(!(a in f))throw Error("I don't know that shp type");this.parseFunc=this[f[a]];this.parseCoord=k(b)};l.prototype.getShpCode=function(){return this.parseHeader().shpCode};l.prototype.parseHeader=function(){var b=this.buffer.slice(0,100);return{length:b.readInt32BE(24),version:b.readInt32LE(28),shpCode:b.readInt32LE(32),bbox:[b.readDoubleLE(36),b.readDoubleLE(44),b.readDoubleLE(52),b.readDoubleLE(52)]}};
l.prototype.getRows=function(){for(var b=100,a=this.buffer.byteLength,c=[],f;b<a;)f=this.getRow(b),b+=8,b+=f.len,f.type&&c.push(this.parseFunc(f.data));return c};l.prototype.getRow=function(b){var a=this.buffer.slice(b,b+12),c=a.readInt32BE(4)<<1;b=this.buffer.slice(b+12,b+c+8);return{id:a.readInt32BE(0),len:c,data:b,type:a.readInt32LE(8)}};n.exports=function(b,a){return(new l(b,a)).rows}},{}],3:[function(h,n,d){var c=h("jszip");n.exports=function(d){var l={};(new c(d)).file(/.+/).forEach(function(c){"shp"===
c.name.slice(-3).toLowerCase()||"dbf"===c.name.slice(-3).toLowerCase()?l[c.name]=c.asNodeBuffer():l[c.name]=c.asText()});return l}},{jszip:19}],4:[function(h,n,d){function c(a){var b=a.length;if(0<b%4)throw Error("Invalid string. Length must be a multiple of 4");return"="===a[b-2]?2:"="===a[b-1]?1:0}function k(a,b,c){for(var f=[],d=b;d<c;d+=3)b=(a[d]<<16)+(a[d+1]<<8)+a[d+2],f.push(l[b>>18&63]+l[b>>12&63]+l[b>>6&63]+l[b&63]);return f.join("")}d.byteLength=function(a){return 3*a.length/4-c(a)};d.toByteArray=
function(a){var e,d,k,l,s;e=a.length;l=c(a);s=new b(3*e/4-l);d=0<l?e-4:e;var h=0;for(e=0;e<d;e+=4)k=f[a.charCodeAt(e)]<<18|f[a.charCodeAt(e+1)]<<12|f[a.charCodeAt(e+2)]<<6|f[a.charCodeAt(e+3)],s[h++]=k>>16&255,s[h++]=k>>8&255,s[h++]=k&255;2===l?(k=f[a.charCodeAt(e)]<<2|f[a.charCodeAt(e+1)]>>4,s[h++]=k&255):1===l&&(k=f[a.charCodeAt(e)]<<10|f[a.charCodeAt(e+1)]<<4|f[a.charCodeAt(e+2)]>>2,s[h++]=k>>8&255,s[h++]=k&255);return s};d.fromByteArray=function(a){for(var b=a.length,c=b%3,f="",d=[],s=0,h=b-c;s<
h;s+=16383)d.push(k(a,s,s+16383>h?h:s+16383));1===c?(a=a[b-1],f+=l[a>>2],f+=l[a<<4&63],f+="=="):2===c&&(a=(a[b-2]<<8)+a[b-1],f+=l[a>>10],f+=l[a>>4&63],f+=l[a<<2&63],f+="=");d.push(f);return d.join("")};var l=[],f=[],b="undefined"!==typeof Uint8Array?Uint8Array:Array;for(h=0;64>h;++h)l[h]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[h],f["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(h)]=h;f[45]=62;f[95]=63},{}],5:[function(h,n,d){},{}],6:[function(h,
n,d){(function(c){function k(){try{var a=new Uint8Array(1);a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return 42===a.foo()&&"function"===typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(b){return!1}}function l(a,b){if((f.TYPED_ARRAY_SUPPORT?2147483647:1073741823)<b)throw new RangeError("Invalid typed array length");f.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=f.prototype):(null===a&&(a=new f(b)),a.length=b);return a}function f(a,c,g){if(!(f.TYPED_ARRAY_SUPPORT||
this instanceof f))return new f(a,c,g);if("number"===typeof a){if("string"===typeof c)throw Error("If encoding is specified then the first argument must be a string");return e(this,a)}return b(this,a,c,g)}function b(a,b,c,g){if("number"===typeof b)throw new TypeError('"value" argument must not be a number');if("undefined"!==typeof ArrayBuffer&&b instanceof ArrayBuffer){b.byteLength;if(0>c||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(g||0))throw new RangeError("'length' is out of bounds");
b=void 0===c&&void 0===g?new Uint8Array(b):void 0===g?new Uint8Array(b,c):new Uint8Array(b,c,g);f.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=f.prototype):a=A(a,b);return a}if("string"===typeof b){g=a;a=c;if("string"!==typeof a||""===a)a="utf8";if(!f.isEncoding(a))throw new TypeError('"encoding" must be a valid string encoding');c=s(b,a)|0;g=l(g,c);b=g.write(b,a);b!==c&&(g=g.slice(0,b));return g}return t(a,b)}function a(a){if("number"!==typeof a)throw new TypeError('"size" argument must be a number');if(0>
a)throw new RangeError('"size" argument must not be negative');}function e(b,c){a(c);b=l(b,0>c?0:w(c)|0);if(!f.TYPED_ARRAY_SUPPORT)for(var g=0;g<c;++g)b[g]=0;return b}function A(a,b){var c=0>b.length?0:w(b.length)|0;a=l(a,c);for(var g=0;g<c;g+=1)a[g]=b[g]&255;return a}function t(a,b){if(f.isBuffer(b)){var c=w(b.length)|0;a=l(a,c);if(0===a.length)return a;b.copy(a,0,0,c);return a}if(b){if("undefined"!==typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return(c="number"!==typeof b.length)||
(c=b.length,c=c!==c),c?l(a,0):A(a,b);if("Buffer"===b.type&&I(b.data))return A(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");}function w(a){if(a>=(f.TYPED_ARRAY_SUPPORT?2147483647:1073741823))throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+(f.TYPED_ARRAY_SUPPORT?2147483647:1073741823).toString(16)+" bytes");return a|0}function s(a,b){if(f.isBuffer(a))return a.length;if("undefined"!==typeof ArrayBuffer&&
"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!==typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var e=!1;;)switch(b){case "ascii":case "latin1":case "binary":return c;case "utf8":case "utf-8":case void 0:return q(a).length;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return 2*c;case "hex":return c>>>1;case "base64":return P.toByteArray(g(a)).length;default:if(e)return q(a).length;b=(""+b).toLowerCase();e=!0}}
function D(a,b,c){var g=!1;if(void 0===b||0>b)b=0;if(b>this.length)return"";if(void 0===c||c>this.length)c=this.length;if(0>=c)return"";c>>>=0;b>>>=0;if(c<=b)return"";for(a||(a="utf8");;)switch(a){case "hex":a=b;b=this.length;if(!a||0>a)a=0;if(!c||0>c||c>b)c=b;for(b="";a<c;++a)g=this[a],g=16>g?"0"+g.toString(16):g.toString(16),b+=g;return b;case "utf8":case "utf-8":return G(this,b,c);case "ascii":a=b;b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]&127);return b;case "latin1":case "binary":a=
b;b="";for(c=Math.min(this.length,c);a<c;++a)b+=String.fromCharCode(this[a]);return b;case "base64":return a=b,c=0===a&&c===this.length?P.fromByteArray(this):P.fromByteArray(this.slice(a,c)),c;case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":c=this.slice(b,c);a="";for(b=0;b<c.length;b+=2)a+=String.fromCharCode(c[b]+256*c[b+1]);return a;default:if(g)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase();g=!0}}function y(a,b,c){var g=a[b];a[b]=a[c];a[c]=g}function F(a,b,c,g,e){if(0===
a.length)return-1;"string"===typeof c?(g=c,c=0):2147483647<c?c=2147483647:-2147483648>c&&(c=-2147483648);c=+c;isNaN(c)&&(c=e?0:a.length-1);0>c&&(c=a.length+c);if(c>=a.length){if(e)return-1;c=a.length-1}else if(0>c)if(e)c=0;else return-1;"string"===typeof b&&(b=f.from(b,g));if(f.isBuffer(b))return 0===b.length?-1:x(a,b,c,g,e);if("number"===typeof b)return b&=255,f.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,
b,c):x(a,[b],c,g,e);throw new TypeError("val must be string, number or Buffer");}function x(a,b,c,g,e){function f(a,b){return 1===d?a[b]:a.readUInt16BE(b*d)}var d=1,k=a.length,m=b.length;if(void 0!==g&&(g=String(g).toLowerCase(),"ucs2"===g||"ucs-2"===g||"utf16le"===g||"utf-16le"===g)){if(2>a.length||2>b.length)return-1;d=2;k/=2;m/=2;c/=2}if(e)for(g=-1;c<k;c++)if(f(a,c)===f(b,-1===g?0:c-g)){if(-1===g&&(g=c),c-g+1===m)return g*d}else-1!==g&&(c-=c-g),g=-1;else for(c+m>k&&(c=k-m);0<=c;c--){k=!0;for(g=
0;g<m;g++)if(f(a,c+g)!==f(b,g)){k=!1;break}if(k)return c}return-1}function G(a,b,c){c=Math.min(a.length,c);for(var g=[];b<c;){var e=a[b],f=null,d=239<e?4:223<e?3:191<e?2:1;if(b+d<=c){var k,m,s;switch(d){case 1:128>e&&(f=e);break;case 2:k=a[b+1];128===(k&192)&&(e=(e&31)<<6|k&63,127<e&&(f=e));break;case 3:k=a[b+1];m=a[b+2];128===(k&192)&&128===(m&192)&&(e=(e&15)<<12|(k&63)<<6|m&63,2047<e&&(55296>e||57343<e)&&(f=e));break;case 4:k=a[b+1],m=a[b+2],s=a[b+3],128===(k&192)&&128===(m&192)&&128===(s&192)&&
(e=(e&15)<<18|(k&63)<<12|(m&63)<<6|s&63,65535<e&&1114112>e&&(f=e))}}null===f?(f=65533,d=1):65535<f&&(f-=65536,g.push(f>>>10&1023|55296),f=56320|f&1023);g.push(f);b+=d}a=g.length;if(a<=E)g=String.fromCharCode.apply(String,g);else{c="";for(b=0;b<a;)c+=String.fromCharCode.apply(String,g.slice(b,b+=E));g=c}return g}function n(a,b,c){if(0!==a%1||0>a)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length");}function m(a,b,c,g,e,d){if(!f.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');
if(b>e||b<d)throw new RangeError('"value" argument is out of bounds');if(c+g>a.length)throw new RangeError("Index out of range");}function u(a,b,c,g){0>b&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(g?e:1-e))>>>8*(g?e:1-e)}function v(a,b,c,g){0>b&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(g?e:3-e)&255}function C(a,b,c,g,e,f){if(c+g>a.length)throw new RangeError("Index out of range");if(0>c)throw new RangeError("Index out of range");
}function H(a,b,c,g,e){e||C(a,b,c,4,3.4028234663852886E38,-3.4028234663852886E38);r.write(a,b,c,g,23,4);return c+4}function L(a,b,c,g,e){e||C(a,b,c,8,1.7976931348623157E308,-1.7976931348623157E308);r.write(a,b,c,g,52,8);return c+8}function g(a){a=a.trim?a.trim():a.replace(/^\s+|\s+$/g,"");a=a.replace(J,"");if(2>a.length)return"";for(;0!==a.length%4;)a+="=";return a}function q(a,b){b=b||Infinity;for(var c,g=a.length,e=null,f=[],d=0;d<g;++d){c=a.charCodeAt(d);if(55295<c&&57344>c){if(!e){if(56319<c){-1<
(b-=3)&&f.push(239,191,189);continue}else if(d+1===g){-1<(b-=3)&&f.push(239,191,189);continue}e=c;continue}if(56320>c){-1<(b-=3)&&f.push(239,191,189);e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&-1<(b-=3)&&f.push(239,191,189);e=null;if(128>c){if(0>(b-=1))break;f.push(c)}else if(2048>c){if(0>(b-=2))break;f.push(c>>6|192,c&63|128)}else if(65536>c){if(0>(b-=3))break;f.push(c>>12|224,c>>6&63|128,c&63|128)}else if(1114112>c){if(0>(b-=4))break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw Error("Invalid code point");
}return f}function p(a){for(var b=[],c=0;c<a.length;++c)b.push(a.charCodeAt(c)&255);return b}function N(a,b,c,g){for(var e=0;e<g&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}var P=h("base64-js"),r=h("ieee754"),I=h("isarray");d.Buffer=f;d.SlowBuffer=function(a){+a!=a&&(a=0);return f.alloc(+a)};d.INSPECT_MAX_BYTES=50;f.TYPED_ARRAY_SUPPORT=void 0!==c.TYPED_ARRAY_SUPPORT?c.TYPED_ARRAY_SUPPORT:k();d.kMaxLength=f.TYPED_ARRAY_SUPPORT?2147483647:1073741823;f.poolSize=8192;f._augment=function(a){a.__proto__=
f.prototype;return a};f.from=function(a,c,g){return b(null,a,c,g)};f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0}));f.alloc=function(b,c,g){a(b);b=0>=b?l(null,b):void 0!==c?"string"===typeof g?l(null,b).fill(c,g):l(null,b).fill(c):l(null,b);return b};f.allocUnsafe=function(a){return e(null,a)};f.allocUnsafeSlow=function(a){return e(null,
a)};f.isBuffer=function(a){return!(null==a||!a._isBuffer)};f.compare=function(a,b){if(!f.isBuffer(a)||!f.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,g=b.length,e=0,d=Math.min(c,g);e<d;++e)if(a[e]!==b[e]){c=a[e];g=b[e];break}return c<g?-1:g<c?1:0};f.isEncoding=function(a){switch(String(a).toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "latin1":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":return!0;
default:return!1}};f.concat=function(a,b){if(!I(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return f.alloc(0);var c;if(void 0===b)for(c=b=0;c<a.length;++c)b+=a[c].length;var g=f.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var d=a[c];if(!f.isBuffer(d))throw new TypeError('"list" argument must be an Array of Buffers');d.copy(g,e);e+=d.length}return g};f.byteLength=s;f.prototype._isBuffer=!0;f.prototype.swap16=function(){var a=this.length;if(0!==a%2)throw new RangeError("Buffer size must be a multiple of 16-bits");
for(var b=0;b<a;b+=2)y(this,b,b+1);return this};f.prototype.swap32=function(){var a=this.length;if(0!==a%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)y(this,b,b+3),y(this,b+1,b+2);return this};f.prototype.swap64=function(){var a=this.length;if(0!==a%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)y(this,b,b+7),y(this,b+1,b+6),y(this,b+2,b+5),y(this,b+3,b+4);return this};f.prototype.toString=function(){var a=this.length|
0;return 0===a?"":0===arguments.length?G(this,0,a):D.apply(this,arguments)};f.prototype.equals=function(a){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:0===f.compare(this,a)};f.prototype.inspect=function(){var a="",b=d.INSPECT_MAX_BYTES;0<this.length&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... "));return"<Buffer "+a+">"};f.prototype.compare=function(a,b,c,g,e){if(!f.isBuffer(a))throw new TypeError("Argument must be a Buffer");
void 0===b&&(b=0);void 0===c&&(c=a?a.length:0);void 0===g&&(g=0);void 0===e&&(e=this.length);if(0>b||c>a.length||0>g||e>this.length)throw new RangeError("out of range index");if(g>=e&&b>=c)return 0;if(g>=e)return-1;if(b>=c)return 1;b>>>=0;c>>>=0;g>>>=0;e>>>=0;if(this===a)return 0;var d=e-g,k=c-b,m=Math.min(d,k);g=this.slice(g,e);a=a.slice(b,c);for(b=0;b<m;++b)if(g[b]!==a[b]){d=g[b];k=a[b];break}return d<k?-1:k<d?1:0};f.prototype.includes=function(a,b,c){return-1!==this.indexOf(a,b,c)};f.prototype.indexOf=
function(a,b,c){return F(this,a,b,c,!0)};f.prototype.lastIndexOf=function(a,b,c){return F(this,a,b,c,!1)};f.prototype.write=function(a,b,c,e){if(void 0===b)e="utf8",c=this.length,b=0;else if(void 0===c&&"string"===typeof b)e=b,c=this.length,b=0;else if(isFinite(b))b|=0,isFinite(c)?(c|=0,void 0===e&&(e="utf8")):(e=c,c=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var f=this.length-b;if(void 0===c||c>f)c=f;if(0<a.length&&(0>c||0>b)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");
e||(e="utf8");for(f=!1;;)switch(e){case "hex":a:{b=Number(b)||0;e=this.length-b;c?(c=Number(c),c>e&&(c=e)):c=e;e=a.length;if(0!==e%2)throw new TypeError("Invalid hex string");c>e/2&&(c=e/2);for(e=0;e<c;++e){f=parseInt(a.substr(2*e,2),16);if(isNaN(f)){a=e;break a}this[b+e]=f}a=e}return a;case "utf8":case "utf-8":return N(q(a,this.length-b),this,b,c);case "ascii":return N(p(a),this,b,c);case "latin1":case "binary":return N(p(a),this,b,c);case "base64":return N(P.toByteArray(g(a)),this,b,c);case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":e=
this.length-b;for(var d=void 0,d=f=void 0,k=[],m=0;m<a.length&&!(0>(e-=2));++m)d=a.charCodeAt(m),f=d>>8,d%=256,k.push(d),k.push(f);return N(k,this,b,c);default:if(f)throw new TypeError("Unknown encoding: "+e);e=(""+e).toLowerCase();f=!0}};f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;f.prototype.slice=function(a,b){var c=this.length;a=~~a;b=void 0===b?c:~~b;0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c);0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c);b<a&&(b=
a);if(f.TYPED_ARRAY_SUPPORT)c=this.subarray(a,b),c.__proto__=f.prototype;else for(var g=b-a,c=new f(g,void 0),e=0;e<g;++e)c[e]=this[e+a];return c};f.prototype.readUIntLE=function(a,b,c){a|=0;b|=0;c||n(a,b,this.length);c=this[a];for(var g=1,e=0;++e<b&&(g*=256);)c+=this[a+e]*g;return c};f.prototype.readUIntBE=function(a,b,c){a|=0;b|=0;c||n(a,b,this.length);c=this[a+--b];for(var g=1;0<b&&(g*=256);)c+=this[a+--b]*g;return c};f.prototype.readUInt8=function(a,b){b||n(a,1,this.length);return this[a]};f.prototype.readUInt16LE=
function(a,b){b||n(a,2,this.length);return this[a]|this[a+1]<<8};f.prototype.readUInt16BE=function(a,b){b||n(a,2,this.length);return this[a]<<8|this[a+1]};f.prototype.readUInt32LE=function(a,b){b||n(a,4,this.length);return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]};f.prototype.readUInt32BE=function(a,b){b||n(a,4,this.length);return 16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])};f.prototype.readIntLE=function(a,b,c){a|=0;b|=0;c||n(a,b,this.length);c=this[a];for(var g=1,e=0;++e<
b&&(g*=256);)c+=this[a+e]*g;c>=128*g&&(c-=Math.pow(2,8*b));return c};f.prototype.readIntBE=function(a,b,c){a|=0;b|=0;c||n(a,b,this.length);c=b;for(var g=1,e=this[a+--c];0<c&&(g*=256);)e+=this[a+--c]*g;e>=128*g&&(e-=Math.pow(2,8*b));return e};f.prototype.readInt8=function(a,b){b||n(a,1,this.length);return this[a]&128?-1*(255-this[a]+1):this[a]};f.prototype.readInt16LE=function(a,b){b||n(a,2,this.length);var c=this[a]|this[a+1]<<8;return c&32768?c|4294901760:c};f.prototype.readInt16BE=function(a,b){b||
n(a,2,this.length);var c=this[a+1]|this[a]<<8;return c&32768?c|4294901760:c};f.prototype.readInt32LE=function(a,b){b||n(a,4,this.length);return this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24};f.prototype.readInt32BE=function(a,b){b||n(a,4,this.length);return this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]};f.prototype.readFloatLE=function(a,b){b||n(a,4,this.length);return r.read(this,a,!0,23,4)};f.prototype.readFloatBE=function(a,b){b||n(a,4,this.length);return r.read(this,a,!1,23,4)};f.prototype.readDoubleLE=
function(a,b){b||n(a,8,this.length);return r.read(this,a,!0,52,8)};f.prototype.readDoubleBE=function(a,b){b||n(a,8,this.length);return r.read(this,a,!1,52,8)};f.prototype.writeUIntLE=function(a,b,c,g){a=+a;b|=0;c|=0;g||(g=Math.pow(2,8*c)-1,m(this,a,b,c,g,0));g=1;var e=0;for(this[b]=a&255;++e<c&&(g*=256);)this[b+e]=a/g&255;return b+c};f.prototype.writeUIntBE=function(a,b,c,g){a=+a;b|=0;c|=0;g||(g=Math.pow(2,8*c)-1,m(this,a,b,c,g,0));g=c-1;var e=1;for(this[b+g]=a&255;0<=--g&&(e*=256);)this[b+g]=a/e&
255;return b+c};f.prototype.writeUInt8=function(a,b,c){a=+a;b|=0;c||m(this,a,b,1,255,0);f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));this[b]=a&255;return b+1};f.prototype.writeUInt16LE=function(a,b,c){a=+a;b|=0;c||m(this,a,b,2,65535,0);f.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):u(this,a,b,!0);return b+2};f.prototype.writeUInt16BE=function(a,b,c){a=+a;b|=0;c||m(this,a,b,2,65535,0);f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):u(this,a,b,!1);return b+2};f.prototype.writeUInt32LE=function(a,
b,c){a=+a;b|=0;c||m(this,a,b,4,4294967295,0);f.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=a&255):v(this,a,b,!0);return b+4};f.prototype.writeUInt32BE=function(a,b,c){a=+a;b|=0;c||m(this,a,b,4,4294967295,0);f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):v(this,a,b,!1);return b+4};f.prototype.writeIntLE=function(a,b,c,g){a=+a;b|=0;g||(g=Math.pow(2,8*c-1),m(this,a,b,c,g-1,-g));g=0;var e=1,f=0;for(this[b]=a&255;++g<c&&(e*=256);)0>
a&&0===f&&0!==this[b+g-1]&&(f=1),this[b+g]=(a/e>>0)-f&255;return b+c};f.prototype.writeIntBE=function(a,b,c,g){a=+a;b|=0;g||(g=Math.pow(2,8*c-1),m(this,a,b,c,g-1,-g));g=c-1;var e=1,f=0;for(this[b+g]=a&255;0<=--g&&(e*=256);)0>a&&0===f&&0!==this[b+g+1]&&(f=1),this[b+g]=(a/e>>0)-f&255;return b+c};f.prototype.writeInt8=function(a,b,c){a=+a;b|=0;c||m(this,a,b,1,127,-128);f.TYPED_ARRAY_SUPPORT||(a=Math.floor(a));0>a&&(a=255+a+1);this[b]=a&255;return b+1};f.prototype.writeInt16LE=function(a,b,c){a=+a;b|=
0;c||m(this,a,b,2,32767,-32768);f.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8):u(this,a,b,!0);return b+2};f.prototype.writeInt16BE=function(a,b,c){a=+a;b|=0;c||m(this,a,b,2,32767,-32768);f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=a&255):u(this,a,b,!1);return b+2};f.prototype.writeInt32LE=function(a,b,c){a=+a;b|=0;c||m(this,a,b,4,2147483647,-2147483648);f.TYPED_ARRAY_SUPPORT?(this[b]=a&255,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):v(this,a,b,!0);return b+4};f.prototype.writeInt32BE=
function(a,b,c){a=+a;b|=0;c||m(this,a,b,4,2147483647,-2147483648);0>a&&(a=4294967295+a+1);f.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=a&255):v(this,a,b,!1);return b+4};f.prototype.writeFloatLE=function(a,b,c){return H(this,a,b,!0,c)};f.prototype.writeFloatBE=function(a,b,c){return H(this,a,b,!1,c)};f.prototype.writeDoubleLE=function(a,b,c){return L(this,a,b,!0,c)};f.prototype.writeDoubleBE=function(a,b,c){return L(this,a,b,!1,c)};f.prototype.copy=function(a,b,
c,g){c||(c=0);g||0===g||(g=this.length);b>=a.length&&(b=a.length);b||(b=0);0<g&&g<c&&(g=c);if(g===c||0===a.length||0===this.length)return 0;if(0>b)throw new RangeError("targetStart out of bounds");if(0>c||c>=this.length)throw new RangeError("sourceStart out of bounds");if(0>g)throw new RangeError("sourceEnd out of bounds");g>this.length&&(g=this.length);a.length-b<g-c&&(g=a.length-b+c);var e=g-c;if(this===a&&c<b&&b<g)for(g=e-1;0<=g;--g)a[g+b]=this[g+c];else if(1E3>e||!f.TYPED_ARRAY_SUPPORT)for(g=
0;g<e;++g)a[g+b]=this[g+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+e),b);return e};f.prototype.fill=function(a,b,c,g){if("string"===typeof a){"string"===typeof b?(g=b,b=0,c=this.length):"string"===typeof c&&(g=c,c=this.length);if(1===a.length){var e=a.charCodeAt(0);256>e&&(a=e)}if(void 0!==g&&"string"!==typeof g)throw new TypeError("encoding must be a string");if("string"===typeof g&&!f.isEncoding(g))throw new TypeError("Unknown encoding: "+g);}else"number"===typeof a&&(a&=255);if(0>
b||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0;c=void 0===c?this.length:c>>>0;a||(a=0);if("number"===typeof a)for(g=b;g<c;++g)this[g]=a;else for(a=f.isBuffer(a)?a:q((new f(a,g)).toString()),e=a.length,g=0;g<c-b;++g)this[g+b]=a[g%e];return this};var J=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{"base64-js":4,ieee754:7,isarray:9}],7:[function(h,n,d){d.read=
function(c,d,l,f,b){var a;a=8*b-f-1;var e=(1<<a)-1,h=e>>1,t=-7;b=l?b-1:0;var w=l?-1:1,s=c[d+b];b+=w;l=s&(1<<-t)-1;s>>=-t;for(t+=a;0<t;l=256*l+c[d+b],b+=w,t-=8);a=l&(1<<-t)-1;l>>=-t;for(t+=f;0<t;a=256*a+c[d+b],b+=w,t-=8);if(0===l)l=1-h;else{if(l===e)return a?NaN:Infinity*(s?-1:1);a+=Math.pow(2,f);l-=h}return(s?-1:1)*a*Math.pow(2,l-f)};d.write=function(c,d,l,f,b,a){var e,h=8*a-b-1,t=(1<<h)-1,w=t>>1,s=23===b?Math.pow(2,-24)-Math.pow(2,-77):0;a=f?0:a-1;var D=f?1:-1,y=0>d||0===d&&0>1/d?1:0;d=Math.abs(d);
isNaN(d)||Infinity===d?(d=isNaN(d)?1:0,f=t):(f=Math.floor(Math.log(d)/Math.LN2),1>d*(e=Math.pow(2,-f))&&(f--,e*=2),d=1<=f+w?d+s/e:d+s*Math.pow(2,1-w),2<=d*e&&(f++,e/=2),f+w>=t?(d=0,f=t):1<=f+w?(d=(d*e-1)*Math.pow(2,b),f+=w):(d=d*Math.pow(2,w-1)*Math.pow(2,b),f=0));for(;8<=b;c[l+a]=d&255,a+=D,d/=256,b-=8);f=f<<b|d;for(h+=b;0<h;c[l+a]=f&255,a+=D,f/=256,h-=8);c[l+a-D]|=128*y}},{}],8:[function(h,n,d){(function(c){function d(){h=!0;for(var a,b,c=t.length;c;){b=t;t=[];for(a=-1;++a<c;)b[a]();c=t.length}h=
!1}var l=c.MutationObserver||c.WebKitMutationObserver,f;if(l){var b=0,l=new l(d),a=c.document.createTextNode("");l.observe(a,{characterData:!0});f=function(){a.data=b=++b%2}}else if(c.setImmediate||"undefined"===typeof c.MessageChannel)f="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var a=c.document.createElement("script");a.onreadystatechange=function(){d();a.onreadystatechange=null;a.parentNode.removeChild(a);a=null};c.document.documentElement.appendChild(a)}:
function(){setTimeout(d,0)};else{var e=new c.MessageChannel;e.port1.onmessage=d;f=function(){e.port2.postMessage(0)}}var h,t=[];n.exports=function(a){1!==t.push(a)||h||f()}}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],9:[function(h,n,d){var c={}.toString;n.exports=Array.isArray||function(d){return"[object Array]"==c.call(d)}},{}],10:[function(h,n,d){function c(c){if(c){this.data=c;this.length=this.data.length;for(var d=this.zero=
this.index=0;d<this.data.length;d++)c[d]&=255}}h=h("./dataReader");c.prototype=new h;c.prototype.byteAt=function(c){return this.data[this.zero+c]};c.prototype.lastIndexOfSignature=function(c){var d=c.charCodeAt(0),f=c.charCodeAt(1),b=c.charCodeAt(2);c=c.charCodeAt(3);for(var a=this.length-4;0<=a;--a)if(this.data[a]===d&&this.data[a+1]===f&&this.data[a+2]===b&&this.data[a+3]===c)return a-this.zero;return-1};c.prototype.readData=function(c){this.checkOffset(c);if(0===c)return[];var d=this.data.slice(this.zero+
this.index,this.zero+this.index+c);this.index+=c;return d};n.exports=c},{"./dataReader":15}],11:[function(h,n,d){d.encode=function(c,d){for(var l="",f,b,a,e,h,t,w=0;w<c.length;)f=c.charCodeAt(w++),b=c.charCodeAt(w++),a=c.charCodeAt(w++),e=f>>2,f=(f&3)<<4|b>>4,h=(b&15)<<2|a>>6,t=a&63,isNaN(b)?h=t=64:isNaN(a)&&(t=64),l=l+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t);return l};d.decode=function(c,d){var l="",f,b,a,e,h,t=0;for(c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");t<c.length;)f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(t++)),b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(t++)),e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(t++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(c.charAt(t++)),
f=f<<2|b>>4,b=(b&15)<<4|e>>2,a=(e&3)<<6|h,l+=String.fromCharCode(f),64!=e&&(l+=String.fromCharCode(b)),64!=h&&(l+=String.fromCharCode(a));return l}},{}],12:[function(h,n,d){function c(){this.crc32=this.uncompressedSize=this.compressedSize=0;this.compressedContent=this.compressionMethod=null}c.prototype={getContent:function(){return null},getCompressedContent:function(){return null}};n.exports=c},{}],13:[function(h,n,d){d.STORE={magic:"\x00\x00",compress:function(c,d){return c},uncompress:function(c){return c},
compressInputType:null,uncompressInputType:null};d.DEFLATE=h("./flate")},{"./flate":18}],14:[function(h,n,d){var c=h("./utils"),k=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,
1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,
4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,
62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,
3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,
2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918E3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];n.exports=function(d,f){if("undefined"===typeof d||!d.length)return 0;var b="string"!==c.getTypeOf(d);"undefined"==typeof f&&(f=0);var a=0,a=a=0;f^=-1;for(var e=
0,h=d.length;e<h;e++)a=b?d[e]:d.charCodeAt(e),a=(f^a)&255,a=k[a],f=f>>>8^a;return f^-1}},{"./utils":31}],15:[function(h,n,d){function c(c){this.data=null;this.zero=this.index=this.length=0}var k=h("./utils");c.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||0>c)throw Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?");},setIndex:function(c){this.checkIndex(c);this.index=c},skip:function(c){this.setIndex(this.index+
c)},byteAt:function(c){},readInt:function(c){var f=0,b;this.checkOffset(c);for(b=this.index+c-1;b>=this.index;b--)f=(f<<8)+this.byteAt(b);this.index+=c;return f},readString:function(c){return k.transformTo("string",this.readData(c))},readData:function(c){},lastIndexOfSignature:function(c){},readDate:function(){var c=this.readInt(4);return new Date((c>>25&127)+1980,(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(c&31)<<1)}};n.exports=c},{"./utils":31}],16:[function(h,n,d){d.base64=!1;d.binary=!1;d.dir=!1;
d.createFolders=!1;d.date=null;d.compression=null;d.compressionOptions=null;d.comment=null;d.unixPermissions=null;d.dosPermissions=null},{}],17:[function(h,n,d){var c=h("./utils");d.string2binary=function(d){return c.string2binary(d)};d.string2Uint8Array=function(d){return c.transformTo("uint8array",d)};d.uint8Array2String=function(d){return c.transformTo("string",d)};d.string2Blob=function(d){d=c.transformTo("arraybuffer",d);return c.arrayBuffer2Blob(d)};d.arrayBuffer2Blob=function(d){return c.arrayBuffer2Blob(d)};
d.transformTo=function(d,l){return c.transformTo(d,l)};d.getTypeOf=function(d){return c.getTypeOf(d)};d.checkSupport=function(d){return c.checkSupport(d)};d.MAX_VALUE_16BITS=c.MAX_VALUE_16BITS;d.MAX_VALUE_32BITS=c.MAX_VALUE_32BITS;d.pretty=function(d){return c.pretty(d)};d.findCompression=function(d){return c.findCompression(d)};d.isRegExp=function(d){return c.isRegExp(d)}},{"./utils":31}],18:[function(h,n,d){n="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Uint32Array;
var c=h("pako");d.uncompressInputType=n?"uint8array":"array";d.compressInputType=n?"uint8array":"array";d.magic="\b\x00";d.compress=function(d,l){return c.deflateRaw(d,{level:l.level||-1})};d.uncompress=function(d){return c.inflateRaw(d)}},{pako:36}],19:[function(h,n,d){function c(d,f){if(!(this instanceof c))return new c(d,f);this.files={};this.comment=null;this.root="";d&&this.load(d,f);this.clone=function(){var b=new c,a;for(a in this)"function"!==typeof this[a]&&(b[a]=this[a]);return b}}var k=
h("./base64");c.prototype=h("./object");c.prototype.load=h("./load");c.support=h("./support");c.defaults=h("./defaults");c.utils=h("./deprecatedPublicUtils");c.base64={encode:function(c){return k.encode(c)},decode:function(c){return k.decode(c)}};c.compressions=h("./compressions");n.exports=c},{"./base64":11,"./compressions":13,"./defaults":16,"./deprecatedPublicUtils":17,"./load":20,"./object":23,"./support":27}],20:[function(h,n,d){var c=h("./base64"),k=h("./utf8"),l=h("./utils"),f=h("./zipEntries");
n.exports=function(b,a){var e,d,h,w;a=l.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:k.utf8decode});a.base64&&(b=c.decode(b));d=new f(b,a);e=d.files;for(h=0;h<e.length;h++)w=e[h],this.file(w.fileNameStr,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:a.createFolders});d.zipComment.length&&(this.comment=
d.zipComment);return this}},{"./base64":11,"./utf8":30,"./utils":31,"./zipEntries":32}],21:[function(h,n,d){(function(c){n.exports=function(d,l){return new c(d,l)};n.exports.test=function(d){return c.isBuffer(d)}}).call(this,h("buffer").Buffer)},{buffer:6}],22:[function(h,n,d){function c(c){this.data=c;this.length=this.data.length;this.zero=this.index=0}h=h("./uint8ArrayReader");c.prototype=new h;c.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+
this.index+c);this.index+=c;return d};n.exports=c},{"./uint8ArrayReader":28}],23:[function(h,n,d){var c=h("./support"),k=h("./utils"),l=h("./crc32"),f=h("./signature"),b=h("./defaults"),a=h("./base64"),e=h("./compressions"),A=h("./compressedObject"),t=h("./nodeBuffer"),w=h("./utf8"),s=h("./stringWriter"),D=h("./uint8ArrayWriter"),y=function(a){if(a._data instanceof A&&(a._data=a._data.getContent(),a.options.binary=!0,a.options.base64=!1,"uint8array"===k.getTypeOf(a._data))){var b=a._data;a._data=
new Uint8Array(b.length);0!==b.length&&a._data.set(b,0)}return a._data},F=function(a){var b=y(a);return"string"===k.getTypeOf(b)?!a.options.binary&&c.nodebuffer?t(b,"utf-8"):a.asBinary():b},x=function(b){var c=y(this);if(null===c||"undefined"===typeof c)return"";this.options.base64&&(c=a.decode(c));c=b&&this.options.binary?C.utf8decode(c):k.transformTo("string",c);b||this.options.binary||(c=k.transformTo("string",C.utf8encode(c)));return c},G=function(a,b,c){this.name=a;this.dir=c.dir;this.date=c.date;
this.comment=c.comment;this.unixPermissions=c.unixPermissions;this.dosPermissions=c.dosPermissions;this._data=b;this.options=c;this._initialMetadata={dir:c.dir,date:c.date}};G.prototype={asText:function(){return x.call(this,!0)},asBinary:function(){return x.call(this,!1)},asNodeBuffer:function(){var a=F(this);return k.transformTo("nodebuffer",a)},asUint8Array:function(){var a=F(this);return k.transformTo("uint8array",a)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var O=function(a,
b){var c="",e;for(e=0;e<b;e++)c+=String.fromCharCode(a&255),a>>>=8;return c},m=function(a,c,g){var e=k.getTypeOf(c),f;g=g||{};!0!==g.base64||null!==g.binary&&void 0!==g.binary||(g.binary=!0);g=k.extend(g,b);g.date=g.date||new Date;null!==g.compression&&(g.compression=g.compression.toUpperCase());"string"===typeof g.unixPermissions&&(g.unixPermissions=parseInt(g.unixPermissions,8));g.unixPermissions&&g.unixPermissions&16384&&(g.dir=!0);g.dosPermissions&&g.dosPermissions&16&&(g.dir=!0);g.dir&&(a=u(a));
var d;if(d=g.createFolders)f=a,"/"==f.slice(-1)&&(f=f.substring(0,f.length-1)),d=f.lastIndexOf("/"),d=f=0<d?f.substring(0,d):"";d&&v.call(this,f,!0);if(g.dir||null===c||"undefined"===typeof c)g.base64=!1,g.binary=!1,c=null;else if("string"===e)g.binary&&!g.base64&&!0!==g.optimizedBinaryString&&(c=k.string2binary(c));else{g.base64=!1;g.binary=!0;if(!(e||c instanceof A))throw Error("The data of '"+a+"' is in an unsupported format !");"arraybuffer"===e&&(c=k.transformTo("uint8array",c))}c=new G(a,c,
g);return this.files[a]=c},u=function(a){"/"!=a.slice(-1)&&(a+="/");return a},v=function(a,b){b="undefined"!==typeof b?b:!1;a=u(a);this.files[a]||m.call(this,a,null,{dir:!0,createFolders:b});return this.files[a]},C={load:function(a,b){throw Error("Load method is not defined. Is the file jszip-load.js included ?");},filter:function(a){var b=[],c,e,f;for(c in this.files)this.files.hasOwnProperty(c)&&(e=this.files[c],f=new G(e.name,e._data,k.extend(e.options)),e=c.slice(this.root.length,c.length),c.slice(0,
this.root.length)===this.root&&a(e,f)&&b.push(f));return b},file:function(a,b,c){if(1===arguments.length){if(k.isRegExp(a)){var e=a;return this.filter(function(a,b){return!b.dir&&e.test(a)})}return this.filter(function(b,c){return!c.dir&&b===a})[0]||null}a=this.root+a;m.call(this,a,b,c);return this},folder:function(a){if(!a)return this;if(k.isRegExp(a))return this.filter(function(b,c){return c.dir&&a.test(b)});var b=v.call(this,this.root+a),c=this.clone();c.root=b.name;return c},remove:function(a){a=
this.root+a;var b=this.files[a];b||("/"!=a.slice(-1)&&(a+="/"),b=this.files[a]);if(b&&!b.dir)delete this.files[a];else for(var b=this.filter(function(b,c){return c.name.slice(0,a.length)===a}),c=0;c<b.length;c++)delete this.files[b[c].name];return this},generate:function(b){b=k.extend(b||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:w.utf8encode});k.checkSupport(b.type);if("darwin"===b.platform||"freebsd"===
b.platform||"linux"===b.platform||"sunos"===b.platform)b.platform="UNIX";"win32"===b.platform&&(b.platform="DOS");var c=[],g=0,d=0,m=k.transformTo("string",b.encodeFileName(b.comment||this.comment||"")),N;for(N in this.files)if(this.files.hasOwnProperty(N)){var h=this.files[N],y=h.options.compression||b.compression.toUpperCase(),t=e[y];if(!t)throw Error(y+" is not a valid compression method !");var y=h,G=h.options.compressionOptions||b.compressionOptions||{},x=new A,u=void 0;if(y._data instanceof
A)x.uncompressedSize=y._data.uncompressedSize,x.crc32=y._data.crc32,0===x.uncompressedSize||y.dir?(t=e.STORE,x.compressedContent="",x.crc32=0):y._data.compressionMethod===t.magic?x.compressedContent=y._data.getCompressedContent():(u=y._data.getContent(),x.compressedContent=t.compress(k.transformTo(t.compressInputType,u),G));else{u=F(y);if(!u||0===u.length||y.dir)t=e.STORE,u="";x.uncompressedSize=u.length;x.crc32=l(u);x.compressedContent=t.compress(k.transformTo(t.compressInputType,u),G)}x.compressedSize=
x.compressedContent.length;x.compressionMethod=t.magic;var y=x,z=h,h=y,t=g,n=b.platform,u=b.encodeFileName,x=u!==w.utf8encode,G=k.transformTo("string",u(z.name)),v=k.transformTo("string",w.utf8encode(z.name)),C=z.comment||"",u=k.transformTo("string",u(C)),Z=k.transformTo("string",w.utf8encode(C)),va=v.length!==z.name.length,ia=Z.length!==C.length,U=z.options,S=void 0,$=void 0,Y=C="",Y="",Y=S=void 0,S=z._initialMetadata.dir!==z.dir?z.dir:U.dir,Y=z._initialMetadata.date!==z.date?z.date:U.date,da=0,
U=0;S&&(da|=16);"UNIX"===n?(U=798,n=da,(da=z=z.unixPermissions)||(da=S?16893:33204),da=n|(da&65535)<<16):(U=20,da|=(z.dosPermissions||0)&63);S=Y.getHours();S<<=6;S|=Y.getMinutes();S<<=5;S|=Y.getSeconds()/2;$=Y.getFullYear()-1980;$<<=4;$|=Y.getMonth()+1;$<<=5;$|=Y.getDate();va&&(Y=O(1,1)+O(l(G),4)+v,C+="up"+O(Y.length,2)+Y);ia&&(Y=O(1,1)+O(this.crc32(u),4)+Z,C+="uc"+O(Y.length,2)+Y);v="";v+="\n\x00";v+=x||!va&&!ia?"\x00\x00":"\x00\b";v+=h.compressionMethod;v+=O(S,2);v+=O($,2);v+=O(h.crc32,4);v+=O(h.compressedSize,
4);v+=O(h.uncompressedSize,4);v+=O(G.length,2);v+=O(C.length,2);x=f.LOCAL_FILE_HEADER+v+G+C;t=f.CENTRAL_FILE_HEADER+O(U,2)+v+O(u.length,2)+"\x00\x00\x00\x00"+O(da,4)+O(t,4)+G+C+u;h={fileRecord:x,dirRecord:t,compressedObject:h};g+=h.fileRecord.length+y.compressedSize;d+=h.dirRecord.length;c.push(h)}N="";N=f.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+O(c.length,2)+O(c.length,2)+O(d,4)+O(g,4)+O(m.length,2)+m;m=b.type.toLowerCase();g="uint8array"===m||"arraybuffer"===m||"blob"===m||"nodebuffer"===m?new D(g+
d+N.length):new s(g+d+N.length);for(d=0;d<c.length;d++)g.append(c[d].fileRecord),g.append(c[d].compressedObject.compressedContent);for(d=0;d<c.length;d++)g.append(c[d].dirRecord);g.append(N);c=g.finalize();switch(b.type.toLowerCase()){case "uint8array":case "arraybuffer":case "nodebuffer":return k.transformTo(b.type.toLowerCase(),c);case "blob":return k.arrayBuffer2Blob(k.transformTo("arraybuffer",c),b.mimeType);case "base64":return b.base64?a.encode(c):c;default:return c}},crc32:function(a,b){return l(a,
b)},utf8encode:function(a){return k.transformTo("string",w.utf8encode(a))},utf8decode:function(a){return w.utf8decode(a)}};n.exports=C},{"./base64":11,"./compressedObject":12,"./compressions":13,"./crc32":14,"./defaults":16,"./nodeBuffer":21,"./signature":24,"./stringWriter":26,"./support":27,"./uint8ArrayWriter":29,"./utf8":30,"./utils":31}],24:[function(h,n,d){d.LOCAL_FILE_HEADER="PK\u0003\u0004";d.CENTRAL_FILE_HEADER="PK\u0001\u0002";d.CENTRAL_DIRECTORY_END="PK\u0005\u0006";d.ZIP64_CENTRAL_DIRECTORY_LOCATOR=
"PK\u0006\u0007";d.ZIP64_CENTRAL_DIRECTORY_END="PK\u0006\u0006";d.DATA_DESCRIPTOR="PK\u0007\b"},{}],25:[function(h,n,d){function c(c,f){this.data=c;f||(this.data=k.string2binary(this.data));this.length=this.data.length;this.zero=this.index=0}d=h("./dataReader");var k=h("./utils");c.prototype=new d;c.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)};c.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero};c.prototype.readData=function(c){this.checkOffset(c);
var f=this.data.slice(this.zero+this.index,this.zero+this.index+c);this.index+=c;return f};n.exports=c},{"./dataReader":15,"./utils":31}],26:[function(h,n,d){var c=h("./utils");h=function(){this.data=[]};h.prototype={append:function(d){d=c.transformTo("string",d);this.data.push(d)},finalize:function(){return this.data.join("")}};n.exports=h},{"./utils":31}],27:[function(h,n,d){h=h("buffer").Buffer;d.base64=!0;d.array=!0;d.string=!0;d.arraybuffer="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array;
d.nodebuffer="undefined"!==typeof h;d.uint8array="undefined"!==typeof Uint8Array;if("undefined"===typeof ArrayBuffer)d.blob=!1;else{h=new ArrayBuffer(0);try{d.blob=0===(new Blob([h],{type:"application/zip"})).size}catch(c){try{var k=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);k.append(h);d.blob=0===k.getBlob("application/zip").size}catch(l){d.blob=!1}}}},{buffer:6}],28:[function(h,n,d){function c(c){c&&(this.data=c,this.length=this.data.length,this.zero=
this.index=0)}h=h("./arrayReader");c.prototype=new h;c.prototype.readData=function(c){this.checkOffset(c);if(0===c)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);this.index+=c;return d};n.exports=c},{"./arrayReader":10}],29:[function(h,n,d){var c=h("./utils");h=function(c){this.data=new Uint8Array(c);this.index=0};h.prototype={append:function(d){0!==d.length&&(d=c.transformTo("uint8array",d),this.data.set(d,this.index),this.index+=d.length)},finalize:function(){return this.data}};
n.exports=h},{"./utils":31}],30:[function(h,n,d){var c=h("./utils"),k=h("./support"),l=h("./nodeBuffer"),f=Array(256);for(h=0;256>h;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;var b=function(a){var b,d,k,l,s=a.length,h=Array(2*s);for(b=d=0;b<s;)if(k=a[b++],128>k)h[d++]=k;else if(l=f[k],4<l)h[d++]=65533,b+=l-1;else{for(k&=2===l?31:3===l?15:7;1<l&&b<s;)k=k<<6|a[b++]&63,l--;1<l?h[d++]=65533:65536>k?h[d++]=k:(k-=65536,h[d++]=55296|k>>10&1023,h[d++]=56320|k&1023)}h.length!==
d&&(h.subarray?h=h.subarray(0,d):h.length=d);return c.applyFromCharCode(h)};d.utf8encode=function(a){if(k.nodebuffer)return l(a,"utf-8");var b,c,d,f,s,h=a.length,y=0;for(f=0;f<h;f++)c=a.charCodeAt(f),55296===(c&64512)&&f+1<h&&(d=a.charCodeAt(f+1),56320===(d&64512)&&(c=65536+(c-55296<<10)+(d-56320),f++)),y+=128>c?1:2048>c?2:65536>c?3:4;b=k.uint8array?new Uint8Array(y):Array(y);for(f=s=0;s<y;f++)c=a.charCodeAt(f),55296===(c&64512)&&f+1<h&&(d=a.charCodeAt(f+1),56320===(d&64512)&&(c=65536+(c-55296<<10)+
(d-56320),f++)),128>c?b[s++]=c:(2048>c?b[s++]=192|c>>>6:(65536>c?b[s++]=224|c>>>12:(b[s++]=240|c>>>18,b[s++]=128|c>>>12&63),b[s++]=128|c>>>6&63),b[s++]=128|c&63);return b};d.utf8decode=function(a){if(k.nodebuffer)return c.transformTo("nodebuffer",a).toString("utf-8");a=c.transformTo(k.uint8array?"uint8array":"array",a);for(var e=[],d=0,h=a.length;d<h;){var l;l=Math.min(d+65536,h);var s=void 0;l=l||a.length;l>a.length&&(l=a.length);for(s=l-1;0<=s&&128===(a[s]&192);)s--;l=0>s?l:0===s?l:s+f[a[s]]>l?
s:l;k.uint8array?e.push(b(a.subarray(d,l))):e.push(b(a.slice(d,l)));d=l}return e.join("")}},{"./nodeBuffer":21,"./support":27,"./utils":31}],31:[function(h,n,d){function c(a){return a}function k(a,b){for(var c=0;c<a.length;++c)b[c]=a.charCodeAt(c)&255;return b}function l(a){var b=65536,c=[],f=a.length,k=d.getTypeOf(a),l=0,h=!0;try{switch(k){case "uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case "nodebuffer":String.fromCharCode.apply(null,e(0))}}catch(G){h=!1}if(!h){b="";for(c=
0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}for(;l<f&&1<b;)try{"array"===k||"nodebuffer"===k?c.push(String.fromCharCode.apply(null,a.slice(l,Math.min(l+b,f)))):c.push(String.fromCharCode.apply(null,a.subarray(l,Math.min(l+b,f)))),l+=b}catch(A){b=Math.floor(b/2)}return c.join("")}function f(a,b){for(var c=0;c<a.length;c++)b[c]=a[c];return b}var b=h("./support"),a=h("./compressions"),e=h("./nodeBuffer");d.string2binary=function(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)&
255);return b};d.arrayBuffer2Blob=function(a,b){d.checkSupport("blob");b=b||"application/zip";try{return new Blob([a],{type:b})}catch(c){try{var e=new (window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);e.append(a);return e.getBlob(b)}catch(f){throw Error("Bug : can't construct the Blob.");}}};d.applyFromCharCode=l;var A={};A.string={string:c,array:function(a){return k(a,Array(a.length))},arraybuffer:function(a){return A.string.uint8array(a).buffer},uint8array:function(a){return k(a,
new Uint8Array(a.length))},nodebuffer:function(a){return k(a,e(a.length))}};A.array={string:l,array:c,arraybuffer:function(a){return(new Uint8Array(a)).buffer},uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return e(a)}};A.arraybuffer={string:function(a){return l(new Uint8Array(a))},array:function(a){return f(new Uint8Array(a),Array(a.byteLength))},arraybuffer:c,uint8array:function(a){return new Uint8Array(a)},nodebuffer:function(a){return e(new Uint8Array(a))}};A.uint8array=
{string:l,array:function(a){return f(a,Array(a.length))},arraybuffer:function(a){return a.buffer},uint8array:c,nodebuffer:function(a){return e(a)}};A.nodebuffer={string:l,array:function(a){return f(a,Array(a.length))},arraybuffer:function(a){return A.nodebuffer.uint8array(a).buffer},uint8array:function(a){return f(a,new Uint8Array(a.length))},nodebuffer:c};d.transformTo=function(a,b){b||(b="");if(!a)return b;d.checkSupport(a);var c=d.getTypeOf(b);return A[c][a](b)};d.getTypeOf=function(a){if("string"===
typeof a)return"string";if("[object Array]"===Object.prototype.toString.call(a))return"array";if(b.nodebuffer&&e.test(a))return"nodebuffer";if(b.uint8array&&a instanceof Uint8Array)return"uint8array";if(b.arraybuffer&&a instanceof ArrayBuffer)return"arraybuffer"};d.checkSupport=function(a){if(!b[a.toLowerCase()])throw Error(a+" is not supported by this browser");};d.MAX_VALUE_16BITS=65535;d.MAX_VALUE_32BITS=-1;d.pretty=function(a){var b="",c,e;for(e=0;e<(a||"").length;e++)c=a.charCodeAt(e),b+="\\x"+
(16>c?"0":"")+c.toString(16).toUpperCase();return b};d.findCompression=function(b){for(var c in a)if(a.hasOwnProperty(c)&&a[c].magic===b)return a[c];return null};d.isRegExp=function(a){return"[object RegExp]"===Object.prototype.toString.call(a)};d.extend=function(){var a={},b,c;for(b=0;b<arguments.length;b++)for(c in arguments[b])arguments[b].hasOwnProperty(c)&&"undefined"===typeof a[c]&&(a[c]=arguments[b][c]);return a}},{"./compressions":13,"./nodeBuffer":21,"./support":27}],32:[function(h,n,d){function c(a,
b){this.files=[];this.loadOptions=b;a&&this.load(a)}var k=h("./stringReader"),l=h("./nodeBufferReader"),f=h("./uint8ArrayReader"),b=h("./arrayReader"),a=h("./utils"),e=h("./signature"),A=h("./zipEntry"),t=h("./support");h("./object");c.prototype={checkSignature:function(b){var c=this.reader.readString(4);if(c!==b)throw Error("Corrupted zip or bug : unexpected signature ("+a.pretty(c)+", expected "+a.pretty(b)+")");},isSignature:function(a,b){var c=this.reader.index;this.reader.setIndex(a);var e=this.reader.readString(4)===
b;this.reader.setIndex(c);return e},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2);this.diskWithCentralDirStart=this.reader.readInt(2);this.centralDirRecordsOnThisDisk=this.reader.readInt(2);this.centralDirRecords=this.reader.readInt(2);this.centralDirSize=this.reader.readInt(4);this.centralDirOffset=this.reader.readInt(4);this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),b=a.transformTo(t.uint8array?"uint8array":"array",b);this.zipComment=
this.loadOptions.decodeFileName(b)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8);this.versionMadeBy=this.reader.readString(2);this.versionNeeded=this.reader.readInt(2);this.diskNumber=this.reader.readInt(4);this.diskWithCentralDirStart=this.reader.readInt(4);this.centralDirRecordsOnThisDisk=this.reader.readInt(8);this.centralDirRecords=this.reader.readInt(8);this.centralDirSize=this.reader.readInt(8);this.centralDirOffset=this.reader.readInt(8);this.zip64ExtensibleData=
{};for(var a=this.zip64EndOfCentralSize-44,b,c,e;0<a;)b=this.reader.readInt(2),c=this.reader.readInt(4),e=this.reader.readString(c),this.zip64ExtensibleData[b]={id:b,length:c,value:e}},readBlockZip64EndOfCentralLocator:function(){this.diskWithZip64CentralDirStart=this.reader.readInt(4);this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8);this.disksCount=this.reader.readInt(4);if(1<this.disksCount)throw Error("Multi-volumes zip are not supported");},readLocalFiles:function(){var a,b;for(a=
0;a<this.files.length;a++)b=this.files[a],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(e.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var a;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===e.CENTRAL_FILE_HEADER;)a=new A({zip64:this.zip64},this.loadOptions),a.readCentralPart(this.reader),this.files.push(a);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw Error("Corrupted zip or bug: expected "+
this.centralDirRecords+" records in central dir, got "+this.files.length);},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(e.CENTRAL_DIRECTORY_END);if(0>b){if(this.isSignature(0,e.LOCAL_FILE_HEADER))throw Error("Corrupted zip : can't find end of central directory");throw Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");}this.reader.setIndex(b);var c=b;this.checkSignature(e.CENTRAL_DIRECTORY_END);
this.readBlockEndOfCentral();if(this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){this.zip64=!0;b=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR);if(0>b)throw Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(b);
this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_LOCATOR);this.readBlockZip64EndOfCentralLocator();if(!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,e.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(e.ZIP64_CENTRAL_DIRECTORY_END),0>this.relativeOffsetEndOfZip64CentralDir))throw Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir);this.checkSignature(e.ZIP64_CENTRAL_DIRECTORY_END);
this.readBlockZip64EndOfCentral()}b=this.centralDirOffset+this.centralDirSize;this.zip64&&(b=b+20+(12+this.zip64EndOfCentralSize));b=c-b;if(0<b)this.isSignature(c,e.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(0>b)throw Error("Corrupted zip: missing "+Math.abs(b)+" bytes.");},prepareReader:function(c){var e=a.getTypeOf(c);a.checkSupport(e);if("string"!==e||t.uint8array)if("nodebuffer"===e)this.reader=new l(c);else if(t.uint8array)this.reader=new f(a.transformTo("uint8array",c));else if(t.array)this.reader=
new b(a.transformTo("array",c));else throw Error("Unexpected error: unsupported type '"+e+"'");else this.reader=new k(c,this.loadOptions.optimizedBinaryString)},load:function(a){this.prepareReader(a);this.readEndOfCentral();this.readCentralDir();this.readLocalFiles()}};n.exports=c},{"./arrayReader":10,"./nodeBufferReader":22,"./object":23,"./signature":24,"./stringReader":25,"./support":27,"./uint8ArrayReader":28,"./utils":31,"./zipEntry":33}],33:[function(h,n,d){function c(a,b){this.options=a;this.loadOptions=
b}var k=h("./stringReader"),l=h("./utils"),f=h("./compressedObject"),b=h("./object"),a=h("./support");c.prototype={isEncrypted:function(){return 1===(this.bitFlag&1)},useUTF8:function(){return 2048===(this.bitFlag&2048)},prepareCompressedContent:function(a,b,c){return function(){var d=a.index;a.setIndex(b);var f=a.readData(c);a.setIndex(d);return f}},prepareContent:function(a,b,c,d,f){return function(){var a=l.transformTo(d.uncompressInputType,this.getCompressedContent()),a=d.uncompress(a);if(a.length!==
f)throw Error("Bug : uncompressed data size mismatch");return a}},readLocalPart:function(a){var c;a.skip(22);this.fileNameLength=a.readInt(2);c=a.readInt(2);this.fileName=a.readData(this.fileNameLength);a.skip(c);if(-1==this.compressedSize||-1==this.uncompressedSize)throw Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");c=l.findCompression(this.compressionMethod);if(null===c)throw Error("Corrupted zip : compression "+
l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new f;this.decompressed.compressedSize=this.compressedSize;this.decompressed.uncompressedSize=this.uncompressedSize;this.decompressed.crc32=this.crc32;this.decompressed.compressionMethod=this.compressionMethod;this.decompressed.getCompressedContent=this.prepareCompressedContent(a,a.index,this.compressedSize,c);this.decompressed.getContent=this.prepareContent(a,a.index,this.compressedSize,
c,this.uncompressedSize);if(this.loadOptions.checkCRC32&&(this.decompressed=l.transformTo("string",this.decompressed.getContent()),b.crc32(this.decompressed)!==this.crc32))throw Error("Corrupted zip : CRC32 mismatch");},readCentralPart:function(a){this.versionMadeBy=a.readInt(2);this.versionNeeded=a.readInt(2);this.bitFlag=a.readInt(2);this.compressionMethod=a.readString(2);this.date=a.readDate();this.crc32=a.readInt(4);this.compressedSize=a.readInt(4);this.uncompressedSize=a.readInt(4);this.fileNameLength=
a.readInt(2);this.extraFieldsLength=a.readInt(2);this.fileCommentLength=a.readInt(2);this.diskNumberStart=a.readInt(2);this.internalFileAttributes=a.readInt(2);this.externalFileAttributes=a.readInt(4);this.localHeaderOffset=a.readInt(4);if(this.isEncrypted())throw Error("Encrypted zip are not supported");this.fileName=a.readData(this.fileNameLength);this.readExtraFields(a);this.parseZIP64ExtraField(a);this.fileComment=a.readData(this.fileCommentLength)},processAttributes:function(){this.dosPermissions=
this.unixPermissions=null;var a=this.versionMadeBy>>8;this.dir=this.externalFileAttributes&16?!0:!1;0===a&&(this.dosPermissions=this.externalFileAttributes&63);3===a&&(this.unixPermissions=this.externalFileAttributes>>16&65535);this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(a){this.extraFields[1]&&(a=new k(this.extraFields[1].value),this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=a.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=
a.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=a.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=a.readInt(4)))},readExtraFields:function(a){var b=a.index,c,d,f;for(this.extraFields=this.extraFields||{};a.index<b+this.extraFieldsLength;)c=a.readInt(2),d=a.readInt(2),f=a.readString(d),this.extraFields[c]={id:c,length:d,value:f}},handleUTF8:function(){var c=a.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=b.utf8decode(this.fileName),
this.fileCommentStr=b.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();null!==d?this.fileNameStr=d:(d=l.transformTo(c,this.fileName),this.fileNameStr=this.loadOptions.decodeFileName(d));d=this.findExtraFieldUnicodeComment();null!==d?this.fileCommentStr=d:(c=l.transformTo(c,this.fileComment),this.fileCommentStr=this.loadOptions.decodeFileName(c))}},findExtraFieldUnicodePath:function(){var a=this.extraFields[28789];if(a){var c=new k(a.value);return 1!==c.readInt(1)||b.crc32(this.fileName)!==
c.readInt(4)?null:b.utf8decode(c.readString(a.length-5))}return null},findExtraFieldUnicodeComment:function(){var a=this.extraFields[25461];if(a){var c=new k(a.value);return 1!==c.readInt(1)||b.crc32(this.fileComment)!==c.readInt(4)?null:b.utf8decode(c.readString(a.length-5))}return null}};n.exports=c},{"./compressedObject":12,"./object":23,"./stringReader":25,"./support":27,"./utils":31}],34:[function(h,n,d){function c(){}function k(b){if("function"!==typeof b)throw new TypeError("resolver must be a function");
this.state=D;this.queue=[];this.outcome=void 0;b!==c&&a(this,b)}function l(a,b,c){this.promise=a;"function"===typeof b&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled);"function"===typeof c&&(this.onRejected=c,this.callRejected=this.otherCallRejected)}function f(a,b,c){A(function(){var e;try{e=b(c)}catch(d){return t.reject(a,d)}e===a?t.reject(a,new TypeError("Cannot resolve promise with itself")):t.resolve(a,e)})}function b(a){var b=a&&a.then;if(a&&("object"===typeof a||"function"===
typeof a)&&"function"===typeof b)return function(){b.apply(a,arguments)}}function a(a,b){function c(b){f||(f=!0,t.reject(a,b))}function d(b){f||(f=!0,t.resolve(a,b))}var f=!1,k=e(function(){b(d,c)});"error"===k.status&&c(k.value)}function e(a,b){var c={};try{c.value=a(b),c.status="success"}catch(e){c.status="error",c.value=e}return c}var A=h("immediate"),t={},w=["REJECTED"],s=["FULFILLED"],D=["PENDING"];n.exports=k;k.prototype["catch"]=function(a){return this.then(null,a)};k.prototype.then=function(a,
b){if("function"!==typeof a&&this.state===s||"function"!==typeof b&&this.state===w)return this;var e=new this.constructor(c);this.state!==D?f(e,this.state===s?a:b,this.outcome):this.queue.push(new l(e,a,b));return e};l.prototype.callFulfilled=function(a){t.resolve(this.promise,a)};l.prototype.otherCallFulfilled=function(a){f(this.promise,this.onFulfilled,a)};l.prototype.callRejected=function(a){t.reject(this.promise,a)};l.prototype.otherCallRejected=function(a){f(this.promise,this.onRejected,a)};
t.resolve=function(c,d){var f=e(b,d);if("error"===f.status)return t.reject(c,f.value);if(f=f.value)a(c,f);else{c.state=s;c.outcome=d;for(var f=-1,k=c.queue.length;++f<k;)c.queue[f].callFulfilled(d)}return c};t.reject=function(a,b){a.state=w;a.outcome=b;for(var c=-1,e=a.queue.length;++c<e;)a.queue[c].callRejected(b);return a};k.resolve=function(a){return a instanceof this?a:t.resolve(new this(c),a)};k.reject=function(a){var b=new this(c);return t.reject(b,a)};k.all=function(a){function b(a,c){e.resolve(a).then(function(a){k[c]=
a;++l!==d||f||(f=!0,t.resolve(h,k))},function(a){f||(f=!0,t.reject(h,a))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));var d=a.length,f=!1;if(!d)return this.resolve([]);for(var k=Array(d),l=0,s=-1,h=new this(c);++s<d;)b(a[s],s);return h};k.race=function(a){function b(a){e.resolve(a).then(function(a){f||(f=!0,t.resolve(l,a))},function(a){f||(f=!0,t.reject(l,a))})}var e=this;if("[object Array]"!==Object.prototype.toString.call(a))return this.reject(new TypeError("must be an array"));
var d=a.length,f=!1;if(!d)return this.resolve([]);for(var k=-1,l=new this(c);++k<d;)b(a[k]);return l}},{immediate:8}],35:[function(h,n,d){(function(){function c(){return 1}function d(a){w||"string"===typeof a||"number"===typeof a||(w=!0,console.error((new TypeError("LRU: key must be a string or number. Almost certainly a bug! "+typeof a)).stack))}function l(a){if(!(this instanceof l))return new l(a);"number"===typeof a&&(a={max:a});a||(a={});this._max=a.max;if(!this._max||"number"!==typeof this._max||
0>=this._max)this._max=Infinity;this._lengthCalculator=a.length||c;"function"!==typeof this._lengthCalculator&&(this._lengthCalculator=c);this._allowStale=a.stale||!1;this._maxAge=a.maxAge||null;this._dispose=a.dispose;this.reset()}function f(a,c,f){d(c);if(c=a._cache[c])b(a,c)?(h(a,c),a._allowStale||(c=void 0)):f&&(f=c,e(a,f),f.lu=a._mru++,a._lruList[f.lu]=f),c&&(c=c.value);return c}function b(a,b){if(!b||!b.maxAge&&!a._maxAge)return!1;var c=!1,c=Date.now()-b.now;return c=b.maxAge?c>b.maxAge:a._maxAge&&
c>a._maxAge}function a(a){for(;a._lru<a._mru&&a._length>a._max;)h(a,a._lruList[a._lru])}function e(a,b){for(delete a._lruList[b.lu];a._lru<a._mru&&!a._lruList[a._lru];)a._lru++}function h(a,b){b&&(a._dispose&&a._dispose(b.key,b.value),a._length-=b.length,a._itemCount--,delete a._cache[b.key],e(a,b))}function t(a,b,c,e,d,f){this.key=a;this.value=b;this.lu=c;this.length=e;this.now=d;f&&(this.maxAge=f)}"object"===typeof n&&n.exports?n.exports=l:this.LRUCache=l;var w=!1;Object.defineProperty(l.prototype,
"max",{set:function(b){if(!b||"number"!==typeof b||0>=b)b=Infinity;this._max=b;this._length>this._max&&a(this)},get:function(){return this._max},enumerable:!0});Object.defineProperty(l.prototype,"lengthCalculator",{set:function(b){if("function"!==typeof b){this._lengthCalculator=c;this._length=this._itemCount;for(var e in this._cache)this._cache[e].length=1}else for(e in this._lengthCalculator=b,this._length=0,this._cache)this._cache[e].length=this._lengthCalculator(this._cache[e].value),this._length+=
this._cache[e].length;this._length>this._max&&a(this)},get:function(){return this._lengthCalculator},enumerable:!0});Object.defineProperty(l.prototype,"length",{get:function(){return this._length},enumerable:!0});Object.defineProperty(l.prototype,"itemCount",{get:function(){return this._itemCount},enumerable:!0});l.prototype.forEach=function(a,c){c=c||this;for(var e=0,d=this._itemCount,f=this._mru-1;0<=f&&e<d;f--)if(this._lruList[f]){e++;var k=this._lruList[f];b(this,k)&&(h(this,k),this._allowStale||
(k=void 0));k&&a.call(c,k.value,k.key,this)}};l.prototype.keys=function(){for(var a=Array(this._itemCount),b=0,c=this._mru-1;0<=c&&b<this._itemCount;c--)if(this._lruList[c]){var e=this._lruList[c];a[b++]=e.key}return a};l.prototype.values=function(){for(var a=Array(this._itemCount),b=0,c=this._mru-1;0<=c&&b<this._itemCount;c--)if(this._lruList[c]){var e=this._lruList[c];a[b++]=e.value}return a};l.prototype.reset=function(){if(this._dispose&&this._cache)for(var a in this._cache)this._dispose(a,this._cache[a].value);
this._cache=Object.create(null);this._lruList=Object.create(null);this._itemCount=this._length=this._lru=this._mru=0};l.prototype.dump=function(){for(var a=[],c=0,e=this._mru-1;0<=e&&c<this._itemCount;e--)if(this._lruList[e]){var d=this._lruList[e];b(this,d)||(++c,a.push({k:d.key,v:d.value,e:d.now+(d.maxAge||0)}))}return a};l.prototype.dumpLru=function(){return this._lruList};l.prototype.set=function(b,c,e){e=e||this._maxAge;d(b);var f=e?Date.now():0,l=this._lengthCalculator(c);if(Object.prototype.hasOwnProperty.call(this._cache,
b)){if(l>this._max)return h(this,this._cache[b]),!1;this._dispose&&this._dispose(b,this._cache[b].value);this._cache[b].now=f;this._cache[b].maxAge=e;this._cache[b].value=c;this._length+=l-this._cache[b].length;this._cache[b].length=l;this.get(b);this._length>this._max&&a(this);return!0}e=new t(b,c,this._mru++,l,f,e);if(e.length>this._max)return this._dispose&&this._dispose(b,c),!1;this._length+=e.length;this._lruList[e.lu]=this._cache[b]=e;this._itemCount++;this._length>this._max&&a(this);return!0};
l.prototype.has=function(a){d(a);return!Object.prototype.hasOwnProperty.call(this._cache,a)||b(this,this._cache[a])?!1:!0};l.prototype.get=function(a){d(a);return f(this,a,!0)};l.prototype.peek=function(a){d(a);return f(this,a,!1)};l.prototype.pop=function(){var a=this._lruList[this._lru];h(this,a);return a||null};l.prototype.del=function(a){d(a);h(this,this._cache[a])};l.prototype.load=function(a){this.reset();for(var b=Date.now(),c=a.length-1;0<=c;c--){var e=a[c];d(e.k);var f=e.e||0;0===f?this.set(e.k,
e.v):(f-=b,0<f&&this.set(e.k,e.v,f))}}})()},{}],36:[function(h,n,d){d=h("./lib/utils/common").assign;var c=h("./lib/deflate"),k=h("./lib/inflate");h=h("./lib/zlib/constants");var l={};d(l,c,k,h);n.exports=l},{"./lib/deflate":37,"./lib/inflate":38,"./lib/utils/common":39,"./lib/zlib/constants":42}],37:[function(h,n,d){function c(d){if(!(this instanceof c))return new c(d);d=this.options=f.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},d||{});d.raw&&0<d.windowBits?
d.windowBits=-d.windowBits:d.gzip&&0<d.windowBits&&16>d.windowBits&&(d.windowBits+=16);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new e;this.strm.avail_out=0;var k=l.deflateInit2(this.strm,d.level,d.method,d.windowBits,d.memLevel,d.strategy);if(0!==k)throw Error(a[k]);d.header&&l.deflateSetHeader(this.strm,d.header);if(d.dictionary){d="string"===typeof d.dictionary?b.string2buf(d.dictionary):"[object ArrayBuffer]"===A.call(d.dictionary)?new Uint8Array(d.dictionary):d.dictionary;
k=l.deflateSetDictionary(this.strm,d);if(0!==k)throw Error(a[k]);this._dict_set=!0}}function k(b,e){var d=new c(e);d.push(b,!0);if(d.err)throw d.msg||a[d.err];return d.result}var l=h("./zlib/deflate"),f=h("./utils/common"),b=h("./utils/strings"),a=h("./zlib/messages"),e=h("./zlib/zstream"),A=Object.prototype.toString;c.prototype.push=function(a,c){var e=this.strm,d=this.options.chunkSize,k,h;if(this.ended)return!1;h=c===~~c?c:!0===c?4:0;"string"===typeof a?e.input=b.string2buf(a):"[object ArrayBuffer]"===
A.call(a)?e.input=new Uint8Array(a):e.input=a;e.next_in=0;e.avail_in=e.input.length;do{0===e.avail_out&&(e.output=new f.Buf8(d),e.next_out=0,e.avail_out=d);k=l.deflate(e,h);if(1!==k&&0!==k)return this.onEnd(k),this.ended=!0,!1;if(0===e.avail_out||0===e.avail_in&&(4===h||2===h))if("string"===this.options.to)this.onData(b.buf2binstring(f.shrinkBuf(e.output,e.next_out)));else this.onData(f.shrinkBuf(e.output,e.next_out))}while((0<e.avail_in||0===e.avail_out)&&1!==k);if(4===h)return k=l.deflateEnd(this.strm),
this.onEnd(k),this.ended=!0,0===k;2===h&&(this.onEnd(0),e.avail_out=0);return!0};c.prototype.onData=function(a){this.chunks.push(a)};c.prototype.onEnd=function(a){0===a&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks));this.chunks=[];this.err=a;this.msg=this.strm.msg};d.Deflate=c;d.deflate=k;d.deflateRaw=function(a,b){b=b||{};b.raw=!0;return k(a,b)};d.gzip=function(a,b){b=b||{};b.gzip=!0;return k(a,b)}},{"./utils/common":39,"./utils/strings":40,"./zlib/deflate":44,
"./zlib/messages":49,"./zlib/zstream":51}],38:[function(h,n,d){function c(b){if(!(this instanceof c))return new c(b);var d=this.options=f.assign({chunkSize:16384,windowBits:0,to:""},b||{});d.raw&&0<=d.windowBits&&16>d.windowBits&&(d.windowBits=-d.windowBits,0===d.windowBits&&(d.windowBits=-15));!(0<=d.windowBits&&16>d.windowBits)||b&&b.windowBits||(d.windowBits+=32);15<d.windowBits&&48>d.windowBits&&0===(d.windowBits&15)&&(d.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=
new A;this.strm.avail_out=0;b=l.inflateInit2(this.strm,d.windowBits);if(b!==a.Z_OK)throw Error(e[b]);this.header=new t;l.inflateGetHeader(this.strm,this.header)}function k(a,b){var d=new c(b);d.push(a,!0);if(d.err)throw d.msg||e[d.err];return d.result}var l=h("./zlib/inflate"),f=h("./utils/common"),b=h("./utils/strings"),a=h("./zlib/constants"),e=h("./zlib/messages"),A=h("./zlib/zstream"),t=h("./zlib/gzheader"),w=Object.prototype.toString;c.prototype.push=function(c,e){var d=this.strm,k=this.options.chunkSize,
h=this.options.dictionary,G,n,m,u,t,A=!1;if(this.ended)return!1;n=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH;"string"===typeof c?d.input=b.binstring2buf(c):"[object ArrayBuffer]"===w.call(c)?d.input=new Uint8Array(c):d.input=c;d.next_in=0;d.avail_in=d.input.length;do{0===d.avail_out&&(d.output=new f.Buf8(k),d.next_out=0,d.avail_out=k);G=l.inflate(d,a.Z_NO_FLUSH);G===a.Z_NEED_DICT&&h&&(G="string"===typeof h?b.string2buf(h):"[object ArrayBuffer]"===w.call(h)?new Uint8Array(h):h,G=l.inflateSetDictionary(this.strm,
G));G===a.Z_BUF_ERROR&&!0===A&&(G=a.Z_OK,A=!1);if(G!==a.Z_STREAM_END&&G!==a.Z_OK)return this.onEnd(G),this.ended=!0,!1;if(d.next_out&&(0===d.avail_out||G===a.Z_STREAM_END||0===d.avail_in&&(n===a.Z_FINISH||n===a.Z_SYNC_FLUSH)))if("string"===this.options.to)m=b.utf8border(d.output,d.next_out),u=d.next_out-m,t=b.buf2string(d.output,m),d.next_out=u,d.avail_out=k-u,u&&f.arraySet(d.output,d.output,m,u,0),this.onData(t);else this.onData(f.shrinkBuf(d.output,d.next_out));0===d.avail_in&&0===d.avail_out&&
(A=!0)}while((0<d.avail_in||0===d.avail_out)&&G!==a.Z_STREAM_END);G===a.Z_STREAM_END&&(n=a.Z_FINISH);if(n===a.Z_FINISH)return G=l.inflateEnd(this.strm),this.onEnd(G),this.ended=!0,G===a.Z_OK;n===a.Z_SYNC_FLUSH&&(this.onEnd(a.Z_OK),d.avail_out=0);return!0};c.prototype.onData=function(a){this.chunks.push(a)};c.prototype.onEnd=function(b){b===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):f.flattenChunks(this.chunks));this.chunks=[];this.err=b;this.msg=this.strm.msg};d.Inflate=
c;d.inflate=k;d.inflateRaw=function(a,b){b=b||{};b.raw=!0;return k(a,b)};d.ungzip=k},{"./utils/common":39,"./utils/strings":40,"./zlib/constants":42,"./zlib/gzheader":45,"./zlib/inflate":47,"./zlib/messages":49,"./zlib/zstream":51}],39:[function(h,n,d){h="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;d.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var b=d.shift();if(b){if("object"!==typeof b)throw new TypeError(b+
"must be non-object");for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&(c[a]=b[a])}}return c};d.shrinkBuf=function(c,d){if(c.length===d)return c;if(c.subarray)return c.subarray(0,d);c.length=d;return c};var c={arraySet:function(c,d,b,a,e){if(d.subarray&&c.subarray)c.set(d.subarray(b,b+a),e);else for(var k=0;k<a;k++)c[e+k]=d[b+k]},flattenChunks:function(c){var d,b,a,e,k;d=a=0;for(b=c.length;d<b;d++)a+=c[d].length;k=new Uint8Array(a);d=a=0;for(b=c.length;d<b;d++)e=c[d],k.set(e,a),a+=e.length;
return k}},k={arraySet:function(c,d,b,a,e){for(var k=0;k<a;k++)c[e+k]=d[b+k]},flattenChunks:function(c){return[].concat.apply([],c)}};d.setTyped=function(h){h?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,c)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,k))};d.setTyped(h)},{}],40:[function(h,n,d){function c(a,b){if(65537>b&&(a.subarray&&f||!a.subarray&&l))return String.fromCharCode.apply(null,k.shrinkBuf(a,b));for(var c="",e=0;e<b;e++)c+=String.fromCharCode(a[e]);return c}
var k=h("./common"),l=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch(b){l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){f=!1}var e=new k.Buf8(256);for(h=0;256>h;h++)e[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;e[254]=e[254]=1;d.string2buf=function(a){var b,c,e,d,f,h=a.length,l=0;for(d=0;d<h;d++)c=a.charCodeAt(d),55296===(c&64512)&&d+1<h&&(e=a.charCodeAt(d+1),56320===(e&64512)&&(c=65536+(c-55296<<10)+(e-56320),d++)),l+=128>c?1:2048>c?2:65536>c?3:4;b=new k.Buf8(l);
for(d=f=0;f<l;d++)c=a.charCodeAt(d),55296===(c&64512)&&d+1<h&&(e=a.charCodeAt(d+1),56320===(e&64512)&&(c=65536+(c-55296<<10)+(e-56320),d++)),128>c?b[f++]=c:(2048>c?b[f++]=192|c>>>6:(65536>c?b[f++]=224|c>>>12:(b[f++]=240|c>>>18,b[f++]=128|c>>>12&63),b[f++]=128|c>>>6&63),b[f++]=128|c&63);return b};d.buf2binstring=function(a){return c(a,a.length)};d.binstring2buf=function(a){for(var b=new k.Buf8(a.length),c=0,e=b.length;c<e;c++)b[c]=a.charCodeAt(c);return b};d.buf2string=function(a,b){var d,f,k,h,l=
b||a.length,n=Array(2*l);for(d=f=0;d<l;)if(k=a[d++],128>k)n[f++]=k;else if(h=e[k],4<h)n[f++]=65533,d+=h-1;else{for(k&=2===h?31:3===h?15:7;1<h&&d<l;)k=k<<6|a[d++]&63,h--;1<h?n[f++]=65533:65536>k?n[f++]=k:(k-=65536,n[f++]=55296|k>>10&1023,n[f++]=56320|k&1023)}return c(n,f)};d.utf8border=function(a,b){var c;b=b||a.length;b>a.length&&(b=a.length);for(c=b-1;0<=c&&128===(a[c]&192);)c--;return 0>c||0===c?b:c+e[a[c]]>b?c:b}},{"./common":39}],41:[function(h,n,d){n.exports=function(c,d,h,f){var b=c&65535|0;
c=c>>>16&65535|0;for(var a=0;0!==h;){a=2E3<h?2E3:h;h-=a;do b=b+d[f++]|0,c=c+b|0;while(--a);b%=65521;c%=65521}return b|c<<16|0}},{}],42:[function(h,n,d){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,
Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],43:[function(h,n,d){var c=function(){for(var c,d=[],f=0;256>f;f++){c=f;for(var b=0;8>b;b++)c=c&1?3988292384^c>>>1:c>>>1;d[f]=c}return d}();n.exports=function(d,h,f,b){f=b+f;for(d^=-1;b<f;b++)d=d>>>8^c[(d^h[b])&255];return d^-1}},{}],44:[function(h,n,d){function c(a,b){a.msg=H[b];return b}function k(a){for(var b=a.length;0<=--b;)a[b]=0}function l(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out);0!==c&&(m.arraySet(a.output,b.pending_buf,b.pending_out,
c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function f(a,b){u._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,b);a.block_start=a.strstart;l(a.strm)}function b(a,b){a.pending_buf[a.pending++]=b}function a(a,b){a.pending_buf[a.pending++]=b>>>8&255;a.pending_buf[a.pending++]=b&255}function e(a,b){var c=a.max_chain_length,e=a.strstart,d,f=a.prev_length,k=a.nice_match,m=a.strstart>a.w_size-262?a.strstart-
(a.w_size-262):0,h=a.window,l=a.w_mask,z=a.prev,s=a.strstart+258,u=h[e+f-1],n=h[e+f];a.prev_length>=a.good_match&&(c>>=2);k>a.lookahead&&(k=a.lookahead);do if(d=b,h[d+f]===n&&h[d+f-1]===u&&h[d]===h[e]&&h[++d]===h[e+1]){e+=2;for(d++;h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&h[++e]===h[++d]&&e<s;);d=258-(s-e);e=s-258;if(d>f){a.match_start=b;f=d;if(d>=k)break;u=h[e+f-1];n=h[e+f]}}while((b=z[b&l])>m&&0!==--c);return f<=a.lookahead?
f:a.lookahead}function A(a){var b=a.w_size,c,e,d,f;do{f=a.window_size-a.lookahead-a.strstart;if(a.strstart>=b+(b-262)){m.arraySet(a.window,a.window,b,b,0);a.match_start-=b;a.strstart-=b;a.block_start-=b;c=e=a.hash_size;do d=a.head[--c],a.head[c]=d>=b?d-b:0;while(--e);c=e=b;do d=a.prev[--c],a.prev[c]=d>=b?d-b:0;while(--e);f+=b}if(0===a.strm.avail_in)break;c=a.strm;e=a.window;d=a.strstart+a.lookahead;var k=c.avail_in;k>f&&(k=f);0===k?e=0:(c.avail_in-=k,m.arraySet(e,c.input,c.next_in,k,d),1===c.state.wrap?
c.adler=v(c.adler,e,k,d):2===c.state.wrap&&(c.adler=C(c.adler,e,k,d)),c.next_in+=k,c.total_in+=k,e=k);a.lookahead+=e;if(3<=a.lookahead+a.insert)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+3-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)}function t(a,b){for(var c;;){if(262>a.lookahead){A(a);
if(262>a.lookahead&&0===b)return 1;if(0===a.lookahead)break}c=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==c&&a.strstart-c<=a.w_size-262&&(a.match_length=e(a,c));if(3<=a.match_length)if(c=u._tr_tally(a,a.strstart-a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^
a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else c=u._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(c&&(f(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return 4===b?(f(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&
(f(a,!1),0===a.strm.avail_out)?1:2}function w(a,b){for(var c,d;;){if(262>a.lookahead){A(a);if(262>a.lookahead&&0===b)return 1;if(0===a.lookahead)break}c=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;a.prev_match=a.match_start;a.match_length=2;0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-262&&(a.match_length=e(a,c),5>=a.match_length&&(1===
a.strategy||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){d=a.strstart+a.lookahead-3;c=u._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=d&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;
if(c&&(f(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((c=u._tr_tally(a,0,a.window[a.strstart-1]))&&f(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(u._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?a.strstart:2;return 4===b?(f(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(f(a,!1),0===a.strm.avail_out)?1:2}function s(a,b){for(var c,e,d,k=a.window;;){if(258>=
a.lookahead){A(a);if(258>=a.lookahead&&0===b)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(e=a.strstart-1,c=k[e],c===k[++e]&&c===k[++e]&&c===k[++e])){for(d=a.strstart+258;c===k[++e]&&c===k[++e]&&c===k[++e]&&c===k[++e]&&c===k[++e]&&c===k[++e]&&c===k[++e]&&c===k[++e]&&e<d;);a.match_length=258-(d-e);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(c=u._tr_tally(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,
a.match_length=0):(c=u._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(c&&(f(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===b?(f(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(f(a,!1),0===a.strm.avail_out)?1:2}function D(a,b){for(var c;;){if(0===a.lookahead&&(A(a),0===a.lookahead)){if(0===b)return 1;break}a.match_length=0;c=u._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(c&&(f(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===b?(f(a,!0),0===
a.strm.avail_out?3:4):a.last_lit&&(f(a,!1),0===a.strm.avail_out)?1:2}function y(a,b,c,e,d){this.good_length=a;this.max_lazy=b;this.nice_length=c;this.max_chain=e;this.func=d}function F(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=
this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new m.Buf16(1146);this.dyn_dtree=new m.Buf16(122);this.bl_tree=new m.Buf16(78);k(this.dyn_ltree);k(this.dyn_dtree);k(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new m.Buf16(16);this.heap=new m.Buf16(573);
k(this.heap);this.heap_max=this.heap_len=0;this.depth=new m.Buf16(573);k(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function x(a){var b;if(!a||!a.state)return c(a,-2);a.total_in=a.total_out=0;a.data_type=2;b=a.state;b.pending=0;b.pending_out=0;0>b.wrap&&(b.wrap=-b.wrap);b.status=b.wrap?42:113;a.adler=2===b.wrap?0:1;b.last_flush=0;u._tr_init(b);return 0}function G(a){var b=x(a);0===b&&(a=a.state,
a.window_size=2*a.w_size,k(a.head),a.max_lazy_match=L[a.level].max_lazy,a.good_match=L[a.level].good_length,a.nice_match=L[a.level].nice_length,a.max_chain_length=L[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return b}function O(a,b,e,d,f,k){if(!a)return-2;var h=1;-1===b&&(b=6);0>d?(h=0,d=-d):15<d&&(h=2,d-=16);if(1>f||9<f||8!==e||8>d||15<d||0>b||9<b||0>k||4<k)return c(a,-2);8===d&&(d=9);var l=new F;a.state=
l;l.strm=a;l.wrap=h;l.gzhead=null;l.w_bits=d;l.w_size=1<<l.w_bits;l.w_mask=l.w_size-1;l.hash_bits=f+7;l.hash_size=1<<l.hash_bits;l.hash_mask=l.hash_size-1;l.hash_shift=~~((l.hash_bits+3-1)/3);l.window=new m.Buf8(2*l.w_size);l.head=new m.Buf16(l.hash_size);l.prev=new m.Buf16(l.w_size);l.lit_bufsize=1<<f+6;l.pending_buf_size=4*l.lit_bufsize;l.pending_buf=new m.Buf8(l.pending_buf_size);l.d_buf=1*l.lit_bufsize;l.l_buf=3*l.lit_bufsize;l.level=b;l.strategy=k;l.method=e;return G(a)}var m=h("../utils/common"),
u=h("./trees"),v=h("./adler32"),C=h("./crc32"),H=h("./messages"),L;L=[new y(0,0,0,0,function(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(1>=a.lookahead){A(a);if(0===a.lookahead&&0===b)return 1;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=0;var e=a.block_start+c;if(0===a.strstart||a.strstart>=e)if(a.lookahead=a.strstart-e,a.strstart=e,f(a,!1),0===a.strm.avail_out)return 1;if(a.strstart-a.block_start>=a.w_size-262&&(f(a,!1),0===a.strm.avail_out))return 1}a.insert=
0;if(4===b)return f(a,!0),0===a.strm.avail_out?3:4;a.strstart>a.block_start&&f(a,!1);return 1}),new y(4,4,8,4,t),new y(4,5,16,8,t),new y(4,6,32,32,t),new y(4,4,16,16,w),new y(8,16,32,32,w),new y(8,16,128,128,w),new y(8,32,128,256,w),new y(32,128,258,1024,w),new y(32,258,258,4096,w)];d.deflateInit=function(a,b){return O(a,b,8,15,8,0)};d.deflateInit2=O;d.deflateReset=G;d.deflateResetKeep=x;d.deflateSetHeader=function(a,b){if(!a||!a.state||2!==a.state.wrap)return-2;a.state.gzhead=b;return 0};d.deflate=
function(e,d){var f,m,h,r;if(!e||!e.state||5<d||0>d)return e?c(e,-2):-2;m=e.state;if(!e.output||!e.input&&0!==e.avail_in||666===m.status&&4!==d)return c(e,0===e.avail_out?-5:-2);m.strm=e;f=m.last_flush;m.last_flush=d;42===m.status&&(2===m.wrap?(e.adler=0,b(m,31),b(m,139),b(m,8),m.gzhead?(b(m,(m.gzhead.text?1:0)+(m.gzhead.hcrc?2:0)+(m.gzhead.extra?4:0)+(m.gzhead.name?8:0)+(m.gzhead.comment?16:0)),b(m,m.gzhead.time&255),b(m,m.gzhead.time>>8&255),b(m,m.gzhead.time>>16&255),b(m,m.gzhead.time>>24&255),
b(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),b(m,m.gzhead.os&255),m.gzhead.extra&&m.gzhead.extra.length&&(b(m,m.gzhead.extra.length&255),b(m,m.gzhead.extra.length>>8&255)),m.gzhead.hcrc&&(e.adler=C(e.adler,m.pending_buf,m.pending,0)),m.gzindex=0,m.status=69):(b(m,0),b(m,0),b(m,0),b(m,0),b(m,0),b(m,9===m.level?2:2<=m.strategy||2>m.level?4:0),b(m,3),m.status=113)):(h=8+(m.w_bits-8<<4)<<8,r=-1,r=2<=m.strategy||2>m.level?0:6>m.level?1:6===m.level?2:3,h|=r<<6,0!==m.strstart&&(h|=32),m.status=113,a(m,
h+(31-h%31)),0!==m.strstart&&(a(m,e.adler>>>16),a(m,e.adler&65535)),e.adler=1));if(69===m.status)if(m.gzhead.extra){for(h=m.pending;m.gzindex<(m.gzhead.extra.length&65535)&&(m.pending!==m.pending_buf_size||(m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h)),l(e),h=m.pending,m.pending!==m.pending_buf_size));)b(m,m.gzhead.extra[m.gzindex]&255),m.gzindex++;m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h));m.gzindex===m.gzhead.extra.length&&(m.gzindex=
0,m.status=73)}else m.status=73;if(73===m.status)if(m.gzhead.name){h=m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h)),l(e),h=m.pending,m.pending===m.pending_buf_size)){r=1;break}r=m.gzindex<m.gzhead.name.length?m.gzhead.name.charCodeAt(m.gzindex++)&255:0;b(m,r)}while(0!==r);m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h));0===r&&(m.gzindex=0,m.status=91)}else m.status=91;if(91===m.status)if(m.gzhead.comment){h=
m.pending;do{if(m.pending===m.pending_buf_size&&(m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h)),l(e),h=m.pending,m.pending===m.pending_buf_size)){r=1;break}r=m.gzindex<m.gzhead.comment.length?m.gzhead.comment.charCodeAt(m.gzindex++)&255:0;b(m,r)}while(0!==r);m.gzhead.hcrc&&m.pending>h&&(e.adler=C(e.adler,m.pending_buf,m.pending-h,h));0===r&&(m.status=103)}else m.status=103;103===m.status&&(m.gzhead.hcrc?(m.pending+2>m.pending_buf_size&&l(e),m.pending+2<=m.pending_buf_size&&
(b(m,e.adler&255),b(m,e.adler>>8&255),e.adler=0,m.status=113)):m.status=113);if(0!==m.pending){if(l(e),0===e.avail_out)return m.last_flush=-1,0}else if(0===e.avail_in&&(d<<1)-(4<d?9:0)<=(f<<1)-(4<f?9:0)&&4!==d)return c(e,-5);if(666===m.status&&0!==e.avail_in)return c(e,-5);if(0!==e.avail_in||0!==m.lookahead||0!==d&&666!==m.status){f=2===m.strategy?D(m,d):3===m.strategy?s(m,d):L[m.level].func(m,d);if(3===f||4===f)m.status=666;if(1===f||3===f)return 0===e.avail_out&&(m.last_flush=-1),0;if(2===f&&(1===
d?u._tr_align(m):5!==d&&(u._tr_stored_block(m,0,0,!1),3===d&&(k(m.head),0===m.lookahead&&(m.strstart=0,m.block_start=0,m.insert=0))),l(e),0===e.avail_out))return m.last_flush=-1,0}if(4!==d)return 0;if(0>=m.wrap)return 1;2===m.wrap?(b(m,e.adler&255),b(m,e.adler>>8&255),b(m,e.adler>>16&255),b(m,e.adler>>24&255),b(m,e.total_in&255),b(m,e.total_in>>8&255),b(m,e.total_in>>16&255),b(m,e.total_in>>24&255)):(a(m,e.adler>>>16),a(m,e.adler&65535));l(e);0<m.wrap&&(m.wrap=-m.wrap);return 0!==m.pending?0:1};d.deflateEnd=
function(a){var b;if(!a||!a.state)return-2;b=a.state.status;if(42!==b&&69!==b&&73!==b&&91!==b&&103!==b&&113!==b&&666!==b)return c(a,-2);a.state=null;return 113===b?c(a,-3):0};d.deflateSetDictionary=function(a,b){var c=b.length,e,d,f,h,l,s;if(!a||!a.state)return-2;e=a.state;f=e.wrap;if(2===f||1===f&&42!==e.status||e.lookahead)return-2;1===f&&(a.adler=v(a.adler,b,c,0));e.wrap=0;c>=e.w_size&&(0===f&&(k(e.head),e.strstart=0,e.block_start=0,e.insert=0),h=new m.Buf8(e.w_size),m.arraySet(h,b,c-e.w_size,
e.w_size,0),b=h,c=e.w_size);h=a.avail_in;l=a.next_in;s=a.input;a.avail_in=c;a.next_in=0;a.input=b;for(A(e);3<=e.lookahead;){c=e.strstart;d=e.lookahead-2;do e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++;while(--d);e.strstart=c;e.lookahead=2;A(e)}e.strstart+=e.lookahead;e.block_start=e.strstart;e.insert=e.lookahead;e.lookahead=0;e.match_length=e.prev_length=2;e.match_available=0;a.next_in=l;a.input=s;a.avail_in=h;e.wrap=f;return 0};
d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":39,"./adler32":41,"./crc32":43,"./messages":49,"./trees":50}],45:[function(h,n,d){n.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],46:[function(h,n,d){n.exports=function(c,d){var h,f,b,a,e,n,t,w,s,D,y,F,x,G,O,m,u,v,C,H,L,g,q,p;h=c.state;f=c.next_in;q=c.input;b=f+(c.avail_in-5);a=c.next_out;p=c.output;e=a-(d-c.avail_out);n=a+
(c.avail_out-257);t=h.dmax;w=h.wsize;s=h.whave;D=h.wnext;y=h.window;F=h.hold;x=h.bits;G=h.lencode;O=h.distcode;m=(1<<h.lenbits)-1;u=(1<<h.distbits)-1;a:do b:for(15>x&&(F+=q[f++]<<x,x+=8,F+=q[f++]<<x,x+=8),v=G[F&m];;){C=v>>>24;F>>>=C;x-=C;C=v>>>16&255;if(0===C)p[a++]=v&65535;else if(C&16){H=v&65535;if(C&=15)x<C&&(F+=q[f++]<<x,x+=8),H+=F&(1<<C)-1,F>>>=C,x-=C;15>x&&(F+=q[f++]<<x,x+=8,F+=q[f++]<<x,x+=8);v=O[F&u];c:for(;;){C=v>>>24;F>>>=C;x-=C;C=v>>>16&255;if(C&16){v&=65535;C&=15;x<C&&(F+=q[f++]<<x,x+=
8,x<C&&(F+=q[f++]<<x,x+=8));v+=F&(1<<C)-1;if(v>t){c.msg="invalid distance too far back";h.mode=30;break a}F>>>=C;x-=C;C=a-e;if(v>C){C=v-C;if(C>s&&h.sane){c.msg="invalid distance too far back";h.mode=30;break a}L=0;g=y;if(0===D){if(L+=w-C,C<H){H-=C;do p[a++]=y[L++];while(--C);L=a-v;g=p}}else if(D<C){if(L+=w+D-C,C-=D,C<H){H-=C;do p[a++]=y[L++];while(--C);L=0;if(D<H){C=D;H-=C;do p[a++]=y[L++];while(--C);L=a-v;g=p}}}else if(L+=D-C,C<H){H-=C;do p[a++]=y[L++];while(--C);L=a-v;g=p}for(;2<H;)p[a++]=g[L++],
p[a++]=g[L++],p[a++]=g[L++],H-=3;H&&(p[a++]=g[L++],1<H&&(p[a++]=g[L++]))}else{L=a-v;do p[a++]=p[L++],p[a++]=p[L++],p[a++]=p[L++],H-=3;while(2<H);H&&(p[a++]=p[L++],1<H&&(p[a++]=p[L++]))}}else if(0===(C&64)){v=O[(v&65535)+(F&(1<<C)-1)];continue c}else{c.msg="invalid distance code";h.mode=30;break a}break}}else if(0===(C&64)){v=G[(v&65535)+(F&(1<<C)-1)];continue b}else{C&32?h.mode=12:(c.msg="invalid literal/length code",h.mode=30);break a}break}while(f<b&&a<n);H=x>>3;f-=H;x-=H<<3;c.next_in=f;c.next_out=
a;c.avail_in=f<b?5+(b-f):5-(f-b);c.avail_out=a<n?257+(n-a):257-(a-n);h.hold=F&(1<<x)-1;h.bits=x}},{}],47:[function(h,n,d){function c(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}function k(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=
this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new A.Buf16(320);this.work=new A.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function l(a){var b;if(!a||!a.state)return-2;b=a.state;a.total_in=a.total_out=b.total=0;a.msg="";b.wrap&&(a.adler=b.wrap&1);b.mode=1;b.last=0;b.havedict=0;b.dmax=32768;b.head=null;b.hold=0;b.bits=0;b.lencode=b.lendyn=new A.Buf32(852);b.distcode=b.distdyn=new A.Buf32(592);b.sane=1;b.back=-1;return 0}function f(a){var b;if(!a||!a.state)return-2;
b=a.state;b.wsize=0;b.whave=0;b.wnext=0;return l(a)}function b(a,b){var c,e;if(!a||!a.state)return-2;e=a.state;0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15));if(b&&(8>b||15<b))return-2;null!==e.window&&e.wbits!==b&&(e.window=null);e.wrap=c;e.wbits=b;return f(a)}function a(a,c){var e;if(!a)return-2;e=new k;a.state=e;e.window=null;e=b(a,c);0!==e&&(a.state=null);return e}function e(a,b,c,e){var d=a.state;null===d.window&&(d.wsize=1<<d.wbits,d.wnext=0,d.whave=0,d.window=new A.Buf8(d.wsize));e>=d.wsize?(A.arraySet(d.window,
b,c-d.wsize,d.wsize,0),d.wnext=0,d.whave=d.wsize):(a=d.wsize-d.wnext,a>e&&(a=e),A.arraySet(d.window,b,c-e,a,d.wnext),(e-=a)?(A.arraySet(d.window,b,c-e,e,0),d.wnext=e,d.whave=d.wsize):(d.wnext+=a,d.wnext===d.wsize&&(d.wnext=0),d.whave<d.wsize&&(d.whave+=a)));return 0}var A=h("../utils/common"),t=h("./adler32"),w=h("./crc32"),s=h("./inffast"),D=h("./inftrees"),y=!0,F,x;d.inflateReset=f;d.inflateReset2=b;d.inflateResetKeep=l;d.inflateInit=function(b){return a(b,15)};d.inflateInit2=a;d.inflate=function(a,
b){var d,f,k,h,l,n,g,q,p,N,P,r,I,E,J=0,K,z,R,X=new A.Buf8(4),ba=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return-2;d=a.state;12===d.mode&&(d.mode=13);l=a.next_out;k=a.output;g=a.avail_out;h=a.next_in;f=a.input;n=a.avail_in;q=d.hold;p=d.bits;N=n;P=g;R=0;a:for(;;)switch(d.mode){case 1:if(0===d.wrap){d.mode=13;break}for(;16>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if(d.wrap&2&&35615===q){d.check=0;X[0]=q&255;X[1]=q>>>8&255;d.check=w(d.check,
X,2,0);p=q=0;d.mode=2;break}d.flags=0;d.head&&(d.head.done=!1);if(!(d.wrap&1)||(((q&255)<<8)+(q>>8))%31){a.msg="incorrect header check";d.mode=30;break}if(8!==(q&15)){a.msg="unknown compression method";d.mode=30;break}q>>>=4;p-=4;I=(q&15)+8;if(0===d.wbits)d.wbits=I;else if(I>d.wbits){a.msg="invalid window size";d.mode=30;break}d.dmax=1<<I;a.adler=d.check=1;d.mode=q&512?10:12;p=q=0;break;case 2:for(;16>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.flags=q;if(8!==(d.flags&255)){a.msg="unknown compression method";
d.mode=30;break}if(d.flags&57344){a.msg="unknown header flags set";d.mode=30;break}d.head&&(d.head.text=q>>8&1);d.flags&512&&(X[0]=q&255,X[1]=q>>>8&255,d.check=w(d.check,X,2,0));p=q=0;d.mode=3;case 3:for(;32>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.head&&(d.head.time=q);d.flags&512&&(X[0]=q&255,X[1]=q>>>8&255,X[2]=q>>>16&255,X[3]=q>>>24&255,d.check=w(d.check,X,4,0));p=q=0;d.mode=4;case 4:for(;16>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.head&&(d.head.xflags=q&255,d.head.os=q>>8);d.flags&512&&
(X[0]=q&255,X[1]=q>>>8&255,d.check=w(d.check,X,2,0));p=q=0;d.mode=5;case 5:if(d.flags&1024){for(;16>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.length=q;d.head&&(d.head.extra_len=q);d.flags&512&&(X[0]=q&255,X[1]=q>>>8&255,d.check=w(d.check,X,2,0));p=q=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(d.flags&1024&&(r=d.length,r>n&&(r=n),r&&(d.head&&(I=d.head.extra_len-d.length,d.head.extra||(d.head.extra=Array(d.head.extra_len)),A.arraySet(d.head.extra,f,h,r,I)),d.flags&512&&(d.check=w(d.check,
f,r,h)),n-=r,h+=r,d.length-=r),d.length))break a;d.length=0;d.mode=7;case 7:if(d.flags&2048){if(0===n)break a;r=0;do I=f[h+r++],d.head&&I&&65536>d.length&&(d.head.name+=String.fromCharCode(I));while(I&&r<n);d.flags&512&&(d.check=w(d.check,f,r,h));n-=r;h+=r;if(I)break a}else d.head&&(d.head.name=null);d.length=0;d.mode=8;case 8:if(d.flags&4096){if(0===n)break a;r=0;do I=f[h+r++],d.head&&I&&65536>d.length&&(d.head.comment+=String.fromCharCode(I));while(I&&r<n);d.flags&512&&(d.check=w(d.check,f,r,h));
n-=r;h+=r;if(I)break a}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(d.flags&512){for(;16>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if(q!==(d.check&65535)){a.msg="header crc mismatch";d.mode=30;break}p=q=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0);a.adler=d.check=0;d.mode=12;break;case 10:for(;32>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}a.adler=d.check=c(q);p=q=0;d.mode=11;case 11:if(0===d.havedict)return a.next_out=l,a.avail_out=g,a.next_in=h,a.avail_in=n,d.hold=q,d.bits=p,2;a.adler=
d.check=1;d.mode=12;case 12:if(5===b||6===b)break a;case 13:if(d.last){q>>>=p&7;p-=p&7;d.mode=27;break}for(;3>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.last=q&1;q>>>=1;p-=1;switch(q&3){case 0:d.mode=14;break;case 1:r=d;if(y){I=void 0;F=new A.Buf32(512);x=new A.Buf32(32);for(I=0;144>I;)r.lens[I++]=8;for(;256>I;)r.lens[I++]=9;for(;280>I;)r.lens[I++]=7;for(;288>I;)r.lens[I++]=8;D(1,r.lens,0,288,F,0,r.work,{bits:9});for(I=0;32>I;)r.lens[I++]=5;D(2,r.lens,0,32,x,0,r.work,{bits:5});y=!1}r.lencode=F;
r.lenbits=9;r.distcode=x;r.distbits=5;d.mode=20;if(6===b){q>>>=2;p-=2;break a}break;case 2:d.mode=17;break;case 3:a.msg="invalid block type",d.mode=30}q>>>=2;p-=2;break;case 14:q>>>=p&7;for(p-=p&7;32>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if((q&65535)!==(q>>>16^65535)){a.msg="invalid stored block lengths";d.mode=30;break}d.length=q&65535;p=q=0;d.mode=15;if(6===b)break a;case 15:d.mode=16;case 16:if(r=d.length){r>n&&(r=n);r>g&&(r=g);if(0===r)break a;A.arraySet(k,f,h,r,l);n-=r;h+=r;g-=r;l+=r;d.length-=
r;break}d.mode=12;break;case 17:for(;14>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.nlen=(q&31)+257;q>>>=5;p-=5;d.ndist=(q&31)+1;q>>>=5;p-=5;d.ncode=(q&15)+4;q>>>=4;p-=4;if(286<d.nlen||30<d.ndist){a.msg="too many length or distance symbols";d.mode=30;break}d.have=0;d.mode=18;case 18:for(;d.have<d.ncode;){for(;3>p;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.lens[ba[d.have++]]=q&7;q>>>=3;p-=3}for(;19>d.have;)d.lens[ba[d.have++]]=0;d.lencode=d.lendyn;d.lenbits=7;r={bits:d.lenbits};R=D(0,d.lens,0,19,
d.lencode,0,d.work,r);d.lenbits=r.bits;if(R){a.msg="invalid code lengths set";d.mode=30;break}d.have=0;d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;;){J=d.lencode[q&(1<<d.lenbits)-1];r=J>>>24;J&=65535;if(r<=p)break;if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if(16>J)q>>>=r,p-=r,d.lens[d.have++]=J;else{if(16===J){for(I=r+2;p<I;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}q>>>=r;p-=r;if(0===d.have){a.msg="invalid bit length repeat";d.mode=30;break}I=d.lens[d.have-1];r=3+(q&3);q>>>=2;p-=2}else if(17===
J){for(I=r+3;p<I;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}q>>>=r;p-=r;I=0;r=3+(q&7);q>>>=3;p-=3}else{for(I=r+7;p<I;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}q>>>=r;p-=r;I=0;r=11+(q&127);q>>>=7;p-=7}if(d.have+r>d.nlen+d.ndist){a.msg="invalid bit length repeat";d.mode=30;break}for(;r--;)d.lens[d.have++]=I}}if(30===d.mode)break;if(0===d.lens[256]){a.msg="invalid code -- missing end-of-block";d.mode=30;break}d.lenbits=9;r={bits:d.lenbits};R=D(1,d.lens,0,d.nlen,d.lencode,0,d.work,r);d.lenbits=r.bits;if(R){a.msg=
"invalid literal/lengths set";d.mode=30;break}d.distbits=6;d.distcode=d.distdyn;r={bits:d.distbits};R=D(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,r);d.distbits=r.bits;if(R){a.msg="invalid distances set";d.mode=30;break}d.mode=20;if(6===b)break a;case 20:d.mode=21;case 21:if(6<=n&&258<=g){a.next_out=l;a.avail_out=g;a.next_in=h;a.avail_in=n;d.hold=q;d.bits=p;s(a,P);l=a.next_out;k=a.output;g=a.avail_out;h=a.next_in;f=a.input;n=a.avail_in;q=d.hold;p=d.bits;12===d.mode&&(d.back=-1);break}for(d.back=
0;;){J=d.lencode[q&(1<<d.lenbits)-1];r=J>>>24;I=J>>>16&255;J&=65535;if(r<=p)break;if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if(I&&0===(I&240)){E=r;K=I;for(z=J;;){J=d.lencode[z+((q&(1<<E+K)-1)>>E)];r=J>>>24;I=J>>>16&255;J&=65535;if(E+r<=p)break;if(0===n)break a;n--;q+=f[h++]<<p;p+=8}q>>>=E;p-=E;d.back+=E}q>>>=r;p-=r;d.back+=r;d.length=J;if(0===I){d.mode=26;break}if(I&32){d.back=-1;d.mode=12;break}if(I&64){a.msg="invalid literal/length code";d.mode=30;break}d.extra=I&15;d.mode=22;case 22:if(d.extra){for(I=
d.extra;p<I;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.length+=q&(1<<d.extra)-1;q>>>=d.extra;p-=d.extra;d.back+=d.extra}d.was=d.length;d.mode=23;case 23:for(;;){J=d.distcode[q&(1<<d.distbits)-1];r=J>>>24;I=J>>>16&255;J&=65535;if(r<=p)break;if(0===n)break a;n--;q+=f[h++]<<p;p+=8}if(0===(I&240)){E=r;K=I;for(z=J;;){J=d.distcode[z+((q&(1<<E+K)-1)>>E)];r=J>>>24;I=J>>>16&255;J&=65535;if(E+r<=p)break;if(0===n)break a;n--;q+=f[h++]<<p;p+=8}q>>>=E;p-=E;d.back+=E}q>>>=r;p-=r;d.back+=r;if(I&64){a.msg="invalid distance code";
d.mode=30;break}d.offset=J;d.extra=I&15;d.mode=24;case 24:if(d.extra){for(I=d.extra;p<I;){if(0===n)break a;n--;q+=f[h++]<<p;p+=8}d.offset+=q&(1<<d.extra)-1;q>>>=d.extra;p-=d.extra;d.back+=d.extra}if(d.offset>d.dmax){a.msg="invalid distance too far back";d.mode=30;break}d.mode=25;case 25:if(0===g)break a;r=P-g;if(d.offset>r){r=d.offset-r;if(r>d.whave&&d.sane){a.msg="invalid distance too far back";d.mode=30;break}r>d.wnext?(r-=d.wnext,I=d.wsize-r):I=d.wnext-r;r>d.length&&(r=d.length);E=d.window}else E=
k,I=l-d.offset,r=d.length;r>g&&(r=g);g-=r;d.length-=r;do k[l++]=E[I++];while(--r);0===d.length&&(d.mode=21);break;case 26:if(0===g)break a;k[l++]=d.length;g--;d.mode=21;break;case 27:if(d.wrap){for(;32>p;){if(0===n)break a;n--;q|=f[h++]<<p;p+=8}P-=g;a.total_out+=P;d.total+=P;P&&(a.adler=d.check=d.flags?w(d.check,k,P,l-P):t(d.check,k,P,l-P));P=g;if((d.flags?q:c(q))!==d.check){a.msg="incorrect data check";d.mode=30;break}p=q=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;32>p;){if(0===n)break a;n--;q+=
f[h++]<<p;p+=8}if(q!==(d.total&4294967295)){a.msg="incorrect length check";d.mode=30;break}p=q=0}d.mode=29;case 29:R=1;break a;case 30:R=-3;break a;case 31:return-4;default:return-2}a.next_out=l;a.avail_out=g;a.next_in=h;a.avail_in=n;d.hold=q;d.bits=p;if((d.wsize||P!==a.avail_out&&30>d.mode&&(27>d.mode||4!==b))&&e(a,a.output,a.next_out,P-a.avail_out))return d.mode=31,-4;N-=a.avail_in;P-=a.avail_out;a.total_in+=N;a.total_out+=P;d.total+=P;d.wrap&&P&&(a.adler=d.check=d.flags?w(d.check,k,P,a.next_out-
P):t(d.check,k,P,a.next_out-P));a.data_type=d.bits+(d.last?64:0)+(12===d.mode?128:0)+(20===d.mode||15===d.mode?256:0);(0===N&&0===P||4===b)&&0===R&&(R=-5);return R};d.inflateEnd=function(a){if(!a||!a.state)return-2;var b=a.state;b.window&&(b.window=null);a.state=null;return 0};d.inflateGetHeader=function(a,b){var c;if(!a||!a.state)return-2;c=a.state;if(0===(c.wrap&2))return-2;c.head=b;b.done=!1;return 0};d.inflateSetDictionary=function(a,b){var c=b.length,d,f;if(!a||!a.state)return-2;d=a.state;if(0!==
d.wrap&&11!==d.mode)return-2;if(11===d.mode&&(f=t(1,b,c,0),f!==d.check))return-3;if(e(a,b,c,c))return d.mode=31,-4;d.havedict=1;return 0};d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":39,"./adler32":41,"./crc32":43,"./inffast":46,"./inftrees":48}],48:[function(h,n,d){var c=h("../utils/common"),k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,
16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],b=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(a,d,h,n,w,s,D,y){for(var F=y.bits,x=0,G=0,O=0,m=0,u=0,v=0,C=0,H=0,L=0,g=0,q,p,N=null,P=0,r,I=new c.Buf16(16),v=new c.Buf16(16),E=null,J=0,K,z,R,x=0;15>=x;x++)I[x]=0;for(G=0;G<n;G++)I[d[h+G]]++;u=F;for(m=15;1<=m&&0===I[m];m--);u>m&&(u=m);if(0===m)return w[s++]=
20971520,w[s++]=20971520,y.bits=1,0;for(O=1;O<m&&0===I[O];O++);u<O&&(u=O);for(x=H=1;15>=x;x++)if(H<<=1,H-=I[x],0>H)return-1;if(0<H&&(0===a||1!==m))return-1;v[1]=0;for(x=1;15>x;x++)v[x+1]=v[x]+I[x];for(G=0;G<n;G++)0!==d[h+G]&&(D[v[d[h+G]]++]=G);0===a?(N=E=D,r=19):1===a?(N=k,P-=257,E=l,J-=257,r=256):(N=f,E=b,r=-1);G=g=0;x=O;F=s;v=u;C=0;p=-1;L=1<<u;n=L-1;if(1===a&&852<L||2===a&&592<L)return 1;for(;;){K=x-C;D[G]<r?(z=0,R=D[G]):D[G]>r?(z=E[J+D[G]],R=N[P+D[G]]):(z=96,R=0);H=1<<x-C;O=q=1<<v;do q-=H,w[F+
(g>>C)+q]=K<<24|z<<16|R|0;while(0!==q);for(H=1<<x-1;g&H;)H>>=1;0!==H?(g&=H-1,g+=H):g=0;G++;if(0===--I[x]){if(x===m)break;x=d[h+D[G]]}if(x>u&&(g&n)!==p){0===C&&(C=u);F+=O;v=x-C;for(H=1<<v;v+C<m;){H-=I[v+C];if(0>=H)break;v++;H<<=1}L+=1<<v;if(1===a&&852<L||2===a&&592<L)return 1;p=g&n;w[p]=u<<24|v<<16|F-s|0}}0!==g&&(w[F+g]=x-C<<24|4194304);y.bits=u;return 0}},{"../utils/common":39}],49:[function(h,n,d){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error",
"-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],50:[function(h,n,d){function c(a){for(var b=a.length;0<=--b;)a[b]=0}function k(a,b,c,d,e){this.static_tree=a;this.extra_bits=b;this.extra_base=c;this.elems=d;this.max_length=e;this.has_stree=a&&a.length}function l(a,b){this.dyn_tree=a;this.max_code=0;this.stat_desc=b}function f(a,b){a.pending_buf[a.pending++]=b&255;a.pending_buf[a.pending++]=b>>>8&255}function b(a,b,c){a.bi_valid>16-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,
a.bi_buf),a.bi_buf=b>>16-a.bi_valid,a.bi_valid+=c-16):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function a(a,c,d){b(a,d[2*c],d[2*c+1])}function e(a,b){var c=0;do c|=a&1,a>>>=1,c<<=1;while(0<--b);return c>>>1}function A(a,b,c){var d=Array(16),f=0,g;for(g=1;15>=g;g++)d[g]=f=f+c[g-1]<<1;for(c=0;c<=b;c++)f=a[2*c+1],0!==f&&(a[2*c]=e(d[f]++,f))}function t(a){var b;for(b=0;286>b;b++)a.dyn_ltree[2*b]=0;for(b=0;30>b;b++)a.dyn_dtree[2*b]=0;for(b=0;19>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[512]=1;a.opt_len=
a.static_len=0;a.last_lit=a.matches=0}function w(a){8<a.bi_valid?f(a,a.bi_buf):0<a.bi_valid&&(a.pending_buf[a.pending++]=a.bi_buf);a.bi_buf=0;a.bi_valid=0}function s(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function D(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len;){e<a.heap_len&&s(b,a.heap[e+1],a.heap[e],a.depth)&&e++;if(s(b,d,a.heap[e],a.depth))break;a.heap[c]=a.heap[e];c=e;e<<=1}a.heap[c]=d}function y(c,d,e){var f,g,k=0,h,l;if(0!==c.last_lit){do f=c.pending_buf[c.d_buf+
2*k]<<8|c.pending_buf[c.d_buf+2*k+1],g=c.pending_buf[c.l_buf+k],k++,0===f?a(c,g,d):(h=N[g],a(c,h+256+1,d),l=v[h],0!==l&&(g-=P[h],b(c,g,l)),f--,h=256>f?p[f]:p[256+(f>>>7)],a(c,h,e),l=C[h],0!==l&&(f-=r[h],b(c,f,l)));while(k<c.last_lit)}a(c,256,d)}function F(a,b){var c=b.dyn_tree,d=b.stat_desc.static_tree,e=b.stat_desc.has_stree,f=b.stat_desc.elems,g,k=-1,h;a.heap_len=0;a.heap_max=573;for(g=0;g<f;g++)0!==c[2*g]?(a.heap[++a.heap_len]=k=g,a.depth[g]=0):c[2*g+1]=0;for(;2>a.heap_len;)h=a.heap[++a.heap_len]=
2>k?++k:0,c[2*h]=1,a.depth[h]=0,a.opt_len--,e&&(a.static_len-=d[2*h+1]);b.max_code=k;for(g=a.heap_len>>1;1<=g;g--)D(a,c,g);h=f;do g=a.heap[1],a.heap[1]=a.heap[a.heap_len--],D(a,c,1),d=a.heap[1],a.heap[--a.heap_max]=g,a.heap[--a.heap_max]=d,c[2*h]=c[2*g]+c[2*d],a.depth[h]=(a.depth[g]>=a.depth[d]?a.depth[g]:a.depth[d])+1,c[2*g+1]=c[2*d+1]=h,a.heap[1]=h++,D(a,c,1);while(2<=a.heap_len);a.heap[--a.heap_max]=a.heap[1];g=b.dyn_tree;h=b.max_code;for(var l=b.stat_desc.static_tree,m=b.stat_desc.has_stree,n=
b.stat_desc.extra_bits,q=b.stat_desc.extra_base,s=b.stat_desc.max_length,r,p,y=0,f=0;15>=f;f++)a.bl_count[f]=0;g[2*a.heap[a.heap_max]+1]=0;for(d=a.heap_max+1;573>d;d++)e=a.heap[d],f=g[2*g[2*e+1]+1]+1,f>s&&(f=s,y++),g[2*e+1]=f,e>h||(a.bl_count[f]++,r=0,e>=q&&(r=n[e-q]),p=g[2*e],a.opt_len+=p*(f+r),m&&(a.static_len+=p*(l[2*e+1]+r)));if(0!==y){do{for(f=s-1;0===a.bl_count[f];)f--;a.bl_count[f]--;a.bl_count[f+1]+=2;a.bl_count[s]--;y-=2}while(0<y);for(f=s;0!==f;f--)for(e=a.bl_count[f];0!==e;)l=a.heap[--d],
l>h||(g[2*l+1]!==f&&(a.opt_len+=(f-g[2*l+1])*g[2*l],g[2*l+1]=f),e--)}A(c,k,a.bl_count)}function x(a,b,c){var d,e=-1,f,g=b[1],k=0,h=7,l=4;0===g&&(h=138,l=3);b[2*(c+1)+1]=65535;for(d=0;d<=c;d++)f=g,g=b[2*(d+1)+1],++k<h&&f===g||(k<l?a.bl_tree[2*f]+=k:0!==f?(f!==e&&a.bl_tree[2*f]++,a.bl_tree[32]++):10>=k?a.bl_tree[34]++:a.bl_tree[36]++,k=0,e=f,0===g?(h=138,l=3):f===g?(h=6,l=3):(h=7,l=4))}function G(c,d,e){var f,g=-1,k,h=d[1],l=0,m=7,n=4;0===h&&(m=138,n=3);for(f=0;f<=e;f++)if(k=h,h=d[2*(f+1)+1],!(++l<
m&&k===h)){if(l<n){do a(c,k,c.bl_tree);while(0!==--l)}else 0!==k?(k!==g&&(a(c,k,c.bl_tree),l--),a(c,16,c.bl_tree),b(c,l-3,2)):10>=l?(a(c,17,c.bl_tree),b(c,l-3,3)):(a(c,18,c.bl_tree),b(c,l-11,7));l=0;g=k;0===h?(m=138,n=3):k===h?(m=6,n=3):(m=7,n=4)}}function O(a){var b=4093624447,c;for(c=0;31>=c;c++,b>>>=1)if(b&1&&0!==a.dyn_ltree[2*c])return 0;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return 1;for(c=32;256>c;c++)if(0!==a.dyn_ltree[2*c])return 1;return 0}function m(a,c,d,e){b(a,
0+(e?1:0),3);w(a);f(a,d);f(a,~d);u.arraySet(a.pending_buf,a.window,c,d,a.pending);a.pending+=d}var u=h("../utils/common"),v=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],C=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],H=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],g=Array(576);c(g);var q=Array(60);c(q);var p=Array(512);c(p);var N=Array(256);c(N);var P=Array(29);c(P);var r=Array(30);c(r);var I,E,J,K=!1;d._tr_init=function(a){if(!K){var b,
c,d,f=Array(16);for(d=c=0;28>d;d++)for(P[d]=c,b=0;b<1<<v[d];b++)N[c++]=d;N[c-1]=d;for(d=c=0;16>d;d++)for(r[d]=c,b=0;b<1<<C[d];b++)p[c++]=d;for(c>>=7;30>d;d++)for(r[d]=c<<7,b=0;b<1<<C[d]-7;b++)p[256+c++]=d;for(b=0;15>=b;b++)f[b]=0;for(b=0;143>=b;)g[2*b+1]=8,b++,f[8]++;for(;255>=b;)g[2*b+1]=9,b++,f[9]++;for(;279>=b;)g[2*b+1]=7,b++,f[7]++;for(;287>=b;)g[2*b+1]=8,b++,f[8]++;A(g,287,f);for(b=0;30>b;b++)q[2*b+1]=5,q[2*b]=e(b,5);I=new k(g,v,257,286,15);E=new k(q,C,0,30,15);J=new k([],H,0,19,7);K=!0}a.l_desc=
new l(a.dyn_ltree,I);a.d_desc=new l(a.dyn_dtree,E);a.bl_desc=new l(a.bl_tree,J);a.bi_buf=0;a.bi_valid=0;t(a)};d._tr_stored_block=m;d._tr_flush_block=function(a,c,d,e){var f,k,h=0;if(0<a.level){2===a.strm.data_type&&(a.strm.data_type=O(a));F(a,a.l_desc);F(a,a.d_desc);x(a,a.dyn_ltree,a.l_desc.max_code);x(a,a.dyn_dtree,a.d_desc.max_code);F(a,a.bl_desc);for(h=18;3<=h&&0===a.bl_tree[2*L[h]+1];h--);a.opt_len+=3*(h+1)+14;f=a.opt_len+3+7>>>3;k=a.static_len+3+7>>>3;k<=f&&(f=k)}else f=k=d+5;if(d+4<=f&&-1!==
c)m(a,c,d,e);else if(4===a.strategy||k===f)b(a,2+(e?1:0),3),y(a,g,q);else{b(a,4+(e?1:0),3);c=a.l_desc.max_code+1;d=a.d_desc.max_code+1;h+=1;b(a,c-257,5);b(a,d-1,5);b(a,h-4,4);for(f=0;f<h;f++)b(a,a.bl_tree[2*L[f]+1],3);G(a,a.dyn_ltree,c-1);G(a,a.dyn_dtree,d-1);y(a,a.dyn_ltree,a.dyn_dtree)}t(a);e&&w(a)};d._tr_tally=function(a,b,c){a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255;a.pending_buf[a.d_buf+2*a.last_lit+1]=b&255;a.pending_buf[a.l_buf+a.last_lit]=c&255;a.last_lit++;0===b?a.dyn_ltree[2*c]++:(a.matches++,
b--,a.dyn_ltree[2*(N[c]+256+1)]++,a.dyn_dtree[2*(256>b?p[b]:p[256+(b>>>7)])]++);return a.last_lit===a.lit_bufsize-1};d._tr_align=function(c){b(c,2,3);a(c,256,g);16===c.bi_valid?(f(c,c.bi_buf),c.bi_buf=0,c.bi_valid=0):8<=c.bi_valid&&(c.pending_buf[c.pending++]=c.bi_buf&255,c.bi_buf>>=8,c.bi_valid-=8)}},{"../utils/common":39}],51:[function(h,n,d){n.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";
this.state=null;this.data_type=2;this.adler=0}},{}],52:[function(h,n,d){function c(c){var b=new k;return(b.write(c)+b.end()).replace(/\0/g,"").trim()}h("text-encoding-polyfill");var k=h("string_decoder").StringDecoder;n.exports=function(d){if(!d)return c;try{new TextDecoder(d.trim())}catch(b){var a=l.exec(d);a&&(d="windows-"+a[1])}return function(a){var b=new TextDecoder(d);return(b.decode(a,{stream:!0})+b.decode()).replace(/\0/g,"").trim()}};var l=/^(?:ASNI\s)?(\d+)$/m},{string_decoder:55,"text-encoding-polyfill":56}],
53:[function(h,n,d){function c(c,d,b,a){for(var e={},k=0,h=b.length,n,s;k<h;){s=b[k];a:{n=s.dataType;var D=a,y=c.slice(d,d+s.len),D=D(y);switch(n){case "N":case "F":case "O":n=parseFloat(D,10);break a;case "D":n=new Date(D.slice(0,4),parseInt(D.slice(4,6),10)-1,D.slice(6,8));break a;case "L":n="y"===D.toLowerCase()||"t"===D.toLowerCase();break a;default:n=D}}d+=s.len;"undefined"!==typeof n&&(e[s.name]=n);k++}return e}var k=h("./decoder");n.exports=function(d,f){var b=k(f),a,e,h;d.readUInt8(1);d.readUInt8(2);
d.readUInt8(3);a=d.readUInt32LE(4);e=d.readUInt16LE(8);h=d.readUInt16LE(10);var n=e-1;e=[];for(var w=32;w<n&&(e.push({name:b(d.slice(w,w+11)),dataType:String.fromCharCode(d.readUInt8(w+11)),len:d.readUInt8(w+16),decimal:d.readUInt8(w+17)}),13!==d.readUInt8(w+32));)w+=32;n=(e.length+1<<5)+2;for(w=[];a;)w.push(c(d,n,e,b)),n+=h,a--;return w}},{"./decoder":52}],54:[function(h,n,d){(function(c,k){"object"===typeof d&&"undefined"!==typeof n?n.exports=k():c.proj4=k()})(this,function(){function c(a,b){if(a[b])return a[b];
for(var c=Object.keys(a),d=b.toLowerCase().replace(X,""),e=-1,f,g;++e<c.length;)if(f=c[e],g=f.toLowerCase().replace(X,""),g===d)return a[f]}function d(a){if("string"!==typeof a)throw Error("not a string");this.text=a.trim();this.place=this.level=0;this.root=null;this.stack=[];this.currentObject=null;this.state=1}function h(a,b,c){Array.isArray(b)&&(c.unshift(b),b=null);c=c.reduce(function(a,b){f(b,a);return a},b?{}:a);b&&(a[b]=c)}function f(a,b){if(Array.isArray(a)){var c=a.shift();"PARAMETER"===
c&&(c=a.shift());if(1===a.length)Array.isArray(a[0])?(b[c]={},f(a[0],b[c])):b[c]=a[0];else if(a.length)if("TOWGS84"===c)b[c]=a;else{Array.isArray(c)||(b[c]={});var d;switch(c){case "UNIT":case "PRIMEM":case "VERT_DATUM":b[c]={name:a[0].toLowerCase(),convert:a[1]};3===a.length&&f(a[2],b[c]);break;case "SPHEROID":case "ELLIPSOID":b[c]={name:a[0],a:a[1],rf:a[2]};4===a.length&&f(a[3],b[c]);break;case "PROJECTEDCRS":case "PROJCRS":case "GEOGCS":case "GEOCCS":case "PROJCS":case "LOCAL_CS":case "GEODCRS":case "GEODETICCRS":case "GEODETICDATUM":case "EDATUM":case "ENGINEERINGDATUM":case "VERT_CS":case "VERTCRS":case "VERTICALCRS":case "COMPD_CS":case "COMPOUNDCRS":case "ENGINEERINGCRS":case "ENGCRS":case "FITTED_CS":case "LOCAL_DATUM":case "DATUM":a[0]=
["name",a[0]];h(b,c,a);break;default:for(d=-1;++d<a.length;)if(!Array.isArray(a[d]))return f(a,b[c]);return h(b,c,a)}}else b[c]=!0}else b[a]=!0}function b(a){return.017453292519943295*a}function a(a){function c(b){return b*(a.to_meter||1)}"GEOGCS"===a.type?a.projName="longlat":"LOCAL_CS"===a.type?(a.projName="identity",a.local=!0):a.projName="object"===typeof a.PROJECTION?Object.keys(a.PROJECTION)[0]:a.PROJECTION;a.UNIT&&(a.units=a.UNIT.name.toLowerCase(),"metre"===a.units&&(a.units="meter"),a.UNIT.convert&&
("GEOGCS"===a.type?a.DATUM&&a.DATUM.SPHEROID&&(a.to_meter=a.UNIT.convert*a.DATUM.SPHEROID.a):(a.to_meter=a.UNIT.convert,10)));var d=a.GEOGCS;"GEOGCS"===a.type&&(d=a);if(d){a.datumCode=d.DATUM?d.DATUM.name.toLowerCase():d.name.toLowerCase();"d_"===a.datumCode.slice(0,2)&&(a.datumCode=a.datumCode.slice(2));if("new_zealand_geodetic_datum_1949"===a.datumCode||"new_zealand_1949"===a.datumCode)a.datumCode="nzgd49";"wgs_1984"===a.datumCode&&("Mercator_Auxiliary_Sphere"===a.PROJECTION&&(a.sphere=!0),a.datumCode=
"wgs84");"_ferro"===a.datumCode.slice(-6)&&(a.datumCode=a.datumCode.slice(0,-6));"_jakarta"===a.datumCode.slice(-8)&&(a.datumCode=a.datumCode.slice(0,-8));~a.datumCode.indexOf("belge")&&(a.datumCode="rnb72");d.DATUM&&d.DATUM.SPHEROID&&(a.ellps=d.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===a.ellps.toLowerCase().slice(0,13)&&(a.ellps="intl"),a.a=d.DATUM.SPHEROID.a,a.rf=parseFloat(d.DATUM.SPHEROID.rf,10));~a.datumCode.indexOf("osgb_1936")&&(a.datumCode="osgb36");
~a.datumCode.indexOf("osni_1952")&&(a.datumCode="osni52");if(~a.datumCode.indexOf("tm65")||~a.datumCode.indexOf("geodetic_datum_of_1965"))a.datumCode="ire65"}a.b&&!isFinite(a.b)&&(a.b=a.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],
["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",b],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",b],["x0","false_easting",c],["y0","false_northing",c],["long0","central_meridian",b],["lat0","latitude_of_origin",b],["lat0","standard_parallel_1",b],["lat1","standard_parallel_1",b],["lat2","standard_parallel_2",b],["alpha","azimuth",b],["srsCode","name"]].forEach(function(b){var c=b[0],d=b[1];!(c in a)&&d in a&&(a[c]=a[d],
3===b.length&&(a[c]=b[2](a[c])))});a.long0||!a.longc||"Albers_Conic_Equal_Area"!==a.projName&&"Lambert_Azimuthal_Equal_Area"!==a.projName||(a.long0=a.longc);a.lat_ts||!a.lat1||"Stereographic_South_Pole"!==a.projName&&"Polar Stereographic (variant B)"!==a.projName||(a.lat0=.017453292519943295*(0<a.lat1?90:-90),a.lat_ts=a.lat1)}function e(a){var b=this;if(2===arguments.length){var c=arguments[1];"string"===typeof c?"+"===c.charAt(0)?e[a]=ba(arguments[1]):e[a]=$(arguments[1]):e[a]=c}else if(1===arguments.length){if(Array.isArray(a))return a.map(function(a){Array.isArray(a)?
e.apply(b,a):e(a)});if("string"===typeof a){if(a in e)return e[a]}else"EPSG"in a?e["EPSG:"+a.EPSG]=a:"ESRI"in a?e["ESRI:"+a.ESRI]=a:"IAU2000"in a?e["IAU2000:"+a.IAU2000]=a:console.log(a)}}function n(a){return Y.some(function(b){return-1<a.indexOf(b)})}function t(a){if("string"===typeof a){if(a in e)return e[a];if(n(a))return $(a);if("+"===a[0])return ba(a)}else return a}function w(a){return a}function s(a,b){var c=La.length;if(!a.names)return console.log(b),!0;La[c]=a;a.names.forEach(function(a){Ma[a.toLowerCase()]=
c});return this}function D(a,b,c,d){c=a*a;b*=b;var e=(c-b)/c,f=0;d?(a*=1-e*(.16666666666666666+e*(.04722222222222222+.022156084656084655*e)),c=a*a,e=0):f=Math.sqrt(e);return{es:e,e:f,ep2:(c-b)/b}}function y(a,b,d,e,f){a||((d=c(Da,e))||(d=Na),a=d.a,b=d.b,d=d.rf);d&&!b&&(b=(1-1/d)*a);if(0===d||1E-10>Math.abs(a-b))f=!0,b=a;return{a:a,b:b,rf:d,sphere:f}}function F(a,b,c,d,e,f){var g={};g.datum_type=void 0===a||"none"===a?5:4;if(b){g.datum_params=b.map(parseFloat);if(0!==g.datum_params[0]||0!==g.datum_params[1]||
0!==g.datum_params[2])g.datum_type=1;3<g.datum_params.length&&(0!==g.datum_params[3]||0!==g.datum_params[4]||0!==g.datum_params[5]||0!==g.datum_params[6])&&(g.datum_type=2,g.datum_params[3]*=4.84813681109536E-6,g.datum_params[4]*=4.84813681109536E-6,g.datum_params[5]*=4.84813681109536E-6,g.datum_params[6]=g.datum_params[6]/1E6+1)}g.a=c;g.b=d;g.es=e;g.ep2=f;return g}function x(a,b){if(!(this instanceof x))return new x(a);b=b||function(a){if(a)throw a;};var d=t(a);if("object"!==typeof d)b(a);else{var e=
x.projections.get(d.projName);if(e){if(d.datumCode&&"none"!==d.datumCode){var f=c(ib,d.datumCode);f&&(d.datum_params=f.towgs84?f.towgs84.split(","):null,d.ellps=f.ellipse,d.datumName=f.datumName?f.datumName:d.datumCode)}d.k0=d.k0||1;d.axis=d.axis||"enu";d.ellps=d.ellps||"wgs84";var f=y(d.a,d.b,d.rf,d.ellps,d.sphere),g=D(f.a,f.b,f.rf,d.R_A),h=d.datum||F(d.datumCode,d.datum_params,f.a,f.b,g.es,g.ep2);da(this,d);da(this,e);this.a=f.a;this.b=f.b;this.rf=f.rf;this.sphere=f.sphere;this.es=g.es;this.e=g.e;
this.ep2=g.ep2;this.datum=h;this.init();b(null,this)}else b(a)}}function G(a){return 1===a||2===a}function O(a){if("function"===typeof Number.isFinite){if(Number.isFinite(a))return;throw new TypeError("coordinates must be finite numbers");}if("number"!==typeof a||a!==a||!isFinite(a))throw new TypeError("coordinates must be finite numbers");}function m(a,b,c){var d;Array.isArray(c)&&(c=qa(c));d=c;O(d.x);O(d.y);a.datum&&b.datum&&((1===a.datum.datum_type||2===a.datum.datum_type)&&"WGS84"!==b.datumCode||
(1===b.datum.datum_type||2===b.datum.datum_type)&&"WGS84"!==a.datumCode)&&(d=new x("WGS84"),c=m(a,d,c),a=d);"enu"!==a.axis&&(c=Ga(a,!1,c));"longlat"===a.projName?c={x:.017453292519943295*c.x,y:.017453292519943295*c.y}:(a.to_meter&&(c={x:c.x*a.to_meter,y:c.y*a.to_meter}),c=a.inverse(c));a.from_greenwich&&(c.x+=a.from_greenwich);d=a.datum;a=b.datum;if(!((d.datum_type!==a.datum_type?0:d.a!==a.a||5E-11<Math.abs(d.es-a.es)?0:1===d.datum_type?d.datum_params[0]===a.datum_params[0]&&d.datum_params[1]===a.datum_params[1]&&
d.datum_params[2]===a.datum_params[2]:2===d.datum_type?d.datum_params[0]===a.datum_params[0]&&d.datum_params[1]===a.datum_params[1]&&d.datum_params[2]===a.datum_params[2]&&d.datum_params[3]===a.datum_params[3]&&d.datum_params[4]===a.datum_params[4]&&d.datum_params[5]===a.datum_params[5]&&d.datum_params[6]===a.datum_params[6]:1)||5===d.datum_type||5===a.datum_type||d.es===a.es&&d.a===a.a&&!G(d.datum_type)&&!G(a.datum_type))){b:{var e=d.es,f=d.a,g=c.x,h=c.y;c=c.z?c.z:0;var k;if(h<-E&&h>-1.001*E)h=-E;
else if(h>E&&h<1.001*E)h=E;else if(h<-E||h>E){c=null;break b}g>Math.PI&&(g-=2*Math.PI);k=Math.sin(h);h=Math.cos(h);f/=Math.sqrt(1-e*k*k);c={x:(f+c)*h*Math.cos(g),y:(f+c)*h*Math.sin(g),z:(f*(1-e)+c)*k}}G(d.datum_type)&&(e=d.datum_type,d=d.datum_params,1===e?c={x:c.x+d[0],y:c.y+d[1],z:c.z+d[2]}:2===e?(e=d[3],g=d[4],f=d[5],k=d[6],c={x:k*(c.x-f*c.y+g*c.z)+d[0],y:k*(f*c.x+c.y-e*c.z)+d[1],z:k*(-g*c.x+e*c.y+c.z)+d[2]}):c=void 0);if(G(a.datum_type))if(e=a.datum_type,d=a.datum_params,1===e)c={x:c.x-d[0],y:c.y-
d[1],z:c.z-d[2]};else if(2===e){var e=d[3],g=d[4],f=d[5],l=d[6];k=(c.x-d[0])/l;h=(c.y-d[1])/l;c=(c.z-d[2])/l;c={x:k+f*h-g*c,y:-f*k+h+e*c,z:g*k-e*h+c}}else c=void 0;b:{f=c;c=a.es;a=a.a;var n,q,s,r,p,g=f.x,h=f.y,e=f.z?f.z:0;d=Math.sqrt(g*g+h*h);k=Math.sqrt(g*g+h*h+e*e);if(1E-12>d/a){if(g=0,1E-12>k/a){a={x:f.x,y:f.y,z:f.z};break b}}else g=Math.atan2(h,g);f=e/k;h=d/k;n=1/Math.sqrt(1-c*(2-c)*h*h);l=h*(1-c)*n;s=f*n;p=0;do p++,q=a/Math.sqrt(1-c*s*s),k=d*l+e*s-q*(1-c*s*s),q=c*q/(q+k),n=1/Math.sqrt(1-q*(2-
q)*h*h),q=h*(1-q)*n,n*=f,r=n*l-q*s,l=q,s=n;while(1E-24<r*r&&30>p);a=Math.atan(n/Math.abs(q));a={x:g,y:a,z:k}}c=a}b.from_greenwich&&(c={x:c.x-b.from_greenwich,y:c.y});"longlat"===b.projName?c={x:57.29577951308232*c.x,y:57.29577951308232*c.y}:(c=b.forward(c),b.to_meter&&(c={x:c.x/b.to_meter,y:c.y/b.to_meter}));return"enu"!==b.axis?Ga(b,!0,c):c}function u(a,b,c){var d;if(Array.isArray(c))return a=m(a,b,c),3===c.length?[a.x,a.y,a.z]:[a.x,a.y];d=m(a,b,c);a=Object.keys(c);if(2===a.length)return d;a.forEach(function(a){"x"!==
a&&"y"!==a&&(d[a]=c[a])});return d}function v(a){return a instanceof x?a:a.oProj?a.oProj:x(a)}function C(a,b,c){a=v(a);var d=!1;if("undefined"===typeof b)b=a,a=Za,d=!0;else if("undefined"!==typeof b.x||Array.isArray(b))c=b,b=a,a=Za,d=!0;b=v(b);if(c)return u(a,b,c);c={forward:function(c){return u(a,b,c)},inverse:function(c){return u(b,a,c)}};d&&(c.oProj=b);return c}function H(a,b){var c,d,e;b=b||5;var f=a[1],g=a[0],h,k,l=Math.PI/180*f;e=Math.PI/180*g;var m;m=Math.floor((g+180)/6)+1;180===g&&(m=60);
56<=f&&64>f&&3<=g&&12>g&&(m=32);72<=f&&84>f&&(0<=g&&9>g?m=31:9<=g&&21>g?m=33:21<=g&&33>g?m=35:33<=g&&42>g&&(m=37));h=Math.PI/180*(6*(m-1)-180+3);g=6378137/Math.sqrt(1-.00669438*Math.sin(l)*Math.sin(l));c=Math.tan(l)*Math.tan(l);d=.006739496752268451*Math.cos(l)*Math.cos(l);h=Math.cos(l)*(e-h);k=6378137*(.9983242984503243*l-.002514607064228144*Math.sin(2*l)+2.639046602129982E-6*Math.sin(4*l)-3.4180461016968582E-9*Math.sin(6*l));e=.9996*g*(h+(1-c+d)*h*h*h/6+(5-18*c+c*c+72*d-.39089081163157013)*h*h*
h*h*h/120)+5E5;l=.9996*(k+g*Math.tan(l)*(h*h/2+(5-c+9*d+4*d*d)*h*h*h*h/24+(61-58*c+c*c+600*d-2.2240339282485886)*h*h*h*h*h*h/720));0>f&&(l+=1E7);c=Math.round(l);d=Math.round(e);e=m;g="Z";84>=f&&72<=f?g="X":72>f&&64<=f?g="W":64>f&&56<=f?g="V":56>f&&48<=f?g="U":48>f&&40<=f?g="T":40>f&&32<=f?g="S":32>f&&24<=f?g="R":24>f&&16<=f?g="Q":16>f&&8<=f?g="P":8>f&&0<=f?g="N":0>f&&-8<=f?g="M":-8>f&&-16<=f?g="L":-16>f&&-24<=f?g="K":-24>f&&-32<=f?g="J":-32>f&&-40<=f?g="H":-40>f&&-48<=f?g="G":-48>f&&-56<=f?g="F":
-56>f&&-64<=f?g="E":-64>f&&-72<=f?g="D":-72>f&&-80<=f&&(g="C");f=b;m="00000"+d;l="00000"+c;g=e+g;h=q(e);d=Math.floor(d/1E5);e=Math.floor(c/1E5)%20;h-=1;c="AJSAJS".charCodeAt(h);h="AFAFAF".charCodeAt(h);d=c+d-1;e=h+e;k=!1;90<d&&(d=d-90+65-1,k=!0);(73===d||73>c&&73<d||(73<d||73>c)&&k)&&d++;if(79===d||79>c&&79<d||(79<d||79>c)&&k)d++,73===d&&d++;90<d&&(d=d-90+65-1);86<e?(e=e-86+65-1,k=!0):k=!1;(73===e||73>h&&73<e||(73<e||73>h)&&k)&&e++;if(79===e||79>h&&79<e||(79<e||79>h)&&k)e++,73===e&&e++;86<e&&(e=e-
86+65-1);c=String.fromCharCode(d)+String.fromCharCode(e);return g+c+m.substr(m.length-5,f)+l.substr(l.length-5,f)}function L(a){a=g(p(a.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat]:[(a.left+a.right)/2,(a.top+a.bottom)/2]}function g(a){var b=a.northing,c=a.easting,d=a.zoneLetter,e=a.zoneNumber;if(0>e||60<e)return null;var f=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),h,k,c=c-5E5;"N">d&&(b-=1E7);d=6*(e-1)-180+3;e=b/.9996/6367449.145945056;b=e+(3*f/2-27*f*f*f/32)*Math.sin(2*e)+(21*f*f/16-
55*f*f*f*f/32)*Math.sin(4*e)+151*f*f*f/96*Math.sin(6*e);h=6378137/Math.sqrt(1-.00669438*Math.sin(b)*Math.sin(b));f=Math.tan(b)*Math.tan(b);e=.006739496752268451*Math.cos(b)*Math.cos(b);k=6335439.32722994/Math.pow(1-.00669438*Math.sin(b)*Math.sin(b),1.5);c/=.9996*h;h=b-h*Math.tan(b)/k*(c*c/2-(5+3*f+10*e-4*e*e-.06065547077041606)*c*c*c*c/24+(61+90*f+298*e+45*f*f-1.6983531815716497-3*e*e)*c*c*c*c*c*c/720);h=h/Math.PI*180;c=(c-(1+2*f+e)*c*c*c/6+(5-2*e+28*f-3*e*e+.05391597401814761+24*f*f)*c*c*c*c*c/120)/
Math.cos(b);c=d+c/Math.PI*180;a.accuracy?(a=g({northing:a.northing+a.accuracy,easting:a.easting+a.accuracy,zoneLetter:a.zoneLetter,zoneNumber:a.zoneNumber}),a={top:a.lat,right:a.lon,bottom:h,left:c}):a={lat:h,lon:c};return a}function q(a){a%=6;0===a&&(a=6);return a}function p(a){if(a&&0===a.length)throw"MGRSPoint coverting from nothing";for(var b=a.length,c=null,d="",e,f=0;!/[A-Z]/.test(e=a.charAt(f));){if(2<=f)throw"MGRSPoint bad conversion from: "+a;d+=e;f++}d=parseInt(d,10);if(0===f||f+3>b)throw"MGRSPoint bad conversion from: "+
a;e=a.charAt(f++);if("A">=e||"B"===e||"Y"===e||"Z"<=e||"I"===e||"O"===e)throw"MGRSPoint zone letter "+e+" not handled: "+a;var c=a.substring(f,f+=2),g=q(d),h;h=c.charAt(0);for(var k="AJSAJS".charCodeAt(g-1),l=1E5,m=!1;k!==h.charCodeAt(0);){k++;73===k&&k++;79===k&&k++;if(90<k){if(m)throw"Bad character: "+h;k=65;m=!0}l+=1E5}h=l;c=c.charAt(1);if("V"<c)throw"MGRSPoint given invalid Northing "+c;g="AFAFAF".charCodeAt(g-1);k=0;for(l=!1;g!==c.charCodeAt(0);){g++;73===g&&g++;79===g&&g++;if(86<g){if(l)throw"Bad character: "+
c;g=65;l=!0}k+=1E5}for(g=k;g<N(e);)g+=2E6;b-=f;if(0!==b%2)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+a;var b=b/2,k=c=0,n;0<b&&(n=1E5/Math.pow(10,b),c=a.substring(f,f+b),c=parseFloat(c)*n,a=a.substring(f+b),k=parseFloat(a)*n);return{easting:c+h,northing:k+g,zoneLetter:e,zoneNumber:d,accuracy:n}}function N(a){var b;switch(a){case "C":b=11E5;break;case "D":b=2E6;break;case "E":b=
28E5;break;case "F":b=37E5;break;case "G":b=46E5;break;case "H":b=55E5;break;case "J":b=64E5;break;case "K":b=73E5;break;case "L":b=82E5;break;case "M":b=91E5;break;case "N":b=0;break;case "P":b=8E5;break;case "Q":b=17E5;break;case "R":b=26E5;break;case "S":b=35E5;break;case "T":b=44E5;break;case "U":b=53E5;break;case "V":b=62E5;break;case "W":b=7E6;break;case "X":b=79E5;break;default:b=-1}if(0<=b)return b;throw"Invalid zone letter: "+a;}function P(a,b,c){if(!(this instanceof P))return new P(a,b,
c);Array.isArray(a)?(this.x=a[0],this.y=a[1],this.z=a[2]||0):"object"===typeof a?(this.x=a.x,this.y=a.y,this.z=a.z||0):"string"===typeof a&&"undefined"===typeof b?(a=a.split(","),this.x=parseFloat(a[0],10),this.y=parseFloat(a[1],10),this.z=parseFloat(a[2],10)||0):(this.x=a,this.y=b,this.z=c||0);console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function r(a,b,c,d){1E-10>a?(d.value=T.AREA_0,a=0):(a=Math.atan2(b,c),Math.abs(a)<=J?d.value=T.AREA_0:a>J&&a<=E+J?(d.value=T.AREA_1,
a-=E):a>E+J||a<=-(E+J)?(d.value=T.AREA_2,a=0<=a?a-3.14159265359:a+3.14159265359):(d.value=T.AREA_3,a+=E));return a}function I(a,b){var c=a+b;-3.14159265359>c?c+=K:3.14159265359<c&&(c-=K);return c}var E=Math.PI/2,J=Math.PI/4,K=2*Math.PI,z={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},
R={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},X=/[\s_\-\/\(\)]/g,ba=function(a){var b={};a=a.split("+").map(function(a){return a.trim()}).filter(function(a){return a}).reduce(function(a,b){var c=b.split("=");c.push(!0);a[c[0].toLowerCase()]=c[1];return a},{});var d,e,f,g={proj:"projName",datum:"datumCode",rf:function(a){b.rf=parseFloat(a)},lat_0:function(a){b.lat0=.017453292519943295*a},lat_1:function(a){b.lat1=.017453292519943295*a},lat_2:function(a){b.lat2=.017453292519943295*a},lat_ts:function(a){b.lat_ts=
.017453292519943295*a},lon_0:function(a){b.long0=.017453292519943295*a},lon_1:function(a){b.long1=.017453292519943295*a},lon_2:function(a){b.long2=.017453292519943295*a},alpha:function(a){b.alpha=.017453292519943295*parseFloat(a)},lonc:function(a){b.longc=.017453292519943295*a},x_0:function(a){b.x0=parseFloat(a)},y_0:function(a){b.y0=parseFloat(a)},k_0:function(a){b.k0=parseFloat(a)},k:function(a){b.k0=parseFloat(a)},a:function(a){b.a=parseFloat(a)},b:function(a){b.b=parseFloat(a)},r_a:function(){b.R_A=
!0},zone:function(a){b.zone=parseInt(a,10)},south:function(){b.utmSouth=!0},towgs84:function(a){b.datum_params=a.split(",").map(function(a){return parseFloat(a)})},to_meter:function(a){b.to_meter=parseFloat(a)},units:function(a){b.units=a;if(a=c(R,a))b.to_meter=a.to_meter},from_greenwich:function(a){b.from_greenwich=.017453292519943295*a},pm:function(a){var d=c(z,a);b.from_greenwich=.017453292519943295*(d?d:parseFloat(a))},nadgrids:function(a){"@null"===a?b.datumCode="none":b.nadgrids=a},axis:function(a){3===
a.length&&-1!=="ewnsud".indexOf(a.substr(0,1))&&-1!=="ewnsud".indexOf(a.substr(1,1))&&-1!=="ewnsud".indexOf(a.substr(2,1))&&(b.axis=a)}};for(d in a)e=a[d],d in g?(f=g[d],"function"===typeof f?f(e):b[f]=e):b[d]=e;"string"===typeof b.datumCode&&"WGS84"!==b.datumCode&&(b.datumCode=b.datumCode.toLowerCase());return b},Z=/\s/,va=/[A-Za-z]/,ia=/[A-Za-z84]/,U=/[,\]]/,S=/[\d\.E\-\+]/;d.prototype.readCharicter=function(){var a=this.text[this.place++];if(4!==this.state)for(;Z.test(a);){if(this.place>=this.text.length)return;
a=this.text[this.place++]}switch(this.state){case 1:return this.neutral(a);case 2:return this.keyword(a);case 4:return this.quoted(a);case 5:return this.afterquote(a);case 3:return this.number(a)}};d.prototype.afterquote=function(a){if('"'===a)this.word+='"',this.state=4;else if(U.test(a))this.word=this.word.trim(),this.afterItem(a);else throw Error("havn't handled \""+a+'" in afterquote yet, index '+this.place);};d.prototype.afterItem=function(a){","===a?(null!==this.word&&this.currentObject.push(this.word),
this.word=null,this.state=1):"]"===a&&(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),this.currentObject||(this.state=-1))};d.prototype.number=function(a){if(S.test(a))this.word+=a;else if(U.test(a))this.word=parseFloat(this.word),this.afterItem(a);else throw Error("havn't handled \""+a+'" in number yet, index '+this.place);};d.prototype.quoted=function(a){'"'===a?this.state=5:this.word+=a};d.prototype.keyword=function(a){if(ia.test(a))this.word+=
a;else if("["===a)a=[],a.push(this.word),this.level++,null===this.root?this.root=a:this.currentObject.push(a),this.stack.push(this.currentObject),this.currentObject=a,this.state=1;else if(U.test(a))this.afterItem(a);else throw Error("havn't handled \""+a+'" in keyword yet, index '+this.place);};d.prototype.neutral=function(a){if(va.test(a))this.word=a,this.state=2;else if('"'===a)this.word="",this.state=4;else if(S.test(a))this.word=a,this.state=3;else if(U.test(a))this.afterItem(a);else throw Error("havn't handled \""+
a+'" in neutral yet, index '+this.place);};d.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw Error('unable to parse string "'+this.text+'". State is '+this.state);};var $=function(b){b=(new d(b)).output();var c=b.shift(),e=b.shift();b.unshift(["name",e]);b.unshift(["type",c]);c={};f(b,c);a(c);return c};(function(a){a("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");a("EPSG:4269",
"+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");a("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");a.WGS84=a["EPSG:4326"];a["EPSG:3785"]=a["EPSG:3857"];a.GOOGLE=a["EPSG:3857"];a["EPSG:900913"]=a["EPSG:3857"];a["EPSG:102113"]=a["EPSG:3857"]})(e);var Y="PROJECTEDCRS PROJCRS GEOGCS GEOCCS PROJCS LOCAL_CS GEODCRS GEODETICCRS GEODETICDATUM ENGCRS ENGINEERINGCRS".split(" "),
da=function(a,b){a=a||{};var c,d;if(!b)return a;for(d in b)c=b[d],void 0!==c&&(a[d]=c);return a},ja=function(a,b,c){a*=b;return c/Math.sqrt(1-a*a)},M=function(a){return 3.14159265359>=Math.abs(a)?a:a-(0>a?-1:1)*K},ga=function(a,b,c){c*=a;c=Math.pow((1-c)/(1+c),.5*a);return Math.tan(.5*(E-b))/c},ka=function(a,b){for(var c=.5*a,d,e=E-2*Math.atan(b),f=0;15>=f;f++)if(d=a*Math.sin(e),d=E-2*Math.atan(b*Math.pow((1-d)/(1+d),c))-e,e+=d,1E-10>=Math.abs(d))return e;return-9999},yb=[{init:function(){var a=this.b/
this.a;this.es=1-a*a;"x0"in this||(this.x0=0);"y0"in this||(this.y0=0);this.e=Math.sqrt(this.es);this.lat_ts?this.k0=this.sphere?Math.cos(this.lat_ts):ja(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k0=this.k?this.k:1)},forward:function(a){var b=a.x,c=a.y;if(90<57.29577951308232*c&&-90>57.29577951308232*c&&180<57.29577951308232*b&&-180>57.29577951308232*b||1E-10>=Math.abs(Math.abs(c)-E))return null;if(this.sphere)b=this.x0+this.a*this.k0*M(b-this.long0),c=this.y0+this.a*this.k0*
Math.log(Math.tan(J+.5*c));else var d=Math.sin(c),c=ga(this.e,c,d),b=this.x0+this.a*this.k0*M(b-this.long0),c=this.y0-this.a*this.k0*Math.log(c);a.x=b;a.y=c;return a},inverse:function(a){var b=a.x-this.x0,c=a.y-this.y0;if(this.sphere)c=E-2*Math.atan(Math.exp(-c/(this.a*this.k0)));else if(c=Math.exp(-c/(this.a*this.k0)),c=ka(this.e,c),-9999===c)return null;b=M(this.long0+b/(this.a*this.k0));a.x=b;a.y=c;return a},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere",
"merc"]},{init:function(){},forward:w,inverse:w,names:["longlat","identity"]}],Ma={},La=[],$a={start:function(){yb.forEach(s)},add:s,get:function(a){if(!a)return!1;a=a.toLowerCase();if("undefined"!==typeof Ma[a]&&La[Ma[a]])return La[Ma[a]]}},Da={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,
b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},
bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,
rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,
rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},
SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},Na=Da.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Da.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var ib={wgs84:{towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},ch1903:{towgs84:"674.374,15.056,405.346",
ellipse:"bessel",datumName:"swiss"},ggrs87:{towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},nad83:{towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},nad27:{nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},potsdam:{towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},carthage:{towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},
hermannskogel:{towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},osni52:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},ire65:{towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},rassadiran:{towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},nzgd49:{towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},
osgb36:{towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},s_jtsk:{towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},beduaram:{towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},gunung_segara:{towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},rnb72:{towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}};x.projections=$a;x.projections.start();
var Ga=function(a,b,c){var d=c.x,e=c.y,f=c.z||0,g,h,k,l={};for(k=0;3>k;k++)if(!b||2!==k||void 0!==c.z)switch(0===k?(g=d,h="x"):1===k?(g=e,h="y"):(g=f,h="z"),a.axis[k]){case "e":l[h]=g;break;case "w":l[h]=-g;break;case "n":l[h]=g;break;case "s":l[h]=-g;break;case "u":void 0!==c[h]&&(l.z=g);break;case "d":void 0!==c[h]&&(l.z=-g);break;default:return null}return l},qa=function(a){var b={x:a[0],y:a[1]};2<a.length&&(b.z=a[2]);3<a.length&&(b.m=a[3]);return b},Za=x("WGS84"),Oa={forward:H,inverse:function(a){a=
g(p(a.toUpperCase()));return a.lat&&a.lon?[a.lon,a.lat,a.lon,a.lat]:[a.left,a.bottom,a.right,a.top]},toPoint:L};P.fromMGRS=function(a){return new P(L(a))};P.prototype.toMGRS=function(a){return H([this.x,this.y],a)};var wa=function(a){var b=[];b[0]=1-a*(.25+a*(.046875+a*(.01953125+.01068115234375*a)));b[1]=a*(.75-a*(.046875+a*(.01953125+.01068115234375*a)));var c=a*a;b[2]=c*(.46875-a*(.013020833333333334+.007120768229166667*a));c*=a;b[3]=c*(.3645833333333333-.005696614583333333*a);b[4]=c*a*.3076171875;
return b},na=function(a,b,c,d){c*=b;b*=b;return d[0]*a-c*(d[1]+b*(d[2]+b*(d[3]+b*d[4])))},ra=function(a,b,c){for(var d=1/(1-b),e=a,f=20;f;--f){var g=Math.sin(e),h=1-b*g*g,h=(na(e,g,Math.cos(e),c)-a)*h*Math.sqrt(h)*d,e=e-h;if(1E-10>Math.abs(h))break}return e},ab={init:function(){this.x0=void 0!==this.x0?this.x0:0;this.y0=void 0!==this.y0?this.y0:0;this.long0=void 0!==this.long0?this.long0:0;this.lat0=void 0!==this.lat0?this.lat0:0;this.es&&(this.en=wa(this.es),this.ml0=na(this.lat0,Math.sin(this.lat0),
Math.cos(this.lat0),this.en))},forward:function(a){var b=a.y,c=M(a.x-this.long0),d,e=Math.sin(b),f=Math.cos(b);if(this.es){var g=f*c,h=Math.pow(g,2),k=this.ep2*Math.pow(f,2),l=Math.pow(k,2);d=1E-10<Math.abs(f)?Math.tan(b):0;var m=Math.pow(d,2),n=Math.pow(m,2);d=1-this.es*Math.pow(e,2);g/=Math.sqrt(d);b=na(b,e,f,this.en);d=this.a*this.k0*g*(1+h/6*(1-m+k+h/20*(5-18*m+n+14*k-58*m*k+h/42*(61+179*n-n*m-479*m))))+this.x0;c=this.a*this.k0*(b-this.ml0+e*c*g/2*(1+h/12*(5-m+9*k+4*l+h/30*(61+n-58*m+270*k-330*
m*k+h/56*(1385+543*n-n*m-3111*m)))))+this.y0}else{e=f*Math.sin(c);if(1E-10>Math.abs(Math.abs(e)-1))return 93;d=.5*this.a*this.k0*Math.log((1+e)/(1-e))+this.x0;c=f*Math.cos(c)/Math.sqrt(1-Math.pow(e,2));e=Math.abs(c);if(1<=e){if(1E-10<e-1)return 93;c=0}else c=Math.acos(c);0>b&&(c=-c);c=this.a*this.k0*(c-this.lat0)+this.y0}a.x=d;a.y=c;return a},inverse:function(a){var b,c,d=1/this.a*(a.x-this.x0),e=1/this.a*(a.y-this.y0);if(this.es)if(b=this.ml0+e/this.k0,c=ra(b,this.es,this.en),Math.abs(c)<E){b=Math.sin(c);
var e=Math.cos(c),f=1E-10<Math.abs(e)?Math.tan(c):0,g=this.ep2*Math.pow(e,2),h=Math.pow(g,2),k=Math.pow(f,2),l=Math.pow(k,2);b=1-this.es*Math.pow(b,2);var d=d*Math.sqrt(b)/this.k0,m=Math.pow(d,2);b=c-b*f*m/(1-this.es)*.5*(1-m/12*(5+3*k-9*g*k+g-4*h-m/30*(61+90*k-252*g*k+45*l+46*g-m/56*(1385+3633*k+4095*l+1574*l*k))));c=M(this.long0+d*(1-m/6*(1+2*k+g-m/20*(5+28*k+24*l+8*g*k+6*g-m/42*(61+662*k+1320*l+720*l*k))))/e)}else b=E*(0>e?-1:1),c=0;else b=Math.exp(d/this.k0),c=.5*(b-1/b),g=Math.cos(this.lat0+
e/this.k0),b=Math.sqrt((1-Math.pow(g,2))/(1+Math.pow(c,2))),b=Math.asin(b),0>e&&(b=-b),c=0===c&&0===g?0:M(Math.atan2(c,g)+this.long0);a.x=c;a.y=b;return a},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},Ha=function(a){a=Math.exp(a);return(a-1/a)/2},Ea=function(a,b){a=Math.abs(a);b=Math.abs(b);var c=Math.max(a,b),d=Math.min(a,b)/(c?c:1);return c*Math.sqrt(1+Math.pow(d,2))},ca=function(a,b){for(var c=2*Math.cos(2*b),d=a.length-1,e=a[d],f=0,g;0<=--d;)g=-f+c*e+a[d],f=e,e=g;return b+g*Math.sin(2*
b)},xa=function(a,b,c){var d=Math.sin(b);b=Math.cos(b);var e=Ha(c);c=Math.exp(c);c=(c+1/c)/2;for(var f=2*b*c,g=-2*d*e,h=a.length-1,k=a[h],l=0,m=0,n=0,q,s;0<=--h;)q=m,s=l,m=k,l=n,k=-q+f*m-g*l+a[h],n=-s+g*m+f*l;f=d*c;g=b*e;return[f*k-g*n,f*n+g*k]},Ia={init:function(){if(void 0===this.es||0>=this.es)throw Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0;this.y0=void 0!==this.y0?this.y0:0;this.long0=void 0!==this.long0?this.long0:0;this.lat0=void 0!==this.lat0?this.lat0:0;this.cgb=
[];this.cbg=[];this.utg=[];this.gtu=[];var a=this.es/(1+Math.sqrt(1-this.es)),a=a/(2-a),b;this.cgb[0]=a*(2+a*(-2/3+a*(-2+a*(116/45+a*(26/45+-2854/675*a)))));this.cbg[0]=a*(-2+a*(2/3+a*(4/3+a*(-82/45+a*(32/45+4642/4725*a)))));b=a*a;this.cgb[1]=b*(7/3+a*(-1.6+a*(-227/45+a*(2704/315+2323/945*a))));this.cbg[1]=b*(5/3+a*(-16/15+a*(-13/9+a*(904/315+-1522/945*a))));b*=a;this.cgb[2]=b*(56/15+a*(-136/35+a*(-1262/105+73814/2835*a)));this.cbg[2]=b*(-26/15+a*(34/21+a*(1.6+-12686/2835*a)));b*=a;this.cgb[3]=b*
(4279/630+a*(-332/35+-399572/14175*a));this.cbg[3]=b*(1237/630+a*(-2.4+-24832/14175*a));b*=a;this.cgb[4]=b*(4174/315+-144838/6237*a);this.cbg[4]=b*(-734/315+109598/31185*a);b*=a;this.cgb[5]=601676/22275*b;this.cbg[5]=444337/155925*b;b=Math.pow(a,2);this.Qn=this.k0/(1+a)*(1+b*(.25+b*(.015625+b/256)));this.utg[0]=a*(-.5+a*(2/3+a*(-37/96+a*(1/360+a*(81/512+-96199/604800*a)))));this.gtu[0]=a*(.5+a*(-2/3+a*(.3125+a*(41/180+a*(-127/288+7891/37800*a)))));this.utg[1]=b*(-1/48+a*(-1/15+a*(437/1440+a*(-46/
105+.2890188388723545*a))));this.gtu[1]=b*(13/48+a*(-.6+a*(557/1440+a*(281/630+-1.0248393063822752*a))));b*=a;this.utg[2]=b*(-17/480+a*(37/840+a*(209/4480+-5569/90720*a)));this.gtu[2]=b*(61/240+a*(-103/140+a*(15061/26880+167603/181440*a)));b*=a;this.utg[3]=b*(-4397/161280+a*(11/504+830251/7257600*a));this.gtu[3]=b*(49561/161280+a*(-179/168+.9096203979276896*a));b*=a;this.utg[4]=b*(-4583/161280+108847/3991680*a);this.gtu[4]=b*(34729/80640+-1.713007555715889*a);b*=a;this.utg[5]=-.03233083094085698*
b;this.gtu[5]=.6650675310896665*b;a=ca(this.cbg,this.lat0);b=-this.Qn;for(var c,d=this.gtu,e=2*a,f=2*Math.cos(e),g=d.length-1,h=d[g],k=0;0<=--g;)c=-k+f*h+d[g],k=h,h=c;c*=Math.sin(e);this.Zb=b*(a+c)},forward:function(a){var b=M(a.x-this.long0),c=a.y,c=ca(this.cbg,c),d=Math.sin(c),e=Math.cos(c),f=Math.sin(b),b=Math.cos(b),c=Math.atan2(d,b*e),b=Math.atan2(f*e,Ea(d,e*b)),b=Math.tan(b),d=Math.abs(b),d=d*(1+d/(Ea(1,d)+1)),e=1+d,f=e-1,d=0===f?d:d*Math.log(e)/f,b=0>b?-d:d,d=xa(this.gtu,2*c,2*b),c=c+d[0],
b=b+d[1];2.623395162778>=Math.abs(b)?(b=this.a*this.Qn*b+this.x0,c=this.a*(this.Qn*c+this.Zb)+this.y0):c=b=Infinity;a.x=b;a.y=c;return a},inverse:function(a){var b=1/this.a*(a.x-this.x0),c=1/this.a*(a.y-this.y0),c=(c-this.Zb)/this.Qn,b=b/this.Qn;if(2.623395162778>=Math.abs(b))var d=xa(this.utg,2*c,2*b),c=c+d[0],b=b+d[1],b=Math.atan(Ha(b)),d=Math.sin(c),e=Math.cos(c),f=Math.sin(b),b=Math.cos(b),c=Math.atan2(d*b,Ea(f,b*e)),b=Math.atan2(f,b*e),b=M(b+this.long0),c=ca(this.cgb,c);else c=b=Infinity;a.x=
b;a.y=c;return a},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Pa={init:function(){var a;a:if(a=this.zone,void 0===a)if(a=Math.floor(30*(M(this.long0)+Math.PI)/Math.PI)+1,0>a){a=0;break a}else if(60<a){a=60;break a}if(void 0===a)throw Error("unknown utm zone");this.lat0=0;this.long0=.017453292519943295*(6*Math.abs(a)-183);this.x0=5E5;this.y0=this.utmSouth?1E7:0;this.k0=.9996;Ia.init.apply(this);this.forward=Ia.forward;this.inverse=Ia.inverse},names:["Universal Transverse Mercator System",
"utm"],dependsOn:"etmerc"},Qa=function(a,b){return Math.pow((1-a)/(1+a),b)},jb=function(){var a=Math.sin(this.lat0),b=Math.cos(this.lat0),b=b*b;this.rc=Math.sqrt(1-this.es)/(1-this.es*a*a);this.C=Math.sqrt(1+this.es*b*b/(1-this.es));this.phic0=Math.asin(a/this.C);this.ratexp=.5*this.C*this.e;this.K=Math.tan(.5*this.phic0+J)/(Math.pow(Math.tan(.5*this.lat0+J),this.C)*Qa(this.e*a,this.ratexp))},kb=function(a){var b=a.x,c=a.y;a.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*c+J),this.C)*Qa(this.e*Math.sin(c),
this.ratexp))-E;a.x=this.C*b;return a},lb=function(a){for(var b=a.x/this.C,c=a.y,d=Math.pow(Math.tan(.5*c+J)/this.K,1/this.C),e=20;0<e;--e){c=2*Math.atan(d*Qa(this.e*Math.sin(a.y),-.5*this.e))-E;if(1E-14>Math.abs(c-a.y))break;a.y=c}if(!e)return null;a.x=b;a.y=c;return a},sa={init:function(){jb.apply(this);this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(a){var b,c,d,e;a.x=M(a.x-
this.long0);kb.apply(this,[a]);b=Math.sin(a.y);c=Math.cos(a.y);d=Math.cos(a.x);e=this.k0*this.R2/(1+this.sinc0*b+this.cosc0*c*d);a.x=e*c*Math.sin(a.x);a.y=e*(this.cosc0*b-this.sinc0*c*d);a.x=this.a*a.x+this.x0;a.y=this.a*a.y+this.y0;return a},inverse:function(a){var b,c,d,e;a.x=(a.x-this.x0)/this.a;a.y=(a.y-this.y0)/this.a;a.x/=this.k0;a.y/=this.k0;(e=Math.sqrt(a.x*a.x+a.y*a.y))?(d=2*Math.atan2(e,this.R2),b=Math.sin(d),c=Math.cos(d),d=Math.asin(c*this.sinc0+a.y*b*this.cosc0/e),b=Math.atan2(a.x*b,
e*this.cosc0*c-a.y*this.sinc0*b)):(d=this.phic0,b=0);a.x=b;a.y=d;lb.apply(this,[a]);a.x=M(a.x+this.long0);return a},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},mb={init:function(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&1E-10>=Math.abs(this.coslat0)&&(this.k0=.5*(1+(0>this.lat0?-1:1)*Math.sin(this.lat_ts))):(1E-10>=Math.abs(this.coslat0)&&(this.con=
0<this.lat0?1:-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&1E-10>=Math.abs(this.coslat0)&&(this.k0=.5*this.cons*ja(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/ga(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ja(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-E,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(a){var b=a.x,
c=a.y,d=Math.sin(c),e=Math.cos(c),f,g=M(b-this.long0);if(1E-10>=Math.abs(Math.abs(b-this.long0)-Math.PI)&&1E-10>=Math.abs(c+this.lat0))return a.x=NaN,a.y=NaN,a;if(this.sphere)b=2*this.k0/(1+this.sinlat0*d+this.coslat0*e*Math.cos(g)),a.x=this.a*b*e*Math.sin(g)+this.x0,a.y=this.a*b*(this.coslat0*d-this.sinlat0*e*Math.cos(g))+this.y0;else{f=2*Math.atan(this.ssfn_(c,d,this.e))-E;e=Math.cos(f);f=Math.sin(f);if(1E-10>=Math.abs(this.coslat0))return d=ga(this.e,c*this.con,this.con*d),d=2*this.a*this.k0*d/
this.cons,a.x=this.x0+d*Math.sin(b-this.long0),a.y=this.y0-this.con*d*Math.cos(b-this.long0),a;1E-10>Math.abs(this.sinlat0)?(b=2*this.a*this.k0/(1+e*Math.cos(g)),a.y=b*f):(b=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*f+this.cosX0*e*Math.cos(g))),a.y=b*(this.cosX0*f-this.sinX0*e*Math.cos(g))+this.y0);a.x=b*e*Math.sin(g)+this.x0}return a},inverse:function(a){a.x-=this.x0;a.y-=this.y0;var b,c,d,e=Math.sqrt(a.x*a.x+a.y*a.y);if(this.sphere){d=2*Math.atan(e/(.5*this.a*this.k0));b=this.long0;c=
this.lat0;if(1E-10>=e)return a.x=b,a.y=c,a;c=Math.asin(Math.cos(d)*this.sinlat0+a.y*Math.sin(d)*this.coslat0/e);b=1E-10>Math.abs(this.coslat0)?0<this.lat0?M(this.long0+Math.atan2(a.x,-1*a.y)):M(this.long0+Math.atan2(a.x,a.y)):M(this.long0+Math.atan2(a.x*Math.sin(d),e*this.coslat0*Math.cos(d)-a.y*this.sinlat0*Math.sin(d)));a.x=b;a.y=c;return a}if(1E-10>=Math.abs(this.coslat0)){if(1E-10>=e)return c=this.lat0,b=this.long0,a.x=b,a.y=c,a;a.x*=this.con;a.y*=this.con;b=e*this.cons/(2*this.a*this.k0);c=this.con*
ka(this.e,b);b=this.con*M(this.con*this.long0+Math.atan2(a.x,-1*a.y))}else c=2*Math.atan(e*this.cosX0/(2*this.a*this.k0*this.ms1)),b=this.long0,1E-10>=e?d=this.X0:(d=Math.asin(Math.cos(c)*this.sinX0+a.y*Math.sin(c)*this.cosX0/e),b=M(this.long0+Math.atan2(a.x*Math.sin(c),e*this.cosX0*Math.cos(c)-a.y*this.sinX0*Math.sin(c)))),c=-1*ka(this.e,Math.tan(.5*(E+d)));a.x=b;a.y=c;return a},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(a,b,c){b*=c;return Math.tan(.5*
(E+a))*Math.pow((1-b)/(1+b),.5*c)}},nb={init:function(){var a=this.lat0;this.lambda0=this.long0;var b=Math.sin(a),c=this.a,d=1/this.rf,e=2*d-Math.pow(d,2),d=this.e=Math.sqrt(e);this.R=this.k0*c*Math.sqrt(1-e)/(1-e*Math.pow(b,2));this.alpha=Math.sqrt(1+e/(1-e)*Math.pow(Math.cos(a),4));this.b0=Math.asin(b/this.alpha);c=Math.log(Math.tan(Math.PI/4+this.b0/2));a=Math.log(Math.tan(Math.PI/4+a/2));b=Math.log((1+d*b)/(1-d*b));this.K=c-this.alpha*a+this.alpha*d/2*b},forward:function(a){var b=Math.log(Math.tan(Math.PI/
4-a.y/2)),c=this.e/2*Math.log((1+this.e*Math.sin(a.y))/(1-this.e*Math.sin(a.y))),c=2*(Math.atan(Math.exp(-this.alpha*(b+c)+this.K))-Math.PI/4),d=this.alpha*(a.x-this.lambda0),b=Math.atan(Math.sin(d)/(Math.sin(this.b0)*Math.tan(c)+Math.cos(this.b0)*Math.cos(d))),c=Math.asin(Math.cos(this.b0)*Math.sin(c)-Math.sin(this.b0)*Math.cos(c)*Math.cos(d));a.y=this.R/2*Math.log((1+Math.sin(c))/(1-Math.sin(c)))+this.y0;a.x=this.R*b+this.x0;return a},inverse:function(a){for(var b=(a.x-this.x0)/this.R,c=2*(Math.atan(Math.exp((a.y-
this.y0)/this.R))-Math.PI/4),d=Math.asin(Math.cos(this.b0)*Math.sin(c)+Math.sin(this.b0)*Math.cos(c)*Math.cos(b)),b=Math.atan(Math.sin(b)/(Math.cos(this.b0)*Math.cos(b)-Math.sin(this.b0)*Math.tan(c))),b=this.lambda0+b/this.alpha,c=0,e=d,f=-1E3,g=0;1E-7<Math.abs(e-f);){if(20<++g)return;c=1/this.alpha*(Math.log(Math.tan(Math.PI/4+d/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(e))/2));f=e;e=2*Math.atan(Math.exp(c))-Math.PI/2}a.x=b;a.y=e;return a},names:["somerc"]},bb={init:function(){this.no_off=
this.no_off||!1;this.no_rot=this.no_rot||!1;isNaN(this.k0)&&(this.k0=1);var a=Math.sin(this.lat0),b=Math.cos(this.lat0),c=this.e*a;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(b,4));this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-c*c);a=ga(this.e,this.lat0,a);b=this.bl/b*Math.sqrt((1-this.es)/(1-c*c));1>b*b&&(b=1);var d;if(isNaN(this.longc)){c=ga(this.e,this.lat1,Math.sin(this.lat1));d=ga(this.e,this.lat2,Math.sin(this.lat2));this.el=0<=this.lat0?(b+Math.sqrt(b*b-1))*Math.pow(a,this.bl):
(b-Math.sqrt(b*b-1))*Math.pow(a,this.bl);var c=Math.pow(c,this.bl),e=Math.pow(d,this.bl);d=this.el/c;a=.5*(d-1/d);d=(this.el*this.el-e*c)/(this.el*this.el+e*c);c=(e-c)/(e+c);e=M(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(d*Math.tan(.5*this.bl*e)/c)/this.bl;this.long0=M(this.long0);c=M(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*c)/a);this.alpha=Math.asin(b*Math.sin(this.gamma0))}else d=0<=this.lat0?b+Math.sqrt(b*b-1):b-Math.sqrt(b*b-1),this.el=d*Math.pow(a,
this.bl),a=.5*(d-1/d),this.gamma0=Math.asin(Math.sin(this.alpha)/b),this.long0=this.longc-Math.asin(a*Math.tan(this.gamma0))/this.bl;this.uc=this.no_off?0:0<=this.lat0?this.al/this.bl*Math.atan2(Math.sqrt(b*b-1),Math.cos(this.alpha)):-1*this.al/this.bl*Math.atan2(Math.sqrt(b*b-1),Math.cos(this.alpha))},forward:function(a){var b=a.y,c=M(a.x-this.long0),d;if(1E-10>=Math.abs(Math.abs(b)-E))c=0<b?-1:1,d=this.al/this.bl*Math.log(Math.tan(J+c*this.gamma0*.5)),c=-1*c*E*this.al/this.bl;else{b=ga(this.e,b,
Math.sin(b));d=this.el/Math.pow(b,this.bl);b=.5*(d-1/d);d=.5*(d+1/d);var e=Math.sin(this.bl*c);d=(b*Math.sin(this.gamma0)-e*Math.cos(this.gamma0))/d;d=1E-10>=Math.abs(Math.abs(d)-1)?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl;c=1E-10>=Math.abs(Math.cos(this.bl*c))?this.al*this.bl*c:this.al*Math.atan2(b*Math.cos(this.gamma0)+e*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}this.no_rot?(a.x=this.x0+c,a.y=this.y0+d):(c-=this.uc,a.x=this.x0+d*Math.cos(this.alpha)+c*Math.sin(this.alpha),
a.y=this.y0+c*Math.cos(this.alpha)-d*Math.sin(this.alpha));return a},inverse:function(a){var b,c;this.no_rot?(c=a.y-this.y0,b=a.x-this.x0):(c=(a.x-this.x0)*Math.cos(this.alpha)-(a.y-this.y0)*Math.sin(this.alpha),b=(a.y-this.y0)*Math.cos(this.alpha)+(a.x-this.x0)*Math.sin(this.alpha),b+=this.uc);var d=Math.exp(-1*this.bl*c/this.al);c=.5*(d-1/d);var e=.5*(d+1/d),d=Math.sin(this.bl*b/this.al),e=(d*Math.cos(this.gamma0)+c*Math.sin(this.gamma0))/e,f=Math.pow(this.el/Math.sqrt((1+e)/(1-e)),1/this.bl);1E-10>
Math.abs(e-1)?(a.x=this.long0,a.y=E):1E-10>Math.abs(e+1)?(a.x=this.long0,a.y=-1*E):(a.y=ka(this.e,f),a.x=M(this.long0-Math.atan2(c*Math.cos(this.gamma0)-d*Math.sin(this.gamma0),Math.cos(this.bl*b/this.al))/this.bl));return a},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},ob={init:function(){this.lat2||(this.lat2=this.lat1);this.k0||(this.k0=1);this.x0=this.x0||0;this.y0=this.y0||0;if(!(1E-10>
Math.abs(this.lat1+this.lat2))){var a=this.b/this.a;this.e=Math.sqrt(1-a*a);var a=Math.sin(this.lat1),b=Math.cos(this.lat1),b=ja(this.e,a,b),c=ga(this.e,this.lat1,a),d=Math.sin(this.lat2),e=Math.cos(this.lat2),e=ja(this.e,d,e),d=ga(this.e,this.lat2,d),f=ga(this.e,this.lat0,Math.sin(this.lat0));1E-10<Math.abs(this.lat1-this.lat2)?this.ns=Math.log(b/e)/Math.log(c/d):this.ns=a;isNaN(this.ns)&&(this.ns=a);this.f0=b/(this.ns*Math.pow(c,this.ns));this.rh=this.a*this.f0*Math.pow(f,this.ns);this.title||(this.title=
"Lambert Conformal Conic")}},forward:function(a){var b=a.x,c=a.y;1E-10>=Math.abs(2*Math.abs(c)-Math.PI)&&(c=(0>c?-1:1)*(E-2E-10));var d=Math.abs(Math.abs(c)-E);if(1E-10<d)c=ga(this.e,c,Math.sin(c)),c=this.a*this.f0*Math.pow(c,this.ns);else{d=c*this.ns;if(0>=d)return null;c=0}b=this.ns*M(b-this.long0);a.x=this.k0*c*Math.sin(b)+this.x0;a.y=this.k0*(this.rh-c*Math.cos(b))+this.y0;return a},inverse:function(a){var b,c,d,e=(a.x-this.x0)/this.k0,f=this.rh-(a.y-this.y0)/this.k0;0<this.ns?(b=Math.sqrt(e*
e+f*f),c=1):(b=-Math.sqrt(e*e+f*f),c=-1);d=0;0!==b&&(d=Math.atan2(c*e,c*f));if(0!==b||0<this.ns){if(c=1/this.ns,b=Math.pow(b/(this.a*this.f0),c),b=ka(this.e,b),-9999===b)return null}else b=-E;d=M(d/this.ns+this.long0);a.x=d;a.y=b;return a},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},pb={init:function(){this.a=6377397.155;this.es=.006674372230614;this.e=Math.sqrt(this.es);this.lat0||(this.lat0=.863937979737193);this.long0||
(this.long0=.4334234309119251);this.k0||(this.k0=.9999);this.s45=.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=
this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq},forward:function(a){var b,c,d;c=a.y;d=M(a.x-this.long0);b=Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.alfa*this.e/2);b=2*(Math.atan(this.k*Math.pow(Math.tan(c/2+this.s45),this.alfa)/b)-this.s45);c=-d*this.alfa;d=Math.asin(Math.cos(this.ad)*Math.sin(b)+Math.sin(this.ad)*Math.cos(b)*
Math.cos(c));b=Math.asin(Math.cos(b)*Math.sin(c)/Math.cos(d));b*=this.n;d=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(d/2+this.s45),this.n);a.y=d*Math.cos(b)/1;a.x=d*Math.sin(b)/1;this.czech||(a.y*=-1,a.x*=-1);return a},inverse:function(a){var b,c,d;b=a.x;a.x=a.y;a.y=b;this.czech||(a.y*=-1,a.x*=-1);b=Math.sqrt(a.x*a.x+a.y*a.y);c=Math.atan2(a.y,a.x)/Math.sin(this.s0);d=2*(Math.atan(Math.pow(this.ro0/b,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);b=Math.asin(Math.cos(this.ad)*
Math.sin(d)-Math.sin(this.ad)*Math.cos(d)*Math.cos(c));c=Math.asin(Math.cos(d)*Math.sin(c)/Math.cos(b));a.x=this.long0-c/this.alfa;c=b;var e=d=0;do a.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(b/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(c))/(1-this.e*Math.sin(c)),this.e/2))-this.s45),1E-10>Math.abs(c-a.y)&&(d=1),c=a.y,e+=1;while(0===d&&15>e);return 15<=e?null:a},names:["Krovak","krovak"]},aa=function(a,b,c,d,e){return a*e-b*Math.sin(2*e)+c*Math.sin(4*e)-d*Math.sin(6*
e)},Q=function(a){return 1-.25*a*(1+a/16*(3+1.25*a))},Ja=function(a){return.375*a*(1+.25*a*(1+.46875*a))},ta=function(a){return.05859375*a*a*(1+.75*a)},la=function(a){return 35/3072*a*a*a},ya=function(a,b,c){b*=c;return a/Math.sqrt(1-b*b)},za=function(a){return Math.abs(a)<E?a:a-(0>a?-1:1)*Math.PI},oa=function(a,b,c,d,e){var f,g;f=a/b;for(var h=0;15>h;h++)if(g=(a-(b*f-c*Math.sin(2*f)+d*Math.sin(4*f)-e*Math.sin(6*f)))/(b-2*c*Math.cos(2*f)+4*d*Math.cos(4*f)-6*e*Math.cos(6*f)),f+=g,1E-10>=Math.abs(g))return f;
return NaN},Ra={init:function(){this.sphere||(this.e0=Q(this.es),this.e1=Ja(this.es),this.e2=ta(this.es),this.e3=la(this.es),this.ml0=this.a*aa(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(a){var b,c,d=a.x,e=a.y,d=M(d-this.long0);if(this.sphere)b=this.a*Math.asin(Math.cos(e)*Math.sin(d)),c=this.a*(Math.atan2(Math.tan(e),Math.cos(d))-this.lat0);else{c=Math.sin(e);var f=Math.cos(e),g=ya(this.a,this.e,c),h=Math.tan(e)*Math.tan(e);b=d*Math.cos(e);var d=b*b,k=this.es*f*f/(1-this.es),e=
this.a*aa(this.e0,this.e1,this.e2,this.e3,e);b=g*b*(1-d*h*(1/6-(8-h+8*k)*d/120));c=e-this.ml0+g*c/f*d*(.5+(5-h+6*k)*d/24)}a.x=b+this.x0;a.y=c+this.y0;return a},inverse:function(a){a.x-=this.x0;a.y-=this.y0;var b=a.x/this.a,c=a.y/this.a,d;if(this.sphere)d=c+this.lat0,c=Math.asin(Math.sin(d)*Math.cos(b)),d=Math.atan2(Math.tan(b),Math.cos(d));else{d=oa(this.ml0/this.a+c,this.e0,this.e1,this.e2,this.e3);if(1E-10>=Math.abs(Math.abs(d)-E))return a.x=this.long0,a.y=E,0>c&&(a.y*=-1),a;var c=ya(this.a,this.e,
Math.sin(d)),e=c*c*c/this.a/this.a*(1-this.es),f=Math.pow(Math.tan(d),2),b=b*this.a/c,g=b*b,c=d-c*Math.tan(d)/e*b*b*(.5-(1+3*f)*b*b/24);d=b*(1-g*(f/3+(1+3*f)*f*g/15))/Math.cos(d)}a.x=M(d+this.long0);a.y=za(c);return a},names:["Cassini","Cassini_Soldner","cass"]},ha=function(a,b){var c;return 1E-7<a?(c=a*b,(1-a*a)*(b/(1-c*c)-.5/a*Math.log((1-c)/(1+c)))):2*b},Sa={init:function(){var a=Math.abs(this.lat0);1E-10>Math.abs(a-E)?this.mode=0>this.lat0?this.S_POLE:this.N_POLE:1E-10>Math.abs(a)?this.mode=this.EQUIT:
this.mode=this.OBLIQ;if(0<this.es){this.qp=ha(this.e,1);this.mmf=.5/(1-this.es);var a=this.es,b,c=[];c[0]=.3333333333333333*a;b=a*a;c[0]+=.17222222222222222*b;c[1]=.06388888888888888*b;b*=a;c[0]+=.10257936507936508*b;c[1]+=.0664021164021164*b;c[2]=.016415012942191543*b;this.apa=c;switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*
this.qp),a=Math.sin(this.lat0),this.sinb1=ha(this.e,a)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*a*a)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(a){var b,c,d,e,f,g,h,k;e=a.x;var l=a.y;e=M(e-this.long0);if(this.sphere)if(f=Math.sin(l),g=Math.cos(l),d=Math.cos(e),this.mode===this.OBLIQ||this.mode===
this.EQUIT){c=this.mode===this.EQUIT?1+g*d:1+this.sinph0*f+this.cosph0*g*d;if(1E-10>=c)return null;c=Math.sqrt(2/c);b=c*g*Math.sin(e);c*=this.mode===this.EQUIT?f:this.cosph0*f-this.sinph0*g*d}else{if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(d=-d);if(1E-10>Math.abs(l+this.phi0))return null;c=J-.5*l;c=2*(this.mode===this.S_POLE?Math.cos(c):Math.sin(c));b=c*Math.sin(e);c*=d}}else{k=h=g=0;d=Math.cos(e);e=Math.sin(e);f=Math.sin(l);f=ha(this.e,f);if(this.mode===this.OBLIQ||
this.mode===this.EQUIT)g=f/this.qp,h=Math.sqrt(1-g*g);switch(this.mode){case this.OBLIQ:k=1+this.sinb1*g+this.cosb1*h*d;break;case this.EQUIT:k=1+h*d;break;case this.N_POLE:k=E+l;f=this.qp-f;break;case this.S_POLE:k=l-E,f=this.qp+f}if(1E-10>Math.abs(k))return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:k=Math.sqrt(2/k);c=this.mode===this.OBLIQ?this.ymf*k*(this.cosb1*g-this.sinb1*h*d):(k=Math.sqrt(2/(1+h*d)))*g*this.ymf;b=this.xmf*k*h*e;break;case this.N_POLE:case this.S_POLE:0<=f?(b=(k=
Math.sqrt(f))*e,c=d*(this.mode===this.S_POLE?k:-k)):b=c=0}}a.x=this.a*b+this.x0;a.y=this.a*c+this.y0;return a},inverse:function(a){a.x-=this.x0;a.y-=this.y0;var b=a.x/this.a,c=a.y/this.a,d,e,f,g;if(this.sphere){g=e=0;f=Math.sqrt(b*b+c*c);d=.5*f;if(1<d)return null;d=2*Math.asin(d);if(this.mode===this.OBLIQ||this.mode===this.EQUIT)g=Math.sin(d),e=Math.cos(d);switch(this.mode){case this.EQUIT:d=1E-10>=Math.abs(f)?0:Math.asin(c*g/f);b*=g;c=e*f;break;case this.OBLIQ:d=1E-10>=Math.abs(f)?this.phi0:Math.asin(e*
this.sinph0+c*g*this.cosph0/f);b=b*g*this.cosph0;c=(e-Math.sin(d)*this.sinph0)*f;break;case this.N_POLE:c=-c;d=E-d;break;case this.S_POLE:d-=E}b=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(b,c):0}else{d=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){b/=this.dd;c*=this.dd;g=Math.sqrt(b*b+c*c);if(1E-10>g)return a.x=0,a.y=this.phi0,a;f=2*Math.asin(.5*g/this.rq);e=Math.cos(f);b*=f=Math.sin(f);this.mode===this.OBLIQ?(d=e*this.sinb1+c*f*this.cosb1/g,c=g*this.cosb1*e-c*this.sinb1*
f):(d=c*f/g,c=g*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){this.mode===this.N_POLE&&(c=-c);d=b*b+c*c;if(!d)return a.x=0,a.y=this.phi0,a;d=1-d/this.qp;this.mode===this.S_POLE&&(d=-d)}b=Math.atan2(b,c);c=Math.asin(d);d=this.apa;e=c+c;d=c+d[0]*Math.sin(e)+d[1]*Math.sin(e+e)+d[2]*Math.sin(e+e+e)}a.x=M(this.long0+b);a.y=d;return a},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},ma=function(a){1<Math.abs(a)&&(a=1<a?1:-1);
return Math.asin(a)},Ta={init:function(){1E-10>Math.abs(this.lat1+this.lat2)||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.con=this.t1=this.sin_po,this.ms1=ja(this.e3,this.sin_po,this.cos_po),this.qs1=ha(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ja(this.e3,this.sin_po,this.cos_po),this.qs2=ha(this.e3,this.sin_po,
this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ha(this.e3,this.sin_po,this.cos_po),1E-10<Math.abs(this.lat1-this.lat2)?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(a){var b=a.x,c=a.y;this.sin_phi=Math.sin(c);this.cos_phi=Math.cos(c);var c=ha(this.e3,this.sin_phi,this.cos_phi),c=this.a*
Math.sqrt(this.c-this.ns0*c)/this.ns0,d=this.ns0*M(b-this.long0),b=c*Math.sin(d)+this.x0,c=this.rh-c*Math.cos(d)+this.y0;a.x=b;a.y=c;return a},inverse:function(a){var b,c,d;a.x-=this.x0;a.y=this.rh-a.y+this.y0;0<=this.ns0?(b=Math.sqrt(a.x*a.x+a.y*a.y),c=1):(b=-Math.sqrt(a.x*a.x+a.y*a.y),c=-1);d=0;0!==b&&(d=Math.atan2(c*a.x,c*a.y));c=b*this.ns0/this.a;this.sphere?b=Math.asin((this.c-c*c)/(2*this.ns0)):(b=(this.c-c*c)/this.ns0,b=this.phi1z(this.e3,b));d=M(d/this.ns0+this.long0);a.x=d;a.y=b;return a},
names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(a,b){var c,d,e,f,g=ma(.5*b);if(1E-10>a)return g;for(var h=a*a,k=1;25>=k;k++)if(c=Math.sin(g),d=Math.cos(g),e=a*c,f=1-e*e,c=.5*f*f/d*(b/(1-h)-c/f+.5/a*Math.log((1-e)/(1+e))),g+=c,1E-7>=Math.abs(c))return g;return null}},qb={init:function(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1E3*this.a;this.rc=1},forward:function(a){var b,c,d,e,f;c=a.y;d=M(a.x-this.long0);b=Math.sin(c);c=Math.cos(c);e=Math.cos(d);
f=this.sin_p14*b+this.cos_p14*c*e;0<f||1E-10>=Math.abs(f)?(d=this.x0+1*this.a*c*Math.sin(d)/f,b=this.y0+1*this.a*(this.cos_p14*b-this.sin_p14*c*e)/f):(d=this.x0+this.infinity_dist*c*Math.sin(d),b=this.y0+this.infinity_dist*(this.cos_p14*b-this.sin_p14*c*e));a.x=d;a.y=b;return a},inverse:function(a){var b,c,d,e;a.x=(a.x-this.x0)/this.a;a.y=(a.y-this.y0)/this.a;a.x/=this.k0;a.y/=this.k0;(b=Math.sqrt(a.x*a.x+a.y*a.y))?(e=Math.atan2(b,this.rc),c=Math.sin(e),d=Math.cos(e),e=ma(d*this.sin_p14+a.y*c*this.cos_p14/
b),b=Math.atan2(a.x*c,b*this.cos_p14*d-a.y*this.sin_p14*c),b=M(this.long0+b)):(e=this.phic0,b=0);a.x=b;a.y=e;return a},names:["gnom"]},Aa={init:function(){this.sphere||(this.k0=ja(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(a){var b=a.y,c;c=M(a.x-this.long0);this.sphere?(c=this.x0+this.a*c*Math.cos(this.lat_ts),b=this.y0+this.a*Math.sin(b)/Math.cos(this.lat_ts)):(b=ha(this.e,Math.sin(b)),c=this.x0+this.a*this.k0*c,b=this.y0+this.a*b*.5/this.k0);a.x=c;a.y=b;return a},inverse:function(a){a.x-=
this.x0;a.y-=this.y0;var b,c;if(this.sphere)b=M(this.long0+a.x/this.a/Math.cos(this.lat_ts)),c=Math.asin(a.y/this.a*Math.cos(this.lat_ts));else{a:{b=this.e;c=2*a.y*this.k0/this.a;var d=1-(1-b*b)/(2*b)*Math.log((1-b)/(1+b));if(1E-6>Math.abs(Math.abs(c)-d))c=0>c?-1*E:E;else{for(var d=Math.asin(.5*c),e,f,g,h=0;30>h;h++)if(e=Math.sin(d),f=Math.cos(d),g=b*e,e=Math.pow(1-g*g,2)/(2*f)*(c/(1-b*b)-e/(1-g*g)+.5/b*Math.log((1-g)/(1+g))),d+=e,1E-10>=Math.abs(e)){c=d;break a}c=NaN}}b=M(this.long0+a.x/(this.a*
this.k0))}a.x=b;a.y=c;return a},names:["cea"]},Ua={init:function(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)},forward:function(a){var b=a.y,c=M(a.x-this.long0),b=za(b-this.lat0);a.x=this.x0+this.a*c*this.rc;a.y=this.y0+this.a*b;return a},inverse:function(a){var b=a.y;a.x=M(this.long0+(a.x-this.x0)/(this.a*this.rc));a.y=za(this.lat0+(b-
this.y0)/this.a);return a},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},pa={init:function(){this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=Q(this.es);this.e1=Ja(this.es);this.e2=ta(this.es);this.e3=la(this.es);this.ml0=this.a*aa(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(a){var b=a.y,c,d;c=M(a.x-this.long0);d=c*Math.sin(b);if(this.sphere)1E-10>=Math.abs(b)?(c*=this.a,b=-1*this.a*this.lat0):(c=this.a*Math.sin(d)/Math.tan(b),
b=this.a*(za(b-this.lat0)+(1-Math.cos(d))/Math.tan(b)));else if(1E-10>=Math.abs(b))c*=this.a,b=-1*this.ml0;else{var e=ya(this.a,this.e,Math.sin(b))/Math.tan(b);c=e*Math.sin(d);b=this.a*aa(this.e0,this.e1,this.e2,this.e3,b)-this.ml0+e*(1-Math.cos(d))}a.x=c+this.x0;a.y=b+this.y0;return a},inverse:function(a){var b,c,d,e,f,g,h;b=a.x-this.x0;d=a.y-this.y0;if(this.sphere)if(1E-10>=Math.abs(d+this.a*this.lat0))b=M(b/this.a+this.long0),c=0;else{e=this.lat0+d/this.a;f=b*b/this.a/this.a+e*e;g=e;for(d=20;d;--d)if(h=
Math.tan(g),h=-1*(e*(g*h+1)-g-.5*(g*g+f)*h)/((g-e)/h-1),g+=h,1E-10>=Math.abs(h)){c=g;break}b=M(this.long0+Math.asin(b*Math.tan(g)/this.a)/Math.sin(c))}else if(1E-10>=Math.abs(d+this.ml0))c=0,b=M(this.long0+b/this.a);else{e=(this.ml0+d)/this.a;f=b*b/this.a/this.a+e*e;g=e;var k,l;for(d=20;d;--d)if(h=this.e*Math.sin(g),h=Math.sqrt(1-h*h)*Math.tan(g),k=this.a*aa(this.e0,this.e1,this.e2,this.e3,g),l=this.e0-2*this.e1*Math.cos(2*g)+4*this.e2*Math.cos(4*g)-6*this.e3*Math.cos(6*g),k/=this.a,h=(e*(h*k+1)-
k-.5*h*(k*k+f))/(this.es*Math.sin(2*g)*(k*k+f-2*e*k)/(4*h)+(e-k)*(h*l-2/Math.sin(2*g))-l),g-=h,1E-10>=Math.abs(h)){c=g;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(c),2))*Math.tan(c);b=M(this.long0+Math.asin(b*h/this.a)/Math.sin(c))}a.x=b;a.y=c;return a},names:["Polyconic","poly"]},Va={init:function(){this.A=[];this.A[1]=.6399175073;this.A[2]=-.1358797613;this.A[3]=.063294409;this.A[4]=-.02526853;this.A[5]=.0117879;this.A[6]=-.0055161;this.A[7]=.0026906;this.A[8]=-.001333;this.A[9]=6.7E-4;this.A[10]=
-3.4E-4;this.B_re=[];this.B_im=[];this.B_re[1]=.7557853228;this.B_im[1]=0;this.B_re[2]=.249204646;this.B_im[2]=.003371507;this.B_re[3]=-.001541739;this.B_im[3]=.04105856;this.B_re[4]=-.10162907;this.B_im[4]=.01727609;this.B_re[5]=-.26623489;this.B_im[5]=-.36249218;this.B_re[6]=-.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-.577245789;this.C_im[2]=-.007809598;this.C_re[3]=.508307513;this.C_im[3]=-.112208952;this.C_re[4]=-.15094762;
this.C_im[4]=.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=.5185406398;this.D[3]=-.03333098;this.D[4]=-.1052906;this.D[5]=-.0368594;this.D[6]=.007317;this.D[7]=.0122;this.D[8]=.00394;this.D[9]=-.0013},forward:function(a){var b,c=(a.y-this.lat0)/4.84813681109536E-6*1E-5,d=a.x-this.long0,e=1,f=0;for(b=1;10>=b;b++)e*=c,f+=this.A[b]*e;var c=f,e=1,g=0,h=0,k=0;for(b=1;6>=b;b++)f=e*c-g*d,g=g*c+e*d,e=f,h=
h+this.B_re[b]*e-this.B_im[b]*g,k=k+this.B_im[b]*e+this.B_re[b]*g;a.x=k*this.a+this.x0;a.y=h*this.a+this.y0;return a},inverse:function(a){var b,c=(a.y-this.y0)/this.a,d=(a.x-this.x0)/this.a,e=1,f=0,g,h=0,k=0;for(b=1;6>=b;b++)g=e*c-f*d,f=f*c+e*d,e=g,h=h+this.C_re[b]*e-this.C_im[b]*f,k=k+this.C_im[b]*e+this.C_re[b]*f;for(e=0;e<this.iterations;e++){var l=h,m=k,n;g=c;f=d;for(b=2;6>=b;b++)n=l*h-m*k,m=m*h+l*k,l=n,g+=(b-1)*(this.B_re[b]*l-this.B_im[b]*m),f+=(b-1)*(this.B_im[b]*l+this.B_re[b]*m);var l=1,
m=0,q=this.B_re[1],s=this.B_im[1];for(b=2;6>=b;b++)n=l*h-m*k,m=m*h+l*k,l=n,q+=b*(this.B_re[b]*l-this.B_im[b]*m),s+=b*(this.B_im[b]*l+this.B_re[b]*m);k=q*q+s*s;h=(g*q+f*s)/k;k=(f*q-g*s)/k}c=h;d=1;h=0;for(b=1;9>=b;b++)d*=c,h+=this.D[b]*d;b=this.lat0+.484813681109536*h;a.x=this.long0+k;a.y=b;return a},names:["New_Zealand_Map_Grid","nzmg"]},Ba={init:function(){},forward:function(a){var b=a.y,c=M(a.x-this.long0),c=this.x0+this.a*c,b=this.y0+this.a*Math.log(Math.tan(Math.PI/4+b/2.5))*1.25;a.x=c;a.y=b;return a},
inverse:function(a){a.x-=this.x0;a.y-=this.y0;var b=M(this.long0+a.x/this.a),c=2.5*(Math.atan(Math.exp(.8*a.y/this.a))-Math.PI/4);a.x=b;a.y=c;return a},names:["Miller_Cylindrical","mill"]},Wa={init:function(){this.sphere?(this.n=1,this.es=this.m=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=wa(this.es)},forward:function(a){var b,c;b=a.x;c=a.y;b=M(b-this.long0);if(this.sphere){if(this.m)for(var d=this.n*Math.sin(c),e=20;e;--e){var f=(this.m*c+Math.sin(c)-d)/(this.m+
Math.cos(c));c-=f;if(1E-10>Math.abs(f))break}else c=1!==this.n?Math.asin(this.n*Math.sin(c)):c;b=this.a*this.C_x*b*(this.m+Math.cos(c));c*=this.a*this.C_y}else d=Math.sin(c),e=Math.cos(c),c=this.a*na(c,d,e,this.en),b=this.a*b*e/Math.sqrt(1-this.es*d*d);a.x=b;a.y=c;return a},inverse:function(a){var b,c,d;a.x-=this.x0;c=a.x/this.a;a.y-=this.y0;b=a.y/this.a;this.sphere?(b/=this.C_y,c/=this.C_x*(this.m+Math.cos(b)),this.m?b=ma((this.m*b+Math.sin(b))/this.n):1!==this.n&&(b=ma(Math.sin(b)/this.n)),c=M(c+
this.long0),b=za(b)):(b=ra(a.y/this.a,this.es,this.en),d=Math.abs(b),d<E?(d=Math.sin(b),c=this.long0+a.x*Math.sqrt(1-this.es*d*d)/(this.a*Math.cos(b)),c=M(c)):d-1E-10<E&&(c=this.long0));a.x=c;a.y=b;return a},names:["Sinusoidal","sinu"]},Xa={init:function(){},forward:function(a){for(var b=a.y,c=M(a.x-this.long0),d=b,e=Math.PI*Math.sin(b);;){var f=-(d+Math.sin(d)-e)/(1+Math.cos(d)),d=d+f;if(1E-10>Math.abs(f))break}d/=2;1E-10>Math.PI/2-Math.abs(b)&&(c=0);b=.900316316158*this.a*c*Math.cos(d)+this.x0;
d=1.4142135623731*this.a*Math.sin(d)+this.y0;a.x=b;a.y=d;return a},inverse:function(a){var b;a.x-=this.x0;a.y-=this.y0;b=a.y/(1.4142135623731*this.a);.999999999999<Math.abs(b)&&(b=.999999999999);b=Math.asin(b);var c=M(this.long0+a.x/(.900316316158*this.a*Math.cos(b)));c<-Math.PI&&(c=-Math.PI);c>Math.PI&&(c=Math.PI);b=(2*b+Math.sin(2*b))/Math.PI;1<Math.abs(b)&&(b=1);b=Math.asin(b);a.x=c;a.y=b;return a},names:["Mollweide","moll"]},Ya={init:function(){1E-10>Math.abs(this.lat1+this.lat2)||(this.lat2=
this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Q(this.es),this.e1=Ja(this.es),this.e2=ta(this.es),this.e3=la(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ja(this.e,this.sinphi,this.cosphi),this.ml1=aa(this.e0,this.e1,this.e2,this.e3,this.lat1),1E-10>Math.abs(this.lat1-this.lat2)?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ja(this.e,this.sinphi,this.cosphi),
this.ml2=aa(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=aa(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(a){var b=a.x,c=a.y;this.sphere||(c=aa(this.e0,this.e1,this.e2,this.e3,c));var c=this.a*(this.g-c),d=this.ns*M(b-this.long0),b=this.x0+c*Math.sin(d),c=this.y0+this.rh-c*Math.cos(d);a.x=b;a.y=c;return a},inverse:function(a){a.x-=this.x0;a.y=this.rh-a.y+this.y0;
var b,c,d;0<=this.ns?(c=Math.sqrt(a.x*a.x+a.y*a.y),b=1):(c=-Math.sqrt(a.x*a.x+a.y*a.y),b=-1);d=0;0!==c&&(d=Math.atan2(b*a.x,b*a.y));this.sphere?(d=M(this.long0+d/this.ns),c=za(this.g-c/this.a)):(c=oa(this.g-c/this.a,this.e0,this.e1,this.e2,this.e3),d=M(this.long0+d/this.ns));a.x=d;a.y=c;return a},names:["Equidistant_Conic","eqdc"]},Fa={init:function(){this.R=this.a},forward:function(a){var b=a.y,c=M(a.x-this.long0);Math.abs(b);var d=ma(2*Math.abs(b/Math.PI));(1E-10>=Math.abs(c)||1E-10>=Math.abs(Math.abs(b)-
E))&&Math.tan(.5*d);var e=.5*Math.abs(Math.PI/c-c/Math.PI),f=e*e,g=Math.sin(d),d=Math.cos(d),d=d/(g+d-1),g=d*(2/g-1),h=g*g,k=Math.PI*this.R*(e*(d-h)+Math.sqrt(f*(d-h)*(d-h)-(h+f)*(d*d-h)))/(h+f);0>c&&(k=-k);c=this.x0+k;d=f+d;k=Math.PI*this.R*(g*d-e*Math.sqrt((h+f)*(f+1)-d*d))/(h+f);b=0<=b?this.y0+k:this.y0-k;a.x=c;a.y=b;return a},inverse:function(a){var b,c,d,e,f,g,h,k;a.x-=this.x0;a.y-=this.y0;k=Math.PI*this.R;b=a.x/k;d=a.y/k;e=b*b+d*d;f=-Math.abs(d)*(1+e);c=f-2*d*d+b*b;g=-2*f+1+2*d*d+e*e;k=d*d/
g+(2*c*c*c/g/g/g-9*f*c/g/g)/27;h=(f-c*c/3/g)/g;f=2*Math.sqrt(-h/3);k=3*k/h/f;1<Math.abs(k)&&(k=0<=k?1:-1);k=Math.acos(k)/3;c=0<=a.y?(-f*Math.cos(k+Math.PI/3)-c/3/g)*Math.PI:-(-f*Math.cos(k+Math.PI/3)-c/3/g)*Math.PI;b=1E-10>Math.abs(b)?this.long0:M(this.long0+Math.PI*(e-1+Math.sqrt(1+2*(b*b-d*d)+e*e))/2/b);a.x=b;a.y=c;return a},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]},cb={init:function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)},forward:function(a){var b=a.x,c=
a.y,d=Math.sin(a.y),e=Math.cos(a.y),b=M(b-this.long0),f,g,h,k,l;this.sphere?1E-10>=Math.abs(this.sin_p12-1)?(a.x=this.x0+this.a*(E-c)*Math.sin(b),a.y=this.y0-this.a*(E-c)*Math.cos(b)):1E-10>=Math.abs(this.sin_p12+1)?(a.x=this.x0+this.a*(E+c)*Math.sin(b),a.y=this.y0+this.a*(E+c)*Math.cos(b)):(c=this.sin_p12*d+this.cos_p12*e*Math.cos(b),c=Math.acos(c),c/=Math.sin(c),a.x=this.x0+this.a*c*e*Math.sin(b),a.y=this.y0+this.a*c*(this.cos_p12*d-this.sin_p12*e*Math.cos(b))):(f=Q(this.es),g=Ja(this.es),h=ta(this.es),
k=la(this.es),1E-10>=Math.abs(this.sin_p12-1)?(e=this.a*aa(f,g,h,k,E),c=this.a*aa(f,g,h,k,c),a.x=this.x0+(e-c)*Math.sin(b),a.y=this.y0-(e-c)*Math.cos(b)):1E-10>=Math.abs(this.sin_p12+1)?(e=this.a*aa(f,g,h,k,E),c=this.a*aa(f,g,h,k,c),a.x=this.x0+(e+c)*Math.sin(b),a.y=this.y0+(e+c)*Math.cos(b)):(f=d/e,c=ya(this.a,this.e,this.sin_p12),d=ya(this.a,this.e,d),d=Math.atan((1-this.es)*f+this.es*c*this.sin_p12/(d*e)),e=Math.atan2(Math.sin(b),this.cos_p12*Math.tan(d)-this.sin_p12*Math.cos(b)),f=0===e?Math.asin(this.cos_p12*
Math.sin(d)-this.sin_p12*Math.cos(d)):1E-10>=Math.abs(Math.abs(e)-Math.PI)?-Math.asin(this.cos_p12*Math.sin(d)-this.sin_p12*Math.cos(d)):Math.asin(Math.sin(b)*Math.cos(d)/Math.sin(e)),b=this.e*this.sin_p12/Math.sqrt(1-this.es),g=this.e*this.cos_p12*Math.cos(e)/Math.sqrt(1-this.es),d=b*g,g*=g,h=f*f,k=h*f,l=k*f,c=c*f*(1-h*g*(1-g)/6+k/8*d*(1-2*g)+l/120*(g*(4-7*g)-3*b*b*(1-7*g))-l*f/48*d),a.x=this.x0+c*Math.sin(e),a.y=this.y0+c*Math.cos(e)));return a},inverse:function(a){a.x-=this.x0;a.y-=this.y0;var b,
c,d,e,f,g;if(this.sphere){if(b=Math.sqrt(a.x*a.x+a.y*a.y),!(b>2*E*this.a))return c=b/this.a,d=Math.sin(c),e=Math.cos(c),c=this.long0,1E-10>=Math.abs(b)?f=this.lat0:(f=ma(e*this.sin_p12+a.y*d*this.cos_p12/b),c=Math.abs(this.lat0)-E,c=1E-10>=Math.abs(c)?0<=this.lat0?M(this.long0+Math.atan2(a.x,-a.y)):M(this.long0-Math.atan2(-a.x,a.y)):M(this.long0+Math.atan2(a.x*d,b*this.cos_p12*e-a.y*this.sin_p12*d))),a.x=c,a.y=f,a}else return d=Q(this.es),c=Ja(this.es),e=ta(this.es),f=la(this.es),1E-10>=Math.abs(this.sin_p12-
1)?(g=this.a*aa(d,c,e,f,E),b=Math.sqrt(a.x*a.x+a.y*a.y),f=oa((g-b)/this.a,d,c,e,f),c=M(this.long0+Math.atan2(a.x,-1*a.y))):1E-10>=Math.abs(this.sin_p12+1)?(g=this.a*aa(d,c,e,f,E),b=Math.sqrt(a.x*a.x+a.y*a.y),f=oa((b-g)/this.a,d,c,e,f),c=M(this.long0+Math.atan2(a.x,a.y))):(b=Math.sqrt(a.x*a.x+a.y*a.y),d=Math.atan2(a.x,a.y),f=ya(this.a,this.e,this.sin_p12),c=Math.cos(d),e=this.e*this.cos_p12*c,e=-e*e/(1-this.es),g=3*this.es*(1-e)*this.sin_p12*this.cos_p12*c/(1-this.es),f=b/f,b=f-e*(1+e)*Math.pow(f,
3)/6-g*(1+3*e)*Math.pow(f,4)/24,e=1-e*b*b/2-f*b*b*b/6,f=Math.asin(this.sin_p12*Math.cos(b)+this.cos_p12*Math.sin(b)*c),c=M(this.long0+Math.asin(Math.sin(d)*Math.sin(b)/Math.cos(f))),f=Math.atan((1-this.es*e*this.sin_p12/Math.sin(f))*Math.tan(f)/(1-this.es))),a.x=c,a.y=f,a},names:["Azimuthal_Equidistant","aeqd"]},db={init:function(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0)},forward:function(a){var b,c,d,e,f,g,h;c=a.y;d=M(a.x-this.long0);b=Math.sin(c);c=Math.cos(c);e=Math.cos(d);
f=this.sin_p14*b+this.cos_p14*c*e;if(0<f||1E-10>=Math.abs(f))g=1*this.a*c*Math.sin(d),h=this.y0+1*this.a*(this.cos_p14*b-this.sin_p14*c*e);a.x=g;a.y=h;return a},inverse:function(a){var b,c,d,e,f;a.x-=this.x0;a.y-=this.y0;b=Math.sqrt(a.x*a.x+a.y*a.y);c=ma(b/this.a);d=Math.sin(c);c=Math.cos(c);e=this.long0;if(1E-10>=Math.abs(b))return f=this.lat0,a.x=e,a.y=f,a;f=ma(c*this.sin_p14+a.y*d*this.cos_p14/b);e=Math.abs(this.lat0)-E;if(1E-10>=Math.abs(e))return e=0<=this.lat0?M(this.long0+Math.atan2(a.x,-a.y)):
M(this.long0-Math.atan2(-a.x,a.y)),a.x=e,a.y=f,a;e=M(this.long0+Math.atan2(a.x*d,b*this.cos_p14*c-a.y*this.sin_p14*d));a.x=e;a.y=f;return a},names:["ortho"]},T={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},eb={init:function(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Quadrilateralized Spherical Cube";this.lat0>=E-J/2?this.face=5:this.lat0<=-(E-J/2)?this.face=6:Math.abs(this.long0)<=J?this.face=1:Math.abs(this.long0)<=
E+J?this.face=0<this.long0?2:4:this.face=3;0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(a){var b=0,c=0,d,e,b={value:0};a.x-=this.long0;d=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(a.y)):a.y;e=a.x;if(5===this.face)d=E-d,e>=J&&e<=E+J?(b.value=T.AREA_0,e-=E):e>E+J||e<=-(E+J)?(b.value=T.AREA_1,e=0<e?e-3.14159265359:e+3.14159265359):e>-(E+J)&&e<=-J?(b.value=T.AREA_2,e+=E):b.value=T.AREA_3;else if(6===
this.face)d=E+d,e>=J&&e<=E+J?(b.value=T.AREA_0,e=-e+E):e<J&&e>=-J?(b.value=T.AREA_1,e=-e):e<-J&&e>=-(E+J)?(b.value=T.AREA_2,e=-e-E):(b.value=T.AREA_3,e=0<e?-e+3.14159265359:-e-3.14159265359);else{var f;2===this.face?e=I(e,+E):3===this.face?e=I(e,3.14159265359):4===this.face&&(e=I(e,-E));c=Math.sin(d);d=Math.cos(d);f=Math.sin(e);e=Math.cos(e);e*=d;f*=d;1===this.face?(d=Math.acos(e),e=r(d,c,f,b)):2===this.face?(d=Math.acos(f),e=r(d,c,-e,b)):3===this.face?(d=Math.acos(-e),e=r(d,c,-f,b)):4===this.face?
(d=Math.acos(-f),e=r(d,c,e,b)):(d=e=0,b.value=T.AREA_0)}c=Math.atan(3.8197186342052367*(e+Math.acos(Math.sin(e)*Math.cos(J))-E));d=Math.sqrt((1-Math.cos(d))/(Math.cos(c)*Math.cos(c))/(1-Math.cos(Math.atan(1/Math.cos(e)))));b.value===T.AREA_1?c+=E:b.value===T.AREA_2?c+=3.14159265359:b.value===T.AREA_3&&(c+=1.5*3.14159265359);b=d*Math.cos(c);c=d*Math.sin(c);b=b*this.a+this.x0;c=c*this.a+this.y0;a.x=b;a.y=c;return a},inverse:function(a){var b=0,c=0,d,e,f,b=0;a.x=(a.x-this.x0)/this.a;a.y=(a.y-this.y0)/
this.a;e=Math.atan(Math.sqrt(a.x*a.x+a.y*a.y));d=Math.atan2(a.y,a.x);0<=a.x&&a.x>=Math.abs(a.y)?b=T.AREA_0:0<=a.y&&a.y>=Math.abs(a.x)?(b=T.AREA_1,d-=E):0>a.x&&-a.x>=Math.abs(a.y)?(b=T.AREA_2,d=0>d?d+3.14159265359:d-3.14159265359):(b=T.AREA_3,d+=E);c=3.14159265359/12*Math.tan(d);f=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2));f=Math.atan(f);c=Math.cos(d);e=Math.tan(e);c=1-c*c*e*e*(1-Math.cos(Math.atan(1/Math.cos(f))));-1>c?c=-1:1<c&&(c=1);5===this.face?(c=Math.acos(c),c=E-c,b=b===T.AREA_0?f+E:b===T.AREA_1?
0>f?f+3.14159265359:f-3.14159265359:b===T.AREA_2?f-E:f):6===this.face?(c=Math.acos(c),c-=E,b=b===T.AREA_0?-f+E:b===T.AREA_1?-f:b===T.AREA_2?-f-E:0>f?-f-3.14159265359:-f+3.14159265359):(e=c,c=e*e,d=1<=c?0:Math.sqrt(1-c)*Math.sin(f),c+=d*d,f=1<=c?0:Math.sqrt(1-c),b===T.AREA_1?(c=f,f=-d,d=c):b===T.AREA_2?(f=-f,d=-d):b===T.AREA_3&&(c=f,f=d,d=-c),2===this.face?(c=e,e=-f,f=c):3===this.face?(e=-e,f=-f):4===this.face&&(c=e,e=f,f=-c),c=Math.acos(-d)-E,b=Math.atan2(f,e),2===this.face?b=I(b,-E):3===this.face?
b=I(b,-3.14159265359):4===this.face&&(b=I(b,+E)));0!==this.es&&(f=0>c?1:0,c=Math.tan(c),c=this.b/Math.sqrt(c*c+this.one_minus_f_squared),c=Math.atan(Math.sqrt(this.a*this.a-c*c)/(this.one_minus_f*c)),f&&(c=-c));b+=this.long0;a.x=b;a.y=c;return a},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]};C.defaultDatum="WGS84";C.Proj=x;C.WGS84=new C.Proj("WGS84");C.Point=P;C.toPoint=qa;C.defs=e;C.transform=m;C.mgrs=Oa;C.version="2.4.4";(function(a){a.Proj.projections.add(ab);
a.Proj.projections.add(Ia);a.Proj.projections.add(Pa);a.Proj.projections.add(sa);a.Proj.projections.add(mb);a.Proj.projections.add(nb);a.Proj.projections.add(bb);a.Proj.projections.add(ob);a.Proj.projections.add(pb);a.Proj.projections.add(Ra);a.Proj.projections.add(Sa);a.Proj.projections.add(Ta);a.Proj.projections.add(qb);a.Proj.projections.add(Aa);a.Proj.projections.add(Ua);a.Proj.projections.add(pa);a.Proj.projections.add(Va);a.Proj.projections.add(Ba);a.Proj.projections.add(Wa);a.Proj.projections.add(Xa);
a.Proj.projections.add(Ya);a.Proj.projections.add(Fa);a.Proj.projections.add(cb);a.Proj.projections.add(db);a.Proj.projections.add(eb)})(C);return C})},{}],55:[function(h,n,d){function c(a){return a.toString(this.encoding)}function k(a){this.charLength=(this.charReceived=a.length%2)?2:0}function l(a){this.charLength=(this.charReceived=a.length%3)?3:0}var f=h("buffer").Buffer,b=f.isEncoding||function(a){switch(a&&a.toLowerCase()){case "hex":case "utf8":case "utf-8":case "ascii":case "binary":case "base64":case "ucs2":case "ucs-2":case "utf16le":case "utf-16le":case "raw":return!0;
default:return!1}};h=d.StringDecoder=function(a){this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,"");if(a&&!b(a))throw Error("Unknown encoding: "+a);switch(this.encoding){case "utf8":this.surrogateSize=3;break;case "ucs2":case "utf16le":this.surrogateSize=2;this.detectIncompleteChar=k;break;case "base64":this.surrogateSize=3;this.detectIncompleteChar=l;break;default:this.write=c;return}this.charBuffer=new f(6);this.charLength=this.charReceived=0};h.prototype.write=function(a){for(var b="";this.charLength;){b=
a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;a.copy(this.charBuffer,this.charReceived,0,b);this.charReceived+=b;if(this.charReceived<this.charLength)return"";a=a.slice(b,a.length);var b=this.charBuffer.slice(0,this.charLength).toString(this.encoding),c=b.charCodeAt(b.length-1);if(55296<=c&&56319>=c)this.charLength+=this.surrogateSize,b="";else{this.charReceived=this.charLength=0;if(0===a.length)return b;break}}this.detectIncompleteChar(a);var d=a.length;this.charLength&&
(a.copy(this.charBuffer,0,a.length-this.charReceived,d),d-=this.charReceived);b+=a.toString(this.encoding,0,d);d=b.length-1;c=b.charCodeAt(d);return 55296<=c&&56319>=c?(c=this.surrogateSize,this.charLength+=c,this.charReceived+=c,this.charBuffer.copy(this.charBuffer,c,0,c),a.copy(this.charBuffer,0,0,c),b.substring(0,d)):b};h.prototype.detectIncompleteChar=function(a){for(var b=3<=a.length?3:a.length;0<b;b--){var c=a[a.length-b];if(1==b&&6==c>>5){this.charLength=2;break}if(2>=b&&14==c>>4){this.charLength=
3;break}if(3>=b&&30==c>>3){this.charLength=4;break}}this.charReceived=b};h.prototype.end=function(a){var b="";a&&a.length&&(b=this.write(a));this.charReceived&&(a=this.encoding,b+=this.charBuffer.slice(0,this.charReceived).toString(a));return b}},{buffer:6}],56:[function(h,n,d){n.exports=h("./lib/encoding.js")},{"./lib/encoding.js":57}],57:[function(h,n,d){(function(c){function d(a,b,c){return b<=a&&a<=c}function l(a){if(void 0===a)return{};if(a===Object(a))return a;throw TypeError("Could not convert argument to dictionary");
}function f(a){return 0<=a&&127>=a}function b(a){this.tokens=[].slice.call(a);this.tokens.reverse()}function a(a,b){if(a)throw TypeError("Decoder error");return b||65533}function e(a){throw TypeError("The code point "+a+" could not be encoded.");}function A(a){a=String(a).trim().toLowerCase();return Object.prototype.hasOwnProperty.call(ia,a)?ia[a]:null}function t(a,b){return b?b[a]||null:null}function w(a,b){var c=b.indexOf(a);return-1===c?null:c}function s(a){if(!("encoding-indexes"in c))throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");
return c["encoding-indexes"][a]}function D(a){$=$||s("jis0208").map(function(a,b){return d(b,8272,8835)?null:a});return $.indexOf(a)}function y(a){var b=Y=Y||s("big5").map(function(a,b){return 5024>b?null:a});return 9552===a||9566===a||9569===a||9578===a||21313===a||21317===a?b.lastIndexOf(a):w(a,b)}function F(a,b){if(!(this instanceof F))throw TypeError("Called as a function. Did you forget 'new'?");a=void 0!==a?String(a):"utf-8";b=l(b);this._decoder=this._encoding=null;this._BOMseen=this._ignoreBOM=
!1;this._error_mode="replacement";this._do_not_flush=!1;var c=A(a);if(null===c||"replacement"===c.name)throw RangeError("Unknown encoding: "+a);if(!S[c.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=c;Boolean(b.fatal)&&(this._error_mode="fatal");Boolean(b.ignoreBOM)&&(this._ignoreBOM=!0);Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase(),this.fatal="fatal"===this._error_mode,this.ignoreBOM=this._ignoreBOM);return this}
function x(a,b){if(!(this instanceof x))throw TypeError("Called as a function. Did you forget 'new'?");b=l(b);this._encoder=this._encoding=null;this._do_not_flush=!1;this._fatal=Boolean(b.fatal)?"fatal":"replacement";if(Boolean(b.NONSTANDARD_allowLegacyEncoding)){a=void 0!==a?String(a):"utf-8";var d=A(a);if(null===d||"replacement"===d.name)throw RangeError("Unknown encoding: "+a);if(!U[d.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=
d}else this._encoding=A("utf-8"),void 0!==a&&"console"in c&&console.warn("TextEncoder constructor called with encoding label, which is ignored.");Object.defineProperty||(this.encoding=this._encoding.name.toLowerCase());return this}function G(b){var c=b.fatal,e=0,f=0,g=0,h=128,l=191;this.handler=function(b,m){if(-1===m&&0!==g)return g=0,a(c);if(-1===m)return-1;if(0===g){if(d(m,0,127))return m;if(d(m,194,223))g=1,e=m&31;else if(d(m,224,239))224===m&&(h=160),237===m&&(l=159),g=2,e=m&15;else if(d(m,240,
244))240===m&&(h=144),244===m&&(l=143),g=3,e=m&7;else return a(c);return null}if(!d(m,h,l))return e=g=f=0,h=128,l=191,b.prepend(m),a(c);h=128;l=191;e=e<<6|m&63;f+=1;if(f!==g)return null;var n=e;e=g=f=0;return n}}function O(a){this.handler=function(a,b){if(-1===b)return-1;if(Z(b))return b;var c,e;d(b,128,2047)?(c=1,e=192):d(b,2048,65535)?(c=2,e=224):d(b,65536,1114111)&&(c=3,e=240);for(e=[(b>>6*c)+e];0<c;)e.push(128|b>>6*(c-1)&63),c-=1;return e}}function m(b,c){var d=c.fatal;this.handler=function(c,
e){if(-1===e)return-1;if(f(e))return e;var g=b[e-128];return null===g?a(d):g}}function u(a,b){this.handler=function(b,c){if(-1===c)return-1;if(Z(c))return c;var d=w(c,a);null===d&&e(c);return d+128}}function v(b){var c=b.fatal,e=0,g=0,h=0;this.handler=function(b,l){if(-1===l&&0===e&&0===g&&0===h)return-1;-1!==l||0===e&&0===g&&0===h||(h=g=e=0,a(c));var m;if(0!==h){m=null;if(d(l,48,57))if(m=10*(126*(10*(e-129)+g-48)+h-129)+l-48,39419<m&&189E3>m||1237575<m)m=null;else if(7457===m)m=59335;else{var n=
0,q=0,r=s("gb18030-ranges"),p;for(p=0;p<r.length;++p){var y=r[p];if(y[0]<=m)n=y[0],q=y[1];else break}m=q+m-n}n=[g,h,l];h=g=e=0;return null===m?(b.prepend(n),a(c)):m}if(0!==g){if(d(l,129,254))return h=l,null;b.prepend([g,l]);g=e=0;return a(c)}if(0!==e){if(d(l,48,57))return g=l,null;m=e;n=null;e=0;q=127>l?64:65;if(d(l,64,126)||d(l,128,254))n=190*(m-129)+(l-q);m=null===n?null:t(n,s("gb18030"));null===m&&f(l)&&b.prepend(l);return null===m?a(c):m}return f(l)?l:128===l?8364:d(l,129,254)?(e=l,null):a(c)}}
function C(a,b){this.handler=function(a,c){if(-1===c)return-1;if(Z(c))return c;if(58853===c)return e(c);if(b&&8364===c)return 128;var d=w(c,s("gb18030"));if(null!==d){var f=ba(d/190)+129,d=d%190;return[f,d+(63>d?64:65)]}if(b)return e(c);if(59335===c)d=7457;else{var f=d=0,g=s("gb18030-ranges"),h;for(h=0;h<g.length;++h){var k=g[h];if(k[1]<=c)d=k[1],f=k[0];else break}d=f+c-d}f=ba(d/10/126/10);d-=12600*f;g=ba(d/10/126);d-=1260*g;h=ba(d/10);return[f+129,g+48,h+129,d-10*h+48]}}function H(b){var c=b.fatal,
e=0;this.handler=function(b,g){if(-1===g&&0!==e)return e=0,a(c);if(-1===g&&0===e)return-1;if(0!==e){var h=e,l=null;e=0;var m=127>g?64:98;if(d(g,64,126)||d(g,161,254))l=157*(h-129)+(g-m);switch(l){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}h=null===l?null:t(l,s("big5"));null===h&&f(g)&&b.prepend(g);return null===h?a(c):h}return f(g)?g:d(g,129,254)?(e=g,null):a(c)}}function L(a){this.handler=function(a,b){if(-1===b)return-1;if(Z(b))return b;
var c=y(b);if(null===c)return e(b);var d=ba(c/157)+129;if(161>d)return e(b);c%=157;return[d,c+(63>c?64:98)]}}function g(b){var c=b.fatal,e=!1,g=0;this.handler=function(b,h){if(-1===h&&0!==g)return g=0,a(c);if(-1===h&&0===g)return-1;if(142===g&&d(h,161,223))return g=0,65216+h;if(143===g&&d(h,161,254))return e=!0,g=h,null;if(0!==g){var l=g;g=0;var m=null;d(l,161,254)&&d(h,161,254)&&(m=t(94*(l-161)+(h-161),s(e?"jis0212":"jis0208")));e=!1;d(h,161,254)||b.prepend(h);return null===m?a(c):m}return f(h)?
h:142===h||143===h||d(h,161,254)?(g=h,null):a(c)}}function q(a){this.handler=function(a,b){if(-1===b)return-1;if(Z(b))return b;if(165===b)return 92;if(8254===b)return 126;if(d(b,65377,65439))return[142,b-65377+161];8722===b&&(b=65293);var c=w(b,s("jis0208"));return null===c?e(b):[ba(c/94)+161,c%94+161]}}function p(b){var c=b.fatal,e=0,f=0,g=!1;this.handler=function(b,h){switch(e){default:case 0:if(27===h)return e=5,null;if(d(h,0,127)&&14!==h&&15!==h&&27!==h)return g=!1,h;if(-1===h)return-1;g=!1;return a(c);
case 1:if(27===h)return e=5,null;if(92===h)return g=!1,165;if(126===h)return g=!1,8254;if(d(h,0,127)&&14!==h&&15!==h&&27!==h&&92!==h&&126!==h)return g=!1,h;if(-1===h)return-1;g=!1;return a(c);case 2:if(27===h)return e=5,null;if(d(h,33,95))return g=!1,65344+h;if(-1===h)return-1;g=!1;return a(c);case 3:if(27===h)return e=5,null;if(d(h,33,126))return g=!1,f=h,e=4,null;if(-1===h)return-1;g=!1;return a(c);case 4:if(27===h)return e=5,a(c);if(d(h,33,126)){e=3;var l=t(94*(f-33)+h-33,s("jis0208"));return null===
l?a(c):l}if(-1===h)return e=3,b.prepend(h),a(c);e=3;return a(c);case 5:if(36===h||40===h)return f=h,e=6,null;b.prepend(h);g=!1;e=0;return a(c);case 6:l=f;f=0;var m=null;40===l&&66===h&&(m=0);40===l&&74===h&&(m=1);40===l&&73===h&&(m=2);36!==l||64!==h&&66!==h||(m=3);if(null!==m)return e=e=m,l=g,g=!0,l?a(c):null;b.prepend([l,h]);g=!1;e=0;return a(c)}}}function N(a){var b=0;this.handler=function(a,c){if(-1===c&&0!==b)return a.prepend(c),b=0,[27,40,66];if(-1===c&&0===b)return-1;if(!(0!==b&&1!==b||14!==
c&&15!==c&&27!==c))return e(65533);if(0===b&&Z(c))return c;if(1===b&&(Z(c)&&92!==c&&126!==c||165==c||8254==c)){if(Z(c))return c;if(165===c)return 92;if(8254===c)return 126}if(Z(c)&&0!==b)return a.prepend(c),b=0,[27,40,66];if((165===c||8254===c)&&1!==b)return a.prepend(c),b=1,[27,40,74];8722===c&&(c=65293);var d=w(c,s("jis0208"));return null===d?e(c):2!==b?(a.prepend(c),b=2,[27,36,66]):[ba(d/94)+33,d%94+33]}}function P(b){var c=b.fatal,e=0;this.handler=function(b,g){if(-1===g&&0!==e)return e=0,a(c);
if(-1===g&&0===e)return-1;if(0!==e){var h=e,l=null;e=0;var m=127>g?64:65,n=160>h?129:193;if(d(g,64,126)||d(g,128,252))l=188*(h-n)+g-m;if(d(l,8836,10715))return 48508+l;h=null===l?null:t(l,s("jis0208"));null===h&&f(g)&&b.prepend(g);return null===h?a(c):h}return f(g)||128===g?g:d(g,161,223)?65216+g:d(g,129,159)||d(g,224,252)?(e=g,null):a(c)}}function r(a){this.handler=function(a,b){if(-1===b)return-1;if(Z(b)||128===b)return b;if(165===b)return 92;if(8254===b)return 126;if(d(b,65377,65439))return b-
65377+161;8722===b&&(b=65293);var c=D(b);if(null===c)return e(b);var f=ba(c/188),c=c%188;return[f+(31>f?129:193),c+(63>c?64:65)]}}function I(b){var c=b.fatal,e=0;this.handler=function(b,g){if(-1===g&&0!==e)return e=0,a(c);if(-1===g&&0===e)return-1;if(0!==e){var h=e,l=null;e=0;d(g,65,254)&&(l=190*(h-129)+(g-65));h=null===l?null:t(l,s("euc-kr"));null===l&&f(g)&&b.prepend(g);return null===h?a(c):h}return f(g)?g:d(g,129,254)?(e=g,null):a(c)}}function E(a){this.handler=function(a,b){if(-1===b)return-1;
if(Z(b))return b;var c=w(b,s("euc-kr"));return null===c?e(b):[ba(c/190)+129,c%190+65]}}function J(a,b){var c=a>>8,d=a&255;return b?[c,d]:[d,c]}function K(b,c){var e=c.fatal,f=null,g=null;this.handler=function(c,h){if(-1===h&&(null!==f||null!==g))return a(e);if(-1===h&&null===f&&null===g)return-1;if(null===f)return f=h,null;var l;l=b?(f<<8)+h:(h<<8)+f;f=null;if(null!==g){var m=g;g=null;if(d(l,56320,57343))return 65536+1024*(m-55296)+(l-56320);c.prepend(J(l,b));return a(e)}return d(l,55296,56319)?(g=
l,null):d(l,56320,57343)?a(e):l}}function z(a,b){this.handler=function(b,c){if(-1===c)return-1;if(d(c,0,65535))return J(c,a);var e=J((c-65536>>10)+55296,a),f=J((c-65536&1023)+56320,a);return e.concat(f)}}function R(a){this.handler=function(a,b){return-1===b?-1:f(b)?b:63360+b-128}}function X(a){this.handler=function(a,b){return-1===b?-1:Z(b)?b:d(b,63360,63487)?b-63360+128:e(b)}}"undefined"!==typeof n&&n.exports&&!c["encoding-indexes"]&&h("./encoding-indexes.js");var ba=Math.floor,Z=f;b.prototype={endOfStream:function(){return!this.tokens.length},
read:function(){return this.tokens.length?this.tokens.pop():-1},prepend:function(a){if(Array.isArray(a))for(;a.length;)this.tokens.push(a.pop());else this.tokens.push(a)},push:function(a){if(Array.isArray(a))for(;a.length;)this.tokens.unshift(a.shift());else this.tokens.unshift(a)}};var va=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:"csisolatin2 iso-8859-2 iso-ir-101 iso8859-2 iso88592 iso_8859-2 iso_8859-2:1987 l2 latin2".split(" "),
name:"ISO-8859-2"},{labels:"csisolatin3 iso-8859-3 iso-ir-109 iso8859-3 iso88593 iso_8859-3 iso_8859-3:1988 l3 latin3".split(" "),name:"ISO-8859-3"},{labels:"csisolatin4 iso-8859-4 iso-ir-110 iso8859-4 iso88594 iso_8859-4 iso_8859-4:1988 l4 latin4".split(" "),name:"ISO-8859-4"},{labels:"csisolatincyrillic cyrillic iso-8859-5 iso-ir-144 iso8859-5 iso88595 iso_8859-5 iso_8859-5:1988".split(" "),name:"ISO-8859-5"},{labels:"arabic asmo-708 csiso88596e csiso88596i csisolatinarabic ecma-114 iso-8859-6 iso-8859-6-e iso-8859-6-i iso-ir-127 iso8859-6 iso88596 iso_8859-6 iso_8859-6:1987".split(" "),
name:"ISO-8859-6"},{labels:"csisolatingreek ecma-118 elot_928 greek greek8 iso-8859-7 iso-ir-126 iso8859-7 iso88597 iso_8859-7 iso_8859-7:1987 sun_eu_greek".split(" "),name:"ISO-8859-7"},{labels:"csiso88598e csisolatinhebrew hebrew iso-8859-8 iso-8859-8-e iso-ir-138 iso8859-8 iso88598 iso_8859-8 iso_8859-8:1988 visual".split(" "),name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:"csisolatin6 iso-8859-10 iso-ir-157 iso8859-10 iso885910 l6 latin6".split(" "),
name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:"csisolatin9 iso-8859-15 iso8859-15 iso885915 iso_8859-15 l9".split(" "),name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:"dos-874 iso-8859-11 iso8859-11 iso885911 tis-620 windows-874".split(" "),
name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:"ansi_x3.4-1968 ascii cp1252 cp819 csisolatin1 ibm819 iso-8859-1 iso-ir-100 iso8859-1 iso88591 iso_8859-1 iso_8859-1:1987 l1 latin1 us-ascii windows-1252 x-cp1252".split(" "),name:"windows-1252"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:"cp1254 csisolatin5 iso-8859-9 iso-ir-148 iso8859-9 iso88599 iso_8859-9 iso_8859-9:1989 l5 latin5 windows-1254 x-cp1254".split(" "),
name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:"chinese csgb2312 csiso58gb231280 gb2312 gb_2312 gb_2312-80 gbk iso-ir-58 x-gbk".split(" "),
name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:"csshiftjis ms932 ms_kanji shift-jis shift_jis sjis windows-31j x-sjis".split(" "),name:"Shift_JIS"}],
heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:"cseuckr csksc56011987 euc-kr iso-ir-149 korean ks_c_5601-1987 ks_c_5601-1989 ksc5601 ksc_5601 windows-949".split(" "),name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}],
ia={};va.forEach(function(a){a.encodings.forEach(function(a){a.labels.forEach(function(b){ia[b]=a})})});var U={},S={},$,Y;Object.defineProperty&&(Object.defineProperty(F.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}}),Object.defineProperty(F.prototype,"fatal",{get:function(){return"fatal"===this._error_mode}}),Object.defineProperty(F.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM}}));F.prototype.decode=function(a,c){var d;d="object"===typeof a&&a instanceof
ArrayBuffer?new Uint8Array(a):"object"===typeof a&&"buffer"in a&&a.buffer instanceof ArrayBuffer?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):new Uint8Array(0);c=l(c);this._do_not_flush||(this._decoder=S[this._encoding.name]({fatal:"fatal"===this._error_mode}),this._BOMseen=!1);this._do_not_flush=Boolean(c.stream);var e=new b(d);d=[];for(var f;;){f=e.read();if(-1===f)break;f=this._decoder.handler(e,f);if(-1===f)break;null!==f&&(Array.isArray(f)?d.push.apply(d,f):d.push(f))}if(!this._do_not_flush){do{f=
this._decoder.handler(e,e.read());if(-1===f)break;null!==f&&(Array.isArray(f)?d.push.apply(d,f):d.push(f))}while(!e.endOfStream());this._decoder=null}-1===["UTF-8","UTF-16LE","UTF-16BE"].indexOf(this._encoding.name)||this._ignoreBOM||this._BOMseen||(0<d.length&&65279===d[0]?(this._BOMseen=!0,d.shift()):0<d.length&&(this._BOMseen=!0));e="";for(f=0;f<d.length;++f){var g=d[f];65535>=g?e+=String.fromCharCode(g):(g-=65536,e+=String.fromCharCode((g>>10)+55296,(g&1023)+56320))}return e};Object.defineProperty&&
Object.defineProperty(x.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()}});x.prototype.encode=function(a,c){a=void 0===a?"":String(a);c=l(c);this._do_not_flush||(this._encoder=U[this._encoding.name]({fatal:"fatal"===this._fatal}));this._do_not_flush=Boolean(c.stream);for(var d=String(a),e=d.length,f=0,g=[];f<e;){var h=d.charCodeAt(f);if(55296>h||57343<h)g.push(h);else if(56320<=h&&57343>=h)g.push(65533);else if(55296<=h&&56319>=h)if(f===e-1)g.push(65533);else{var k=d.charCodeAt(f+
1);56320<=k&&57343>=k?(g.push(65536+((h&1023)<<10)+(k&1023)),f+=1):g.push(65533)}f+=1}d=new b(g);for(e=[];;){f=d.read();if(-1===f)break;f=this._encoder.handler(d,f);if(-1===f)break;Array.isArray(f)?e.push.apply(e,f):e.push(f)}if(!this._do_not_flush){for(;;){f=this._encoder.handler(d,d.read());if(-1===f)break;Array.isArray(f)?e.push.apply(e,f):e.push(f)}this._encoder=null}return new Uint8Array(e)};U["UTF-8"]=function(a){return new O(a)};S["UTF-8"]=function(a){return new G(a)};(function(){"encoding-indexes"in
c&&va.forEach(function(a){"Legacy single-byte encodings"===a.heading&&a.encodings.forEach(function(a){a=a.name;var b=s(a.toLowerCase());S[a]=function(a){return new m(b,a)};U[a]=function(a){return new u(b,a)}})})})();S.GBK=function(a){return new v(a)};U.GBK=function(a){return new C(a,!0)};U.gb18030=function(a){return new C(a)};S.gb18030=function(a){return new v(a)};U.Big5=function(a){return new L(a)};S.Big5=function(a){return new H(a)};U["EUC-JP"]=function(a){return new q(a)};S["EUC-JP"]=function(a){return new g(a)};
U["ISO-2022-JP"]=function(a){return new N(a)};S["ISO-2022-JP"]=function(a){return new p(a)};U.Shift_JIS=function(a){return new r(a)};S.Shift_JIS=function(a){return new P(a)};U["EUC-KR"]=function(a){return new E(a)};S["EUC-KR"]=function(a){return new I(a)};U["UTF-16BE"]=function(a){return new z(!0,a)};S["UTF-16BE"]=function(a){return new K(!0,a)};U["UTF-16LE"]=function(a){return new z(!1,a)};S["UTF-16LE"]=function(a){return new K(!1,a)};U["x-user-defined"]=function(a){return new X(a)};S["x-user-defined"]=
function(a){return new R(a)};c.TextEncoder||(c.TextEncoder=x);c.TextDecoder||(c.TextDecoder=F);"undefined"!==typeof n&&n.exports&&(n.exports={TextEncoder:c.TextEncoder,TextDecoder:c.TextDecoder,EncodingIndexes:c["encoding-indexes"]})})(this||{})},{"./encoding-indexes.js":5}],58:[function(h,n,d){(function(c,d){function l(a){if(!a)throw Error("forgot to pass buffer");if(d.isBuffer(a))return a;if(a instanceof c.ArrayBuffer)return new d(a);if(a.buffer instanceof c.ArrayBuffer)return 1===a.BYTES_PER_ELEMENT?
new d(a):new d(a.buffer)}function f(a,b){return"string"===typeof a&&D.has(a)?s.resolve(D.get(a)):f.getShapefile(a,b).then(function(b){"string"===typeof a&&D.set(a,b);return b})}function b(a,b){return A(a).then(function(a){return f.parseZip(a,b)})}var a=h("proj4");a.default&&(a=a.default);var e=h("./unzip"),A=h("./binaryajax"),t=h("./parseShp"),w=h("parsedbf"),s=h("lie"),D=new (h("lru-cache"))({max:20});f.combine=function(a){for(var b={type:"FeatureCollection",features:[]},c=0,d=a[0].length;c<d;)b.features.push({type:"Feature",
geometry:a[0][c],properties:a[1][c]}),c++;return b};f.parseZip=function(b,c){var d;b=l(b);var h=e(b),k=[];c=c||[];for(d in h)if(-1===d.indexOf("__MACOSX"))if("shp"===d.slice(-3).toLowerCase())k.push(d.slice(0,-4)),h[d.slice(0,-3)+d.slice(-3).toLowerCase()]=h[d];else if("prj"===d.slice(-3).toLowerCase())h[d.slice(0,-3)+d.slice(-3).toLowerCase()]=a(h[d]);else if("json"===d.slice(-4).toLowerCase()||-1<c.indexOf(d.split(".").pop()))k.push(d.slice(0,-3)+d.slice(-3).toLowerCase());else if("dbf"===d.slice(-3).toLowerCase()||
"cpg"===d.slice(-3).toLowerCase())h[d.slice(0,-3)+d.slice(-3).toLowerCase()]=h[d];if(!k.length)throw Error("no layers founds");d=k.map(function(a){var b,d=a.lastIndexOf(".");-1<d&&-1<a.slice(d).indexOf("json")?(b=JSON.parse(h[a]),b.fileName=a.slice(0,d)):(-1<c.indexOf(a.slice(d+1))?b=h[a]:(h[a+".dbf"]&&(b=w(h[a+".dbf"],h[a+".cpg"])),b=f.combine([t(h[a+".shp"],h[a+".prj"]),b])),b.fileName=a);return b});return 1===d.length?d[0]:d};f.getShapefile=function(c,d){return"string"===typeof c?".zip"===c.slice(-4).toLowerCase()?
b(c,d):s.all([s.all([A(c+".shp"),A(c+".prj")]).then(function(b){return t(b[0],b[1]?a(b[1]):!1)}),s.all([A(c+".dbf"),A(c+".cpg")]).then(function(a){return w(a[0],a[1])})]).then(f.combine):new s(function(a){a(f.parseZip(c))})};f.parseShp=function(b,c){b=l(b);d.isBuffer(c)&&(c=c.toString());return"string"===typeof c?(c=a(c),t(b,c)):t(b)};f.parseDbf=function(a,b){a=l(a);return w(a,b)};n.exports=f}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?
window:{},h("buffer").Buffer)},{"./binaryajax":1,"./parseShp":2,"./unzip":3,buffer:6,lie:34,"lru-cache":35,parsedbf:53,proj4:54}]},{},[58])(58)});
!function(B){"object"==typeof exports&&"undefined"!=typeof module?module.exports=B():"function"==typeof define&&define.amd?define([],B):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).osmtogeojson=B()}(function(){return function h(n,d,c){function k(b,a){if(!d[b]){if(!n[b]){var e="function"==typeof require&&require;if(!a&&e)return e(b,!0);if(l)return l(b,!0);e=Error("Cannot find module '"+b+"'");throw e.code="MODULE_NOT_FOUND",e;}e=d[b]={exports:{}};
n[b][0].call(e.exports,function(a){var c=n[b][1][a];return k(c?c:a)},e,e.exports,h,n,d,c)}return d[b].exports}for(var l="function"==typeof require&&require,f=0;f<c.length;f++)k(c[f]);return k}({1:[function(h,n,d){function c(b,a){return(b.version||a.version)&&b.version!==a.version?(b.version||0)>(a.version||0)?b:a:k.merge(b,a)}var k=h("./lodash.custom.js"),l=h("geojson-rewind"),f={};h("osm-polygon-features").forEach(function(b){if("all"===b.polygon)f[b.key]=!0;else{var a="whitelist"===b.polygon?"included_values":
"excluded_values",c={};b.values.forEach(function(a){c[a]=!0});f[b.key]={};f[b.key][a]=c}});h={};h=function(b,a){function d(a){function b(a){var c=k.clone(a);c.lat=a.center.lat;c.lon=a.center.lon;c.__is_center_placeholder=!0;h.push(c)}function c(a){function b(a,c,e){a={type:"node",id:"_"+d.type+"/"+d.id+"bounds"+e,lat:a,lon:c};d.nodes.push(a.id);h.push(a)}var d=k.clone(a);d.nodes=[];b(d.bounds.minlat,d.bounds.minlon,1);b(d.bounds.maxlat,d.bounds.minlon,2);b(d.bounds.maxlat,d.bounds.maxlon,3);b(d.bounds.minlat,
d.bounds.maxlon,4);d.nodes.push(d.nodes[0]);d.__is_bounds_placeholder=!0;l.push(d)}function e(a){k.isArray(a.nodes)||(a.nodes=a.geometry.map(function(a){return null!==a?"_anonymous@"+a.lat+"/"+a.lon:"_anonymous@unknown_location"}));a.geometry.forEach(function(b,c){b&&h.push({type:"node",id:a.nodes[c],lat:b.lat,lon:b.lon})})}function f(a){function b(a,c){if(!l.some(function(a){return"way"==a.type&&a.id==c})){var d={type:"way",id:c,nodes:[]};a.forEach(function(a){if(a){var b=a.lat;a=a.lon;b={type:"node",
id:"_anonymous@"+b+"/"+a,lat:b,lon:a};d.nodes.push(b.id);h.push(b)}else d.nodes.push(void 0)});l.push(d)}}a.members.forEach(function(a,c){"node"==a.type?a.lat&&h.push({type:"node",id:a.ref,lat:a.lat,lon:a.lon}):"way"==a.type&&a.geometry&&(a.ref="_fullGeom"+a.ref,b(a.geometry,a.ref))})}for(var h=[],l=[],m=[],u=0;u<a.elements.length;u++)switch(a.elements[u].type){case "node":h.push(a.elements[u]);break;case "way":var v=k.clone(a.elements[u]);v.nodes=k.clone(v.nodes);l.push(v);v.center&&b(v);v.geometry?
e(v):v.bounds&&c(v);break;case "relation":v=k.clone(a.elements[u]);v.members=k.clone(v.members);m.push(v);var w=v.members&&v.members.some(function(a){return"node"==a.type&&a.lat||"way"==a.type&&a.geometry&&0<a.geometry.length});v.center&&b(v);w?f(v):v.bounds&&c(v)}return n(h,l,m)}function h(a){function b(a,c,d){a.hasAttribute(d)&&(c[d]=a.getAttribute(d))}function c(a,d){var e=k.clone(a);b(d,e,"lat");b(d,e,"lon");e.__is_center_placeholder=!0;l.push(e)}function d(a,b){function c(a,b,d){a={type:"node",
id:"_"+e.type+"/"+e.id+"bounds"+d,lat:a,lon:b};e.nodes.push(a.id);l.push(a)}var e=k.clone(a);e.nodes=[];c(b.getAttribute("minlat"),b.getAttribute("minlon"),1);c(b.getAttribute("maxlat"),b.getAttribute("minlon"),2);c(b.getAttribute("maxlat"),b.getAttribute("maxlon"),3);c(b.getAttribute("minlat"),b.getAttribute("maxlon"),4);e.nodes.push(e.nodes[0]);e.__is_bounds_placeholder=!0;m.push(e)}function e(a,b){k.isArray(a.nodes)||(a.nodes=[],k.each(b,function(b,c){a.nodes.push("_anonymous@"+b.getAttribute("lat")+
"/"+b.getAttribute("lon"))}));k.each(b,function(b,c){if(b.getAttribute("lat")){var d=b.getAttribute("lat"),e=b.getAttribute("lon");l.push({type:"node",id:a.nodes[c],lat:d,lon:e})}})}function f(a,b){function c(a,b){if(!m.some(function(a){return"way"==a.type&&a.id==b})){var d={type:"way",id:b,nodes:[]};k.each(a,function(a){if(a.getAttribute("lat")){var b=a.getAttribute("lat");a=a.getAttribute("lon");b={type:"node",id:"_anonymous@"+b+"/"+a,lat:b,lon:a};d.nodes.push(b.id);l.push(b)}else d.nodes.push(void 0)});
m.push(d)}}k.each(b,function(b,d){if("node"==a.members[d].type){if(b.getAttribute("lat")){var e=b.getAttribute("lat"),f=b.getAttribute("lon");l.push({type:"node",id:a.members[d].ref,lat:e,lon:f})}}else"way"==a.members[d].type&&0<b.getElementsByTagName("nd").length&&(a.members[d].ref="_fullGeom"+a.members[d].ref,c(b.getElementsByTagName("nd"),a.members[d].ref))})}var l=[],m=[],u=[];k.each(a.getElementsByTagName("node"),function(a,c){var d={};k.each(a.getElementsByTagName("tag"),function(a){d[a.getAttribute("k")]=
a.getAttribute("v")});var e={type:"node"};b(a,e,"id");b(a,e,"lat");b(a,e,"lon");b(a,e,"version");b(a,e,"timestamp");b(a,e,"changeset");b(a,e,"uid");b(a,e,"user");k.isEmpty(d)||(e.tags=d);l.push(e)});var v,w;return k.each(a.getElementsByTagName("way"),function(a,f){var g={},h=[];k.each(a.getElementsByTagName("tag"),function(a){g[a.getAttribute("k")]=a.getAttribute("v")});var l=!1;k.each(a.getElementsByTagName("nd"),function(a,b){var c;(c=a.getAttribute("ref"))&&(h[b]=c);!l&&a.getAttribute("lat")&&
(l=!0)});var n={type:"way"};b(a,n,"id");b(a,n,"version");b(a,n,"timestamp");b(a,n,"changeset");b(a,n,"uid");b(a,n,"user");0<h.length&&(n.nodes=h);k.isEmpty(g)||(n.tags=g);(v=a.getElementsByTagName("center")[0])&&c(n,v);l?e(n,a.getElementsByTagName("nd")):(w=a.getElementsByTagName("bounds")[0])&&d(n,w);m.push(n)}),k.each(a.getElementsByTagName("relation"),function(a,e){var g={},h=[];k.each(a.getElementsByTagName("tag"),function(a){g[a.getAttribute("k")]=a.getAttribute("v")});var l=!1;k.each(a.getElementsByTagName("member"),
function(a,c){h[c]={};b(a,h[c],"ref");b(a,h[c],"role");b(a,h[c],"type");(!l&&"node"==h[c].type&&a.getAttribute("lat")||"way"==h[c].type&&0<a.getElementsByTagName("nd").length)&&(l=!0)});var m={type:"relation"};b(a,m,"id");b(a,m,"version");b(a,m,"timestamp");b(a,m,"changeset");b(a,m,"uid");b(a,m,"user");0<h.length&&(m.members=h);k.isEmpty(g)||(m.tags=g);(v=a.getElementsByTagName("center")[0])&&c(m,v);l?f(m,a.getElementsByTagName("member")):(w=a.getElementsByTagName("bounds")[0])&&d(m,w);u.push(m)}),
n(l,m,u)}function n(b,c,d){function e(b,c){if("object"!=typeof c&&(c={}),"function"==typeof a.uninterestingTags)return!a.uninterestingTags(b,c);for(var d in b)if(!0!==a.uninterestingTags[d]&&!0!==c[d]&&c[d]!==b[d])return!0;return!1}function f(a){a={timestamp:a.timestamp,version:a.version,changeset:a.changeset,user:a.user,uid:a.uid};for(var b in a)void 0===a[b]&&delete a[b];return a}function h(b,c){function d(b){for(var c,e,f,g,h,k,l=[];b.length;)for(c=b.pop().nodes.slice(),l.push(c);b.length&&c[0]!==
c[c.length-1];){e=c[0];f=c[c.length-1];for(g=0;g<b.length;g++){if(k=b[g].nodes,f===k[0]){h=c.push;k=k.slice(1);break}if(f===k[k.length-1]){h=c.push;k=k.slice(0,-1).reverse();break}if(e==k[k.length-1]){h=c.unshift;k=k.slice(0,-1);break}if(e==k[0]){h=c.unshift;k=k.slice(1).reverse();break}k=h=null}if(!k){a.verbose&&console.warn("Multipolygon",n+"/"+q,"contains unclosed ring geometry");break}b.splice(g,1);h.apply(c,k)}return l}function e(a){var b,c,d=function(a,b){for(var c=0;c<b.length;c++){for(var d=
b[c],e=d[0],d=d[1],f=!1,g=0,h=a.length-1;g<a.length;h=g++){var k=a[g][0],l=a[g][1],m=a[h][0],h=a[h][1];l>d!=h>d&&e<(m-k)*(d-l)/(h-l)+k&&(f=!f)}if(f)return!0}return!1},f=function(a){return a.map(function(a){return[+a.lat,+a.lon]})};a=f(a);for(b=0;b<s.length;b++)if(c=f(s[b]),d(c,a))return b}var l,m=!1,n=N?"way":"relation",q="number"==typeof b.id?b.id:+b.id.replace("_fullGeom","");l=c.members.filter(function(a){return"way"===a.type});l=l.map(function(b){var c=A[b.ref];return void 0===c?(a.verbose&&console.warn("Multipolygon",
n+"/"+q,"tainted by a missing way",b.type+"/"+b.ref),void(m=!0)):{id:b.ref,role:b.role||"outer",way:c,nodes:c.nodes.filter(function(c){return void 0!==c||(m=!0,a.verbose&&console.warn("Multipolygon",n+"/"+q,"tainted by a way",b.type+"/"+b.ref,"with a missing node"),!1)})}});l=k.compact(l);var s,p;s=d(l.filter(function(a){return"outer"===a.role}));p=d(l.filter(function(a){return"inner"===a.role}));l=s.map(function(a){return[a]});for(var t=0;t<p.length;t++){var u=e(p[t]);void 0!==u?l[u].push(p[t]):
a.verbose&&console.warn("Multipolygon",n+"/"+q,"contains an inner ring with no containing outer")}p=[];if(p=k.compact(l.map(function(b){b=k.compact(b.map(function(b){return 4>b.length?void(a.verbose&&console.warn("Multipolygon",n+"/"+q,"contains a ring with less than four nodes")):k.compact(b.map(function(a){return[+a.lon,+a.lat]}))}));return 0==b.length?void(a.verbose&&console.warn("Multipolygon",n+"/"+q,"contains an empty ring cluster")):b})),0==p.length)return a.verbose&&console.warn("Multipolygon",
n+"/"+q,"contains no coordinates"),!1;l="MultiPolygon";1===p.length&&(l="Polygon",p=p[0]);l={type:"Feature",id:b.type+"/"+q,properties:{type:b.type,id:q,tags:b.tags||{},relations:g[b.type][b.id]||[],meta:f(b)},geometry:{type:l,coordinates:p}};return m&&(a.verbose&&console.warn("Multipolygon",n+"/"+q,"is tainted"),l.properties.tainted=!0),l}for(var t={},m={},u=0;u<b.length;u++){var v=b[u];void 0!==t[v.id]&&(v=a.deduplicator(v,t[v.id]));t[v.id]=v;"undefined"!=typeof v.tags&&e(v.tags)&&(m[v.id]=!0)}for(u=
0;u<d.length;u++)if(k.isArray(d[u].members))for(v=0;v<d[u].members.length;v++)"node"==d[u].members[v].type&&(m[d[u].members[v].ref]=!0);for(var A={},H={},u=0;u<c.length;u++)if(b=c[u],A[b.id]&&(b=a.deduplicator(b,A[b.id])),A[b.id]=b,k.isArray(b.nodes))for(v=0;v<b.nodes.length;v++)H[b.nodes[v]]=!0,b.nodes[v]=t[b.nodes[v]];b=[];for(var L in t)v=t[L],H[L]&&!m[L]||b.push(v);t=[];for(u=0;u<d.length;u++)m=d[u],t[m.id]&&(m=a.deduplicator(m,t[m.id])),t[m.id]=m;var g={node:{},way:{},relation:{}};for(L in t)if(m=
t[L],k.isArray(m.members))for(v=0;v<m.members.length;v++){var H=m.members[v].type,q=m.members[v].ref;"number"!=typeof q&&(q=q.replace("_fullGeom",""));g[H]?("undefined"==typeof g[H][q]&&(g[H][q]=[]),g[H][q].push({role:m.members[v].role,rel:m.id,reltags:m.tags})):a.verbose&&console.warn("Relation",m.type+"/"+m.id,"member",H+"/"+q,"ignored because it has an invalid type")}else a.verbose&&console.warn("Relation",m.type+"/"+m.id,"ignored because it has no members");var p;L=[];for(u=0;u<b.length;u++)"undefined"!=
typeof b[u].lon&&"undefined"!=typeof b[u].lat?(v={type:"Feature",id:b[u].type+"/"+b[u].id,properties:{type:b[u].type,id:b[u].id,tags:b[u].tags||{},relations:g.node[b[u].id]||[],meta:f(b[u])},geometry:{type:"Point",coordinates:[+b[u].lon,+b[u].lat]}},b[u].__is_center_placeholder&&(v.properties.geometry="center"),L.push(v)):a.verbose&&console.warn("POI",b[u].type+"/"+b[u].id,"ignored because it lacks coordinates");b=[];m=[];for(u=0;u<d.length;u++)if(t[d[u].id]===d[u]&&"undefined"!=typeof d[u].tags&&
("multipolygon"==d[u].tags.type||"boundary"==d[u].tags.type))if(k.isArray(d[u].members)){for(v=H=0;v<d[u].members.length;v++)"outer"==d[u].members[v].role?H++:a.verbose&&"inner"!=d[u].members[v].role&&console.warn("Multipolygon",d[u].type+"/"+d[u].id,"member",d[u].members[v].type+"/"+d[u].members[v].ref,'ignored because it has an invalid role: "'+d[u].members[v].role+'"');if(d[u].members.forEach(function(a){A[a.ref]&&("outer"!==a.role||e(A[a.ref].tags,d[u].tags)||(A[a.ref].is_multipolygon_outline=
!0),"inner"!==a.role||e(A[a.ref].tags)||(A[a.ref].is_multipolygon_outline=!0))}),0==H)a.verbose&&console.warn("Multipolygon relation",d[u].type+"/"+d[u].id,"ignored because it has no outer ways");else{var N=!1;1!=H||e(d[u].tags,{type:!0})||(N=!0);v=null;if(N){v=d[u].members.filter(function(a){return"outer"===a.role})[0];if(v=A[v.ref],void 0===v){a.verbose&&console.warn("Multipolygon relation",d[u].type+"/"+d[u].id,"ignored because outer way",v.type+"/"+v.ref,"is missing");continue}v.is_multipolygon_outline=
!0;v=h(v,d[u])}else v=h(d[u],d[u]);!1===v?a.verbose&&console.warn("Multipolygon relation",d[u].type+"/"+d[u].id,"ignored because it has invalid geometry"):m.push(v)}}else a.verbose&&console.warn("Multipolygon",d[u].type+"/"+d[u].id,"ignored because it has no members");for(u=0;u<c.length;u++)if(k.isArray(c[u].nodes)){if(!c[u].is_multipolygon_outline){"number"!=typeof c[u].id&&(c[u].id=+c[u].id.replace("_fullGeom",""));c[u].tainted=!1;c[u].hidden=!1;t=[];for(v=0;v<c[u].nodes.length;v++)"object"==typeof c[u].nodes[v]?
t.push([+c[u].nodes[v].lon,+c[u].nodes[v].lat]):(a.verbose&&console.warn("Way",c[u].type+"/"+c[u].id,"is tainted by an invalid node"),c[u].tainted=!0);1>=t.length?a.verbose&&console.warn("Way",c[u].type+"/"+c[u].id,"ignored because it contains too few nodes"):(H="LineString","undefined"!=typeof c[u].nodes[0]&&c[u].nodes[0]===c[u].nodes[c[u].nodes.length-1]&&("undefined"!=typeof c[u].tags&&w(c[u].tags)||c[u].__is_bounds_placeholder)&&(H="Polygon",t=[t]),v={type:"Feature",id:c[u].type+"/"+c[u].id,properties:{type:c[u].type,
id:c[u].id,tags:c[u].tags||{},relations:g.way[c[u].id]||[],meta:f(c[u])},geometry:{type:H,coordinates:t}},c[u].tainted&&(a.verbose&&console.warn("Way",c[u].type+"/"+c[u].id,"is tainted"),v.properties.tainted=!0),c[u].__is_bounds_placeholder&&(v.properties.geometry="bounds"),"LineString"==H?b.push(v):m.push(v))}}else a.verbose&&console.warn("Way",c[u].type+"/"+c[u].id,"ignored because it has no nodes");return p={type:"FeatureCollection",features:[]},p.features=p.features.concat(m),p.features=p.features.concat(b),
p.features=p.features.concat(L),a.flatProperties&&p.features.forEach(function(a){a.properties=k.merge(a.properties.meta,a.properties.tags,{id:a.properties.type+"/"+a.properties.id})}),p=l(p,!0)}function w(b){var c=a.polygonFeatures;if("function"==typeof c)return c(b);if("no"===b.area)return!1;for(var d in b){var e=b[d],f=c[d];if("undefined"!=typeof f&&"no"!==e&&(!0===f||f.included_values&&!0===f.included_values[e]||f.excluded_values&&!0!==f.excluded_values[e]))return!0}return!1}a=k.merge({verbose:!1,
flatProperties:!1,uninterestingTags:{source:!0,source_ref:!0,"source:ref":!0,history:!0,attribution:!0,created_by:!0,"tiger:county":!0,"tiger:tlid":!0,"tiger:upload_uuid":!0},polygonFeatures:f,deduplicator:c},a);return"undefined"!=typeof XMLDocument&&b instanceof XMLDocument||"undefined"==typeof XMLDocument&&b.childNodes?h(b):d(b)};h.toGeojson=h;n.exports=h},{"./lodash.custom.js":2,"geojson-rewind":3,"osm-polygon-features":6}],2:[function(h,n,d){(function(c){(function(){function h(a,b){return a.set(b[0],
b[1]),a}function l(a,b){return a.add(b),a}function f(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function b(a,b){for(var c=-1,d=a?a.length:0;++c<d&&!1!==b(a[c],c,a););return a}function a(a,b,c,d){var e=-1,f=a?a.length:0;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function e(a,b){for(var c=-1,d=a?a.length:0;++c<d;)if(b(a[c],c,a))return!0;return!1}function A(a){return function(b){return null==
b?Q:b[a]}}function t(a){return function(b){return a(b)}}function w(a){var b=!1;if(null!=a&&"function"!=typeof a.toString)try{b=!!(a+"")}catch(c){}return b}function s(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}function D(a,b){return function(c){return a(b(c))}}function y(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}function F(){}function x(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function G(a){var b=
-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function O(a){var b=-1,c=a?a.length:0;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}function m(a){var b=-1,c=a?a.length:0;for(this.__data__=new O;++b<c;)this.add(a[b])}function u(a){this.__data__=new G(a)}function v(a,b){var c;if(ea(a)||na(a)){c=a.length;for(var d=String,e=-1,f=Array(c);++e<c;)f[e]=d(e);c=f}else c=[];var d=c.length,e=!!d,g;for(g in a)!b&&!fa.call(a,g)||e&&("length"==g||$a(g,d))||c.push(g);return c}
function C(a,b,c){(c===Q||wa(a[b],c))&&("number"!=typeof b||c!==Q||b in a)||(a[b]=c)}function H(a,b,c){var d=a[b];fa.call(a,b)&&wa(d,c)&&(c!==Q||b in a)||(a[b]=c)}function L(a,b){for(var c=a.length;c--;)if(wa(a[c][0],b))return c;return-1}function g(a,b){return a&&S(b,sa(b),a)}function q(a,c,d,e,f,h,k){var l;if(e&&(l=h?e(a,f,h,k):e(a)),l!==Q)return l;if(!ca(a))return a;if(f=ea(a)){if(l=yb(a),!c)return U(a,l)}else{var m=ua(a),n=m==Ta||m==qb;if(Eb(a))return va(a,c);if(m==pa||m==oa||n&&!h){if(w(a))return h?
a:{};if(l=Ma(n?{}:a),!c)return $(a,g(l,a))}else{if(!V[m])return h?a:{};l=La(a,m,q,c)}}k||(k=new u);if(h=k.get(a))return h;if(k.set(a,l),!f)var p=d?N(a,sa,Lb):sa(a);return b(p||a,function(b,f){p&&(f=b,b=a[f]);H(l,f,q(b,c,d,e,f,a,k))}),l}function p(a,b){b=Da(b,a)?[b]:Z(b);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Ga(b[c++])];return c&&c==d?a:Q}function N(a,b,c){b=b(a);if(!ea(a)){a=c(a);c=-1;for(var d=a.length,e=b.length;++c<d;)b[e+c]=a[c]}return b}function P(a,b,c,d,e){var f;if(!(f=a===b)){if(null==
a||null==b||!ca(a)&&!xa(b))b=a!==a&&b!==b;else a:{f=ea(a);var g=ea(b),h=Ra,k=Ra;f||(h=ua(a),h=h==oa?pa:h);g||(k=ua(b),k=k==oa?pa:k);var l=h==pa&&!w(a),g=k==pa&&!w(b);if((k=h==k)&&!l)b=(e||(e=new u),f||rb(a)?Y(a,b,P,c,d,e):da(a,b,h,P,c,d,e));else{if(!(d&la)&&(f=l&&fa.call(a,"__wrapped__"),h=g&&fa.call(b,"__wrapped__"),f||h)){a=f?a.value():a;b=h?b.value():b;b=(e||(e=new u),P(a,b,c,d,e));break a}if(f=!!k){e||(e=new u);b:if(f=d&la,h=sa(a),g=h.length,k=sa(b).length,g==k||f){for(l=g;l--;){var m=h[l];if(!(f?
m in b:fa.call(b,m))){b=!1;break b}}if((k=e.get(a))&&e.get(b))b=k==b;else{k=!0;e.set(a,b);e.set(b,a);for(var n=f;++l<g;){var m=h[l],q=a[m],p=b[m];if(c)var r=f?c(p,q,m,b,a,e):c(q,p,m,a,b,e);if(r===Q?q!==p&&!P(q,p,c,d,e):!r){k=!1;break}n||(n="constructor"==m)}k&&!n&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(k=!1));b=(e.delete(a),e.delete(b),k)}}else b=!1;f=b}b=f}}f=b}return f}function r(a,
b,c,d){var e=c.length,f=e,g=!d;if(null==a)return!f;for(a=Object(a);e--;){var h=c[e];if(g&&h[2]?h[1]!==a[h[0]]:!(h[0]in a))return!1}for(;++e<f;){var h=c[e],k=h[0],l=a[k],m=h[1];if(g&&h[2]){if(l===Q&&!(k in a))return!1}else{h=new u;if(d)var n=d(l,m,k,a,b,h);if(n===Q?!P(m,l,d,ta|la,h):!n)return!1}}return!0}function I(a){return xa(a)&&Ea(a.length)&&!!W[Ka.call(a)]}function E(a){return"function"==typeof a?a:null==a?nb:"object"==typeof a?ea(a)?z(a[0],a[1]):K(a):ob(a)}function J(a){if(!ca(a)){var b=[];if(null!=
a)for(var c in Object(a))b.push(c);return b}c=Na(a);var d=[];for(b in a)("constructor"!=b||!c&&fa.call(a,b))&&d.push(b);return d}function K(a){var b=ga(a);return 1==b.length&&b[0][2]?ib(b[0][0],b[0][1]):function(c){return c===a||r(c,a,b)}}function z(a,b){return Da(a)&&b===b&&!ca(b)?ib(Ga(a),b):function(c){var d=kb(c,a);return d===Q&&d===b?lb(c,a):P(b,d,Q,ta|la)}}function R(a,c,d,e,f){if(a!==c){if(!ea(c)&&!rb(c))var g=J(c);b(g||c,function(b,h){if(g&&(h=b,b=c[h]),ca(b)){f||(f=new u);var k=h,l=f,m=a[k],
n=c[k],p=l.get(n);if(!p){var p=e?e(m,n,k+"",a,c,l):Q,r=p===Q;r&&(p=n,ea(n)||rb(n)?ea(m)?p=m:ab(m)?p=U(m):(r=!1,p=q(n,!0)):Ia(n)||na(n)?na(m)?p=Qa(m):!ca(m)||d&&Ha(m)?(r=!1,p=q(n,!0)):p=m:r=!1);r&&(l.set(n,p),R(p,n,d,e,l),l.delete(n))}C(a,k,p)}else k=e?e(a[h],b,h+"",a,c,f):Q,k===Q&&(k=b),C(a,h,k)})}}function X(a){return function(b){return p(b,a)}}function ba(a,b){return b=Mb(b===Q?a.length-1:b,0),function(){for(var c=arguments,d=-1,e=Mb(c.length-b,0),g=Array(e);++d<e;)g[d]=c[b+d];d=-1;for(e=Array(b+
1);++d<b;)e[d]=c[d];return e[b]=g,f(a,this,e)}}function Z(a){return ea(a)?a:gc(a)}function va(a,b){if(b)return a.slice();var c=new a.constructor(a.length);return a.copy(c),c}function ia(a){var b=new a.constructor(a.byteLength);return(new sb(b)).set(new sb(a)),b}function U(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function S(a,b,c,d){c||(c={});for(var e=-1,f=b.length;++e<f;){var g=b[e],h=d?d(c[g],a[g],g,c,a):Q;H(c,g,h===Q?a[g]:h)}return c}function $(a,b){return S(a,Lb(a),
b)}function Y(a,b,c,d,f,g){var h=f&la,k=a.length,l=b.length;if(k!=l&&!(h&&l>k))return!1;if((l=g.get(a))&&g.get(b))return l==b;var l=-1,n=!0,p=f&ta?new m:Q;g.set(a,b);for(g.set(b,a);++l<k;){var q=a[l],r=b[l];if(d)var s=h?d(r,q,l,b,a,g):d(q,r,l,a,b,g);if(s!==Q){if(s)continue;n=!1;break}if(p){if(!e(b,function(a,b){if(!p.has(b)&&(q===a||c(q,a,d,f,g)))return p.add(b)})){n=!1;break}}else if(q!==r&&!c(q,r,d,f,g)){n=!1;break}}return g.delete(a),g.delete(b),n}function da(a,b,c,d,e,f,g){switch(c){case Fa:if(a.byteLength!=
b.byteLength||a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case Ya:return!(a.byteLength!=b.byteLength||!d(new sb(a),new sb(b)));case ha:case Sa:case Ua:return wa(+a,+b);case ma:return a.name==b.name&&a.message==b.message;case Va:case Wa:return a==b+"";case Aa:var h=s;case Ba:c=f&la;if(h||(h=y),a.size!=b.size&&!c)break;if(c=g.get(a))return c==b;f|=ta;g.set(a,b);b=Y(h(a),h(b),d,e,f,g);return g.delete(a),b;case Xa:if(fb)return fb.call(a)==fb.call(b)}return!1}function ja(){var a=F.iteratee||
bb;return a=a===bb?E:a,arguments.length?a(arguments[0],arguments[1]):a}function M(a,b){var c=a.__data__,d=typeof b;return("string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==b:null===b)?c["string"==typeof b?"string":"hash"]:c.map}function ga(a){for(var b=sa(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!ca(e)]}return b}function ka(a,b){var c=null==a?Q:a[b],d;d=!ca(c)||Nb&&Nb in c?!1:(Ha(c)||w(c)?hc:ec).test(qa(c));return d?c:Q}function yb(a){var b=a.length,c=a.constructor(b);
return b&&"string"==typeof a[0]&&fa.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Ma(a){"function"!=typeof a.constructor||Na(a)?a={}:(a=Ob(a),a=ca(a)?ic(a):{});return a}function La(b,c,d,e){var f=b.constructor;switch(c){case Ya:return ia(b);case ha:case Sa:return new f(+b);case Fa:return c=e?ia(b.buffer):b.buffer,new b.constructor(c,b.byteOffset,b.byteLength);case cb:case db:case T:case eb:case zb:case Ab:case Bb:case Cb:case Db:return c=e?ia(b.buffer):b.buffer,new b.constructor(c,
b.byteOffset,b.length);case Aa:return c=e?d(s(b),!0):s(b),a(c,h,new b.constructor);case Ua:case Wa:return new f(b);case Va:return c=new b.constructor(b.source,dc.exec(b)),c.lastIndex=b.lastIndex,c;case Ba:return c=e?d(y(b),!0):y(b),a(c,l,new b.constructor);case Xa:return fb?Object(fb.call(b)):{}}}function $a(a,b){return b=null==b?za:b,!!b&&("number"==typeof a||fc.test(a))&&-1<a&&0==a%1&&a<b}function Da(a,b){if(ea(a))return!1;var c=typeof a;return!("number"!=c&&"symbol"!=c&&"boolean"!=c&&null!=a&&
!Pa(a))||$b.test(a)||!Zb.test(a)||null!=b&&a in Object(b)}function Na(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||tb)}function ib(a,b){return function(c){return null!=c&&c[a]===b&&(b!==Q||a in Object(c))}}function Ga(a){if("string"==typeof a||Pa(a))return a;var b=a+"";return"0"==b&&1/a==-ya?"-0":b}function qa(a){if(null!=a){try{return ub.call(a)}catch(b){}return a+""}return""}function Za(a,c){return(ea(a)?b:jc)(a,ja(c,3))}function Oa(a,b){if("function"!=typeof a||b&&"function"!=
typeof b)throw new TypeError(Ja);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);d=a.apply(this,d);return c.cache=f.set(e,d),d};return c.cache=new (Oa.Cache||O),c}function wa(a,b){return a===b||a!==a&&b!==b}function na(a){return ab(a)&&fa.call(a,"callee")&&(!Pb.call(a,"callee")||Ka.call(a)==oa)}function ra(a){return null!=a&&Ea(a.length)&&!Ha(a)}function ab(a){return xa(a)&&ra(a)}function Ha(a){a=ca(a)?Ka.call(a):"";return a==Ta||a==qb}function Ea(a){return"number"==
typeof a&&-1<a&&0==a%1&&a<=za}function ca(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function xa(a){return!!a&&"object"==typeof a}function Ia(a){if(!xa(a)||Ka.call(a)!=pa||w(a))return!1;a=Ob(a);if(null===a)return!0;a=fa.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&ub.call(a)==kc}function Pa(a){return"symbol"==typeof a||xa(a)&&Ka.call(a)==Xa}function Qa(a){return S(a,mb(a))}function jb(a){if(null==a)a="";else if("string"!=typeof a)if(Pa(a))a=Qb?Qb.call(a):
"";else{var b=a+"";a="0"==b&&1/a==-ya?"-0":b}return a}function kb(a,b,c){a=null==a?Q:p(a,b);return a===Q?c:a}function lb(a,b){var c;if(c=null!=a){c=a;for(var d=b,d=Da(d,c)?[d]:Z(d),e,f=-1,g=d.length;++f<g;){var h=Ga(d[f]);if(!(e=null!=c&&null!=c&&h in Object(c)))break;c=c[h]}e?c=e:(g=c?c.length:0,c=!!g&&Ea(g)&&$a(h,g)&&(ea(c)||na(c)))}return c}function sa(a){if(ra(a))a=v(a);else if(Na(a)){var b=[],c;for(c in Object(a))fa.call(a,c)&&"constructor"!=c&&b.push(c);a=b}else a=Rb(a);return a}function mb(a){return ra(a)?
v(a,!0):J(a)}function nb(a){return a}function bb(a){return E("function"==typeof a?a:q(a,!0))}function ob(a){return Da(a)?A(Ga(a)):X(a)}function pb(){return[]}function aa(){return!1}var Q,Ja="Expected a function",ta=1,la=2,ya=1/0,za=9007199254740991,oa="[object Arguments]",Ra="[object Array]",ha="[object Boolean]",Sa="[object Date]",ma="[object Error]",Ta="[object Function]",qb="[object GeneratorFunction]",Aa="[object Map]",Ua="[object Number]",pa="[object Object]",Va="[object RegExp]",Ba="[object Set]",
Wa="[object String]",Xa="[object Symbol]",Ya="[object ArrayBuffer]",Fa="[object DataView]",cb="[object Float32Array]",db="[object Float64Array]",T="[object Int8Array]",eb="[object Int16Array]",zb="[object Int32Array]",Ab="[object Uint8Array]",Bb="[object Uint8ClampedArray]",Cb="[object Uint16Array]",Db="[object Uint32Array]",Zb=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$b=/^\w*$/,ac=/^\./,bc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
cc=/\\(\\)?/g,dc=/\w*$/,ec=/^\[object .+?Constructor\]$/,fc=/^(?:0|[1-9]\d*)$/,W={};W[cb]=W[db]=W[T]=W[eb]=W[zb]=W[Ab]=W[Bb]=W[Cb]=W[Db]=!0;W[oa]=W[Ra]=W[Ya]=W[ha]=W[Fa]=W[Sa]=W[ma]=W[Ta]=W[Aa]=W[Ua]=W[pa]=W[Va]=W[Ba]=W[Wa]=W["[object WeakMap]"]=!1;var V={};V[oa]=V[Ra]=V[Ya]=V[Fa]=V[ha]=V[Sa]=V[cb]=V[db]=V[T]=V[eb]=V[zb]=V[Aa]=V[Ua]=V[pa]=V[Va]=V[Ba]=V[Wa]=V[Xa]=V[Ab]=V[Bb]=V[Cb]=V[Db]=!0;V[ma]=V[Ta]=V["[object WeakMap]"]=!1;var Sb="object"==typeof c&&c&&c.Object===Object&&c,lc="object"==typeof self&&
self&&self.Object===Object&&self,Ca=Sb||lc||Function("return this")(),Fb="object"==typeof d&&d&&!d.nodeType&&d,vb=Fb&&"object"==typeof n&&n&&!n.nodeType&&n,Tb=vb&&vb.exports===Fb,Ub=Tb&&Sb.process,wb;a:{try{wb=Ub&&Ub.binding("util");break a}catch(yc){}wb=void 0}var Vb=wb&&wb.isTypedArray,mc=Array.prototype,nc=Function.prototype,tb=Object.prototype,Gb=Ca["__core-js_shared__"],Nb=function(){var a=/[^.]+$/.exec(Gb&&Gb.keys&&Gb.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),ub=nc.toString,fa=tb.hasOwnProperty,
kc=ub.call(Object),Ka=tb.toString,hc=RegExp("^"+ub.call(fa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wb=Tb?Ca.Buffer:Q,Xb=Ca.Symbol,sb=Ca.Uint8Array,Ob=D(Object.getPrototypeOf,Object),ic=Object.create,Pb=tb.propertyIsEnumerable,oc=mc.splice,Yb=Object.getOwnPropertySymbols,pc=Wb?Wb.isBuffer:Q,Rb=D(Object.keys,Object),Mb=Math.max,Hb=ka(Ca,"DataView"),gb=ka(Ca,"Map"),Ib=ka(Ca,"Promise"),Jb=ka(Ca,"Set"),Kb=ka(Ca,"WeakMap"),hb=
ka(Object,"create"),qc=!Pb.call({valueOf:1},"valueOf"),rc=qa(Hb),sc=qa(gb),tc=qa(Ib),uc=qa(Jb),vc=qa(Kb),xb=Xb?Xb.prototype:Q,fb=xb?xb.valueOf:Q,Qb=xb?xb.toString:Q;x.prototype.clear=function(){this.__data__=hb?hb(null):{}};x.prototype.delete=function(a){return this.has(a)&&delete this.__data__[a]};x.prototype.get=function(a){var b=this.__data__;return hb?(a=b[a],"__lodash_hash_undefined__"===a?Q:a):fa.call(b,a)?b[a]:Q};x.prototype.has=function(a){var b=this.__data__;return hb?b[a]!==Q:fa.call(b,
a)};x.prototype.set=function(a,b){return this.__data__[a]=hb&&b===Q?"__lodash_hash_undefined__":b,this};G.prototype.clear=function(){this.__data__=[]};G.prototype.delete=function(a){var b=this.__data__;a=L(b,a);return 0>a?!1:(a==b.length-1?b.pop():oc.call(b,a,1),!0)};G.prototype.get=function(a){var b=this.__data__;a=L(b,a);return 0>a?Q:b[a][1]};G.prototype.has=function(a){return-1<L(this.__data__,a)};G.prototype.set=function(a,b){var c=this.__data__,d=L(c,a);return 0>d?c.push([a,b]):c[d][1]=b,this};
O.prototype.clear=function(){this.__data__={hash:new x,map:new (gb||G),string:new x}};O.prototype.delete=function(a){return M(this,a).delete(a)};O.prototype.get=function(a){return M(this,a).get(a)};O.prototype.has=function(a){return M(this,a).has(a)};O.prototype.set=function(a,b){return M(this,a).set(a,b),this};m.prototype.add=m.prototype.push=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this};m.prototype.has=function(a){return this.__data__.has(a)};u.prototype.clear=function(){this.__data__=
new G};u.prototype.delete=function(a){return this.__data__.delete(a)};u.prototype.get=function(a){return this.__data__.get(a)};u.prototype.has=function(a){return this.__data__.has(a)};u.prototype.set=function(a,b){var c=this.__data__;if(c instanceof G){c=c.__data__;if(!gb||199>c.length)return c.push([a,b]),this;c=this.__data__=new O(c)}return c.set(a,b),this};var jc=function(a,b){return function(c,d){if(null==c)return c;if(!ra(c))return a(c,d);for(var e=c.length,f=b?e:-1,g=Object(c);(b?f--:++f<e)&&
!1!==d(g[f],f,g););return c}}(function(a,b){return a&&wc(a,b,sa)}),wc=function(a){return function(b,c,d){var e=-1,f=Object(b);d=d(b);for(var g=d.length;g--;){var h=d[a?g:++e];if(!1===c(f[h],h,f))break}return b}}(),Lb=Yb?D(Yb,Object):pb,ua=function(a){return Ka.call(a)};(Hb&&ua(new Hb(new ArrayBuffer(1)))!=Fa||gb&&ua(new gb)!=Aa||Ib&&"[object Promise]"!=ua(Ib.resolve())||Jb&&ua(new Jb)!=Ba||Kb&&"[object WeakMap]"!=ua(new Kb))&&(ua=function(a){var b=Ka.call(a);if(a=(a=b==pa?a.constructor:Q)?qa(a):Q)switch(a){case rc:return Fa;
case sc:return Aa;case tc:return"[object Promise]";case uc:return Ba;case vc:return"[object WeakMap]"}return b});var gc=Oa(function(a){a=jb(a);var b=[];return ac.test(a)&&b.push(""),a.replace(bc,function(a,c,d,e){b.push(d?e.replace(cc,"$1"):c||a)}),b});Oa.Cache=O;var ea=Array.isArray,Eb=pc||aa,rb=Vb?t(Vb):I,xc=function(a){return ba(function(b,c){var d=-1,e=c.length,f=1<e?c[e-1]:Q,g=2<e?c[2]:Q,f=3<a.length&&"function"==typeof f?(e--,f):Q,h;if(h=g){h=c[0];var k=c[1];if(ca(g)){var l=typeof k;h=!!("number"==
l?ra(g)&&$a(k,g.length):"string"==l&&k in g)&&wa(g[k],h)}else h=!1}h&&(f=3>e?Q:f,e=1);for(b=Object(b);++d<e;)(g=c[d])&&a(b,g,d,f);return b})}(function(a,b,c){R(a,b,c)});F.compact=function(a){for(var b=-1,c=a?a.length:0,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e};F.iteratee=bb;F.keys=sa;F.keysIn=mb;F.memoize=Oa;F.merge=xc;F.property=ob;F.toPlainObject=Qa;F.clone=function(a){return q(a,!1,!0)};F.eq=wa;F.forEach=Za;F.get=kb;F.hasIn=lb;F.identity=nb;F.isArguments=na;F.isArray=ea;F.isArrayLike=
ra;F.isArrayLikeObject=ab;F.isBuffer=Eb;F.isEmpty=function(a){if(ra(a)&&(ea(a)||"string"==typeof a||"function"==typeof a.splice||Eb(a)||na(a)))return!a.length;var b=ua(a);if(b==Aa||b==Ba)return!a.size;if(qc||Na(a))return!Rb(a).length;for(var c in a)if(fa.call(a,c))return!1;return!0};F.isFunction=Ha;F.isLength=Ea;F.isObject=ca;F.isObjectLike=xa;F.isPlainObject=Ia;F.isSymbol=Pa;F.isTypedArray=rb;F.stubArray=pb;F.stubFalse=aa;F.toString=jb;F.each=Za;F.VERSION="4.15.0";vb&&((vb.exports=F)._=F,Fb._=F)}).call(this)}).call(this,
"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(h,n,d){function c(a,b){switch(a&&a.type||null){case "FeatureCollection":return a.features=a.features.map(k(c,b)),a;case "Feature":return a.geometry=c(a.geometry,b),a;case "Polygon":case "MultiPolygon":return"Polygon"===a.type?a.coordinates=l(a.coordinates,b):"MultiPolygon"===a.type&&(a.coordinates=a.coordinates.map(k(l,b))),a;default:return a}}function k(a,b){return function(c){return a(c,
b)}}function l(a,b){b=!!b;a[0]=f(a[0],!b);for(var c=1;c<a.length;c++)a[c]=f(a[c],b);return a}function f(a,c){return 0<=b.ring(a)===c?a:a.reverse()}var b=h("geojson-area");n.exports=c},{"geojson-area":4}],4:[function(h,n,d){function c(c){var b=0;if(c&&0<c.length)for(var b=b+Math.abs(k(c[0])),a=1;a<c.length;a++)b-=Math.abs(k(c[a]));return b}function k(c){var b=0;if(2<c.length){for(var a,d,h=0;h<c.length-1;h++)a=c[h],d=c[h+1],b+=(d[0]-a[0])*Math.PI/180*(2+Math.sin(a[1]*Math.PI/180)+Math.sin(d[1]*Math.PI/
180));b=b*l.RADIUS*l.RADIUS/2}return b}var l=h("wgs84");n.exports.geometry=function(d){if("Polygon"===d.type)return c(d.coordinates);if("MultiPolygon"===d.type){for(var b=0,a=0;a<d.coordinates.length;a++)b+=c(d.coordinates[a]);return b}return null};n.exports.ring=k},{wgs84:5}],5:[function(h,n,d){n.exports.RADIUS=6378137;n.exports.FLATTENING=1/298.257223563;n.exports.POLAR_RADIUS=6356752.3142},{}],6:[function(h,n,d){n.exports=h("./polygon-features.json")},{"./polygon-features.json":7}],7:[function(h,
n,d){n.exports=[{key:"building",polygon:"all"},{key:"highway",polygon:"whitelist",values:["services","rest_area","escape","elevator"]},{key:"natural",polygon:"blacklist",values:["coastline","cliff","ridge","arete","tree_row"]},{key:"landuse",polygon:"all"},{key:"waterway",polygon:"whitelist",values:["riverbank","dock","boatyard","dam"]},{key:"amenity",polygon:"all"},{key:"leisure",polygon:"all"},{key:"barrier",polygon:"whitelist",values:"city_wall ditch hedge retaining_wall wall spikes".split(" ")},
{key:"railway",polygon:"whitelist",values:["station","turntable","roundhouse","platform"]},{key:"area",polygon:"all"},{key:"boundary",polygon:"all"},{key:"man_made",polygon:"blacklist",values:["cutline","embankment","pipeline"]},{key:"power",polygon:"whitelist",values:["plant","substation","generator","transformer"]},{key:"place",polygon:"all"},{key:"shop",polygon:"all"},{key:"aeroway",polygon:"blacklist",values:["taxiway"]},{key:"tourism",polygon:"all"},{key:"historic",polygon:"all"},{key:"public_transport",
polygon:"all"},{key:"office",polygon:"all"},{key:"building:part",polygon:"all"},{key:"military",polygon:"all"},{key:"ruins",polygon:"all"},{key:"area:highway",polygon:"all"},{key:"craft",polygon:"all"},{key:"golf",polygon:"all"}]},{}]},{},[1])(1)});

if (typeof ArrayBuffer !== "undefined" && !ArrayBuffer['isView']) {
  ArrayBuffer.isView = function(a) {
    return a !== null && typeof(a) === "object" && a['buffer'] instanceof ArrayBuffer;
  };
}
