/*
 Highcharts JS v2.1.3 (2011-02-07)

 (c) 2009-2010 Torstein H?nsi

 License: www.highcharts.com/license
*/
"undefined"==typeof window&&(window={});var Functional=window.Functional||{};Functional.install=function(b){var e=Functional,h=window,l;for(l in e)"install"==l||"_"==l.charAt(0)||b&&l in b||{}[l]||(h[l]=e[l])};Functional.compose=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var h=e;0<=--h;)arguments=[b[h].apply(this,arguments)];return arguments[0]}};
Functional.sequence=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var h=0;h<e;h++)arguments=[b[h].apply(this,arguments)];return arguments[0]}};Functional.map=function(b,e,h){b=Function.toFunction(b);for(var l=e.length,t=Array(l),u=0;u<l;u++)t[u]=b.apply(h,[e[u],u]);return t};Functional.reduce=function(b,e,h,l){b=Function.toFunction(b);for(var t=h.length,u=0;u<t;u++)e=b.apply(l,[e,h[u]]);return e};
Functional.select=function(b,e,h){b=Function.toFunction(b);for(var l=e.length,t=[],u=0;u<l;u++){var y=e[u];b.apply(h,[y,u])&&t.push(y)}return t};Functional.filter=Functional.select;Functional.foldl=Functional.reduce;Functional.foldr=function(b,e,h,l){b=Function.toFunction(b);for(var t=h.length;0<=--t;)e=b.apply(l,[h[t],e]);return e};Functional.and=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var h=!0,l=0;l<e&&(h=b[l].apply(this,arguments));l++);return h}};
Functional.or=function(){var b=Functional.map(Function.toFunction,arguments),e=b.length;return function(){for(var h=!1,l=0;l<e&&!(h=b[l].apply(this,arguments));l++);return h}};Functional.some=function(b,e,h){b=Function.toFunction(b);for(var l=e.length,t=!1,u=0;u<l&&!(t=b.call(h,e[u]));u++);return t};Functional.every=function(b,e,h){b=Function.toFunction(b);for(var l=e.length,t=!0,u=0;u<l&&(t=b.call(h,e[u]));u++);return t};
Functional.not=function(b){b=Function.toFunction(b);return function(){return!b.apply(null,arguments)}};Functional.equal=function(){var b=arguments.length,e=Functional.map(Function.toFunction,arguments);return b?function(){for(var h=e[0].apply(this,arguments),l=1;l<b;l++)if(h!=e[l].apply(this,e))return!1;return!0}:Functional.K(!0)};Functional.lambda=function(b){return b.toFunction()};
Functional.invoke=function(b){var e=Array.slice(arguments,1);return function(h){return h[b].apply(h,Array.slice(arguments,1).concat(e))}};Functional.pluck=function(b){return function(e){return e[b]}};Functional.until=function(b,e){e=Function.toFunction(e);b=Function.toFunction(b);return function(h){for(;!b.call(null,h);)h=e.call(null,h);return h}};
Functional.zip=function(){for(var b=Math.min.apply(null,Functional.map(".length",arguments)),e=Array(b),h=0;h<b;h++){var l=String(h);e[l]=Functional.map(pluck(l),arguments)}return e};Functional._startRecordingMethodChanges=function(b){var e={},h;for(h in b)e[h]=b[h];return{getChangedMethods:function(){var h={},t;for(t in b)b[t]!=e[t]&&(h[t]=b[t]);return h}}};
Functional._attachMethodDelegates=function(b){for(var e in b)Functional[e]=Functional[e]||function(e){var l=b[e];return function(b){return l.apply(Function.toFunction(b),Array.slice(arguments,1))}}(e)};Functional.__initalFunctionState=Functional._startRecordingMethodChanges(Function.prototype);Function.prototype.bind=function(b){var e=this,h=Array.slice(arguments,1);return function(){return e.apply(b,h.concat(Array.slice(arguments,0)))}};
Function.prototype.saturate=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,e)}};Function.prototype.aritize=function(b){var e=this;return function(){return e.apply(this,Array.slice(arguments,0,b))}};Function.prototype.curry=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,e.concat(Array.slice(arguments,0)))}};
Function.prototype.rcurry=function(){var b=this,e=Array.slice(arguments,0);return function(){return b.apply(this,Array.slice(arguments,0).concat(e))}};Function.prototype.ncurry=function(b){var e=this,h=Array.slice(arguments,1);return function(){var l=h.concat(Array.slice(arguments,0));return l.length<b?(l.unshift(b),e.ncurry.apply(e,l)):e.apply(this,l)}};
Function.prototype.rncurry=function(b){var e=this,h=Array.slice(arguments,1);return function(){var l=Array.slice(arguments,0).concat(h);return l.length<b?(l.unshift(b),e.rncurry.apply(e,l)):e.apply(this,l)}};_=Function._={};
Function.prototype.partial=function(){for(var b=this,e=Function._,h=Array.slice(arguments,0),l=[],t=0;t<arguments.length;t++)arguments[t]==e&&l.push(t);return function(){for(var t=h.concat(Array.slice(arguments,l.length)),y=0;y<Math.min(l.length,arguments.length);y++)t[l[y]]=arguments[y];for(y=0;y<t.length;y++)if(t[y]==e)return b.partial.apply(b,t);return b.apply(this,t)}};Functional.I=function(b){return b};Functional.K=function(b){return function(){return b}};Functional.id=Functional.I;
Functional.constfn=Functional.K;Function.S=function(b,e){b=Function.toFunction(b);e=Function.toFunction(e);return function(){return b.apply(this,[e.apply(this,arguments)].concat(Array.slice(arguments,0)))}};Function.prototype.flip=function(){var b=this;return function(){var e=Array.slice(arguments,0),e=e.slice(1,2).concat(e.slice(0,1)).concat(e.slice(2));return b.apply(this,e)}};
Function.prototype.uncurry=function(){var b=this;return function(){return b.apply(this,Array.slice(arguments,0,1)).apply(this,Array.slice(arguments,1))}};Function.prototype.prefilterObject=function(b){b=Function.toFunction(b);var e=this;return function(){return e.apply(b(this),arguments)}};Function.prototype.prefilterAt=function(b,e){e=Function.toFunction(e);var h=this;return function(){var l=Array.slice(arguments,0);l[b]=e.call(this,l[b]);return h.apply(this,l)}};
Function.prototype.prefilterSlice=function(b,e,h){b=Function.toFunction(b);e=e||0;var l=this;return function(){var t=Array.slice(arguments,0),u=0>h?t.length+h:h||t.length;t.splice.apply(t,[e,(u||t.length)-e].concat(b.apply(this,t.slice(e,u))));return l.apply(this,t)}};Function.prototype.compose=function(b){var e=this;b=Function.toFunction(b);return function(){return e.apply(this,[b.apply(this,arguments)])}};
Function.prototype.sequence=function(b){var e=this;b=Function.toFunction(b);return function(){return b.apply(this,[e.apply(this,arguments)])}};Function.prototype.guard=function(b,e){var h=this;b=Function.toFunction(b||Functional.I);e=Function.toFunction(e||Functional.I);return function(){return(b.apply(this,arguments)?h:e).apply(this,arguments)}};
Function.prototype.traced=function(b){var e=this;b=b||e;return function(){window.console&&console.info("[",b,"apply(",this!=window&&this,",",arguments,")");var h=e.apply(this,arguments);window.console&&console.info("]",b," -> ",h);return h}};Functional._attachMethodDelegates(Functional.__initalFunctionState.getChangedMethods());delete Functional.__initalFunctionState;Function.toFunction=Function.toFunction||Functional.K;
Array.slice||(Array.slice=function(b){return function(e){return b.apply(e,b.call(arguments,1))}}(Array.prototype.slice));
String.prototype.lambda=function(){var b=[],e=this,h=e.ECMAsplit(/\s*->\s*/m);if(1<h.length)for(;h.length;)e=h.pop(),b=h.pop().split(/\s*,\s*|\s+/m),h.length&&h.push("(function("+b+"){return ("+e+")})");else if(e.match(/\b_\b/))b="_";else{var h=e.match(/^\s*(?:[+*\/%&|\^\.=<>]|!=)/m),l=e.match(/[+\-*\/%&|\^\.=<>!]\s*$/m);if(h||l)h&&(b.push("$1"),e="$1"+e),l&&(b.push("$2"),e+="$2");else for(var h=this.replace(/(?:\b[A-Z]|\.[a-zA-Z_$])[a-zA-Z_$\d]*|[a-zA-Z_$][a-zA-Z_$\d]*\s*:|this|arguments|'(?:[^'\\]|\\.)*'|"(?:[^"\\]|\\.)*"/g,
"").match(/([a-z_$][a-z_$\d]*)/gi)||[],l=0,t;t=h[l++];)0<=b.indexOf(t)||b.push(t)}return new Function(b,"return ("+e+")")};String.prototype.lambda.cache=function(){var b=String.prototype,e={},h=b.lambda,l=function(){var b="#"+this;return e[b]||(e[b]=h.call(this))};l.cached=function(){};l.uncache=function(){b.lambda=h};b.lambda=l};String.prototype.apply=function(b,e){return this.toFunction().apply(b,e)};
String.prototype.call=function(){return this.toFunction().apply(arguments[0],Array.prototype.slice.call(arguments,1))};String.prototype.toFunction=function(){return this.match(/\breturn\b/)?new Function(this):this.lambda()};Function.prototype.toFunction=function(){return this};Function.toFunction=function(b){return b.toFunction()};
String.prototype.ECMAsplit=1<"ab".split(/a*/).length?String.prototype.split:function(b,e){if("undefined"!=typeof e)throw"ECMAsplit: limit is unimplemented";var h=this.split.apply(this,arguments),l=RegExp(b),t=l.lastIndex,u=l.exec(this);u&&0==u.index&&h.unshift("");l.lastIndex=t;return h};
(function(){function b(a,g){a||(a={});for(var d in g)a[d]=g[d];return a}function e(a,g){return parseInt(a,g||10)}function h(a){return"string"==typeof a}function l(a){return"object"==typeof a}function t(a){return"number"==typeof a}function u(a,g){for(var d=a.length;d--;)if(a[d]==g){a.splice(d,1);break}}function y(a){return a!==Fa&&null!==a}function z(a,g,d){var b,p;if(h(g))y(d)?a.setAttribute(g,d):a&&a.getAttribute&&(p=a.getAttribute(g));else if(y(g)&&l(g))for(b in g)a.setAttribute(b,g[b]);return p}
function ba(a){a&&a.constructor==Array||(a=[a]);return a}function q(){var a=arguments,g,d,b=a.length;for(g=0;g<b;g++)if(d=a[g],"undefined"!==typeof d&&null!==d)return d}function I(a){var g="",d;for(d in a)g+=cb(d)+":"+a[d]+";";return g}function Z(a,g){Kb&&g&&g.opacity!==Fa&&(g.filter="alpha(opacity="+100*g.opacity+")");b(a.style,g)}function ka(a,g,d,m,p){a=$.createElement(a);g&&b(a,g);p&&Z(a,{padding:0,border:"none",margin:0});d&&Z(a,d);m&&m.appendChild(a);return a}function db(a,g){Lb=q(a,g.animation)}
function Wa(){var a=Ia.global.useUTC;rb=a?Date.UTC:function(a,d,b,p,x,e){return(new Date(a,d,q(b,1),q(p,0),q(x,0),q(e,0))).getTime()};sb=a?"getUTCMinutes":"getMinutes";tb=a?"getUTCHours":"getHours";Mb=a?"getUTCDay":"getDay";Db=a?"getUTCDate":"getDate";Nb=a?"getUTCMonth":"getMonth";ib=a?"getUTCFullYear":"getFullYear";Eb=a?"setUTCMinutes":"setMinutes";Ob=a?"setUTCHours":"setHours";jb=a?"setUTCDate":"setDate";Fb=a?"setUTCMonth":"setMonth";Tb=a?"setUTCFullYear":"setFullYear"}function ea(a){Xa||(Xa=ka("div"));
a&&Xa.appendChild(a);Xa.innerHTML=""}function X(a,g){var d=function(){};d.prototype=new a;b(d.prototype,g);return d}function eb(a,g,d,b){var p=Ia.lang,x=isNaN(g=T(g))?2:g;g=void 0===d?p.decimalPoint:d;b=void 0===b?p.thousandsSep:b;p=0>a?"-":"";d=e(a=T(+a||0).toFixed(x))+"";var r=3<(r=d.length)?r%3:0;return p+(r?d.substr(0,r)+b:"")+d.substr(r).replace(/(\d{3})(?=\d)/g,"$1"+b)+(x?g+T(a-d).toFixed(x).slice(2):"")}function H(){}function kb(a,g){function d(f,a){function v(f,a){this.pos=f;this.minor=a;
this.isNew=!0;a||this.addLabel()}function n(f){f&&(this.options=f,this.id=f.id);return this}function g(){var f=[],v=[],n;Oa=ja=null;I=[];B(va,function(g){n=!1;B(["xAxis","yAxis"],function(f){g.isCartesian&&("xAxis"==f&&N||"yAxis"==f&&!N)&&(g.options[f]==a.index||g.options[f]===Fa&&0===a.index)&&(g[f]=h,I.push(g),n=!0)});!g.visible&&K.ignoreHiddenSeries&&(n=!1);if(n){var d,k,F,b,m;N||(d=g.options.stacking,U="percent"==d,d&&(b=g.type+q(g.options.stack,""),m="-"+b,g.stackKey=b,k=f[b]||[],f[b]=k,F=v[m]||
[],v[m]=F),U&&(Oa=0,ja=99));g.isCartesian&&(B(g.data,function(f,a){var v=f.x,n=f.y,g=0>n,J=g?F:k,g=g?m:b;null===Oa&&(Oa=ja=f[P]);N?v>ja?ja=v:v<Oa&&(Oa=v):y(n)&&(d&&(J[v]=y(J[v])?J[v]+n:n),n=J?J[v]:n,J=q(f.low,n),U||(n>ja?ja=n:J<Oa&&(Oa=J)),d&&(r[g]||(r[g]={}),r[g][v]={total:n,cum:n}))}),/(area|column|bar)/.test(g.type)&&!N&&(0<=Oa?(Oa=0,bc=!0):0>ja&&(ja=0,Z=!0)))}})}function d(f,v){var n;$=v?1:pa.pow(10,sa(pa.log(f)/pa.LN10));n=f/$;v||(v=[1,2,2.5,5,10],!1===a.allowDecimals&&(1==$?v=[1,2,5,10]:.1>=
$&&(v=[1/$])));for(var g=0;g<v.length&&!(f=v[g],n<=(v[g]+(v[g+1]||v[g]))/2);g++);return f*=$}function k(f){var a;a=f;y($)&&(a=10*(1>$?E(1/$):1),a=E(f*a)/a);return a}function F(v){var n,g,b,m;v=a.tickInterval;var J=a.tickPixelInterval;n=a.maxZoom||(N?Y(5*f.smallestInterval,ja-Oa):null);ya=D?ta:qa;Ma?(b=f[N?"xAxis":"yAxis"][a.linkedTo],m=b.getExtremes(),z=q(m.min,m.dataMin),fa=q(m.max,m.dataMax)):(z=q(S,a.min,Oa),fa=q(vb,a.max,ja));fa-z<n&&(m=(n-fa+z)/2,z=V(z-m,q(a.min,z-m),Oa),fa=Y(z+n,q(a.max,z+n),
ja));aa||U||Ma||!y(z)||!y(fa)||(n=fa-z||1,y(a.min)||y(S)||!L||!(0>Oa)&&bc||(z-=n*L),y(a.max)||y(vb)||!X||!(0<ja)&&Z||(fa+=n*X));Ea=z==fa?1:Ma&&!v&&J==b.options.tickPixelInterval?b.tickInterval:q(v,aa?1:(fa-z)*J/ya);l||y(a.tickInterval)||(Ea=d(Ea));h.tickInterval=Ea;ea="auto"===a.minorTickInterval&&Ea?Ea/5:a.minorTickInterval;if(l){la=[];v=Ia.global.useUTC;m=[["second",1E3,[1,2,5,10,15,30]],["minute",6E4,[1,2,5,10,15,30]],["hour",36E5,[1,2,3,4,6,8,12]],["day",864E5,[1,2]],["week",6048E5,[1,2]],["month",
2592E6,[1,2,3,4,6]],["year",31556952E3,null]];J=m[6];n=J[1];var O=J[2];for(b=0;b<m.length&&!(J=m[b],n=J[1],O=J[2],m[b+1]&&Ea<=(n*O[O.length-1]+m[b+1][1])/2);b++);31556952E3==n&&Ea<5*n&&(O=[1,2,5]);m=d(Ea/n,O);var p=new Date(1*z);p.setMilliseconds(0);1E3<=n&&p.setSeconds(6E4<=n?0:m*sa(p.getSeconds()/m));if(6E4<=n)p[Eb](36E5<=n?0:m*sa(p[sb]()/m));if(36E5<=n)p[Ob](864E5<=n?0:m*sa(p[tb]()/m));if(864E5<=n)p[jb](2592E6<=n?1:m*sa(p[Db]()/m));2592E6<=n&&(p[Fb](31556952E3<=n?0:m*sa(p[Nb]()/m)),g=p[ib]());
if(31556952E3<=n)p[Tb](g-g%m);if(6048E5==n)p[jb](p[Db]()-p[Mb]()+a.startOfWeek);b=1;g=p[ib]();for(var O=p.getTime()/1,s=p[Nb](),p=p[Db]();O<fa&&b<ta;)la.push(O),O=31556952E3==n?rb(g+b*m,0)/1:2592E6==n?rb(g,s+b*m)/1:v||864E5!=n&&6048E5!=n?O+n*m:rb(g,s,p+b*m*(864E5==n?1:7)),b++;la.push(O);ua=a.dateTimeLabelFormats[J[0]]}else for(b=sa(z/Ea)*Ea,g=Na(fa/Ea)*Ea,la=[],b=k(b);b<=g;)la.push(b),b=k(b+Ea);if(!Ma){if(aa||N&&f.hasColumn){g=.5*(aa?1:Ea);if(aa||!y(q(a.min,S)))z-=g;if(aa||!y(q(a.max,vb)))fa+=g}g=
la[0];b=la[la.length-1];a.startOnTick?z=g:z>g&&la.shift();a.endOnTick?fa=b:fa<b&&la.pop();lb||(lb={x:0,y:0});!l&&la.length>lb[P]&&(lb[P]=la.length)}}function m(){var f,a;H=z;Zb=fa;g();F();t=A;A=ya/(fa-z||1);if(!N)for(f in r)for(a in r[f])r[f][a].cum=r[f][a].total;h.isDirty||(h.isDirty=z!=H||fa!=Zb)}function J(f){f=(new n(f)).render();T.push(f);return f}function O(){var g=a.title,d=a.alternateGridColor,b=a.lineWidth,k,F,m=f.hasRendered,J=m&&y(H)&&!isNaN(H);k=I.length&&y(z)&&y(fa);ya=D?ta:qa;A=ya/(fa-
z||1);za=D?Q:Ga;if(k||Ma){if(ea&&!aa)for(k=z+(la[0]-z)%ea,k;k<=fa;k+=ea)Hb[k]||(Hb[k]=new v(k,!0)),J&&Hb[k].isNew&&Hb[k].render(null,!0),Hb[k].isActive=!0,Hb[k].render();B(la,function(f,a){if(!Ma||f>=z&&f<=fa)J&&Ya[f].isNew&&Ya[f].render(a,!0),Ya[f].isActive=!0,Ya[f].render(a)});d&&B(la,function(f,a){0===a%2&&f<fa&&(ka[f]||(ka[f]=new n),ka[f].options={from:f,to:la[a+1]!==Fa?la[a+1]:fa,color:d},ka[f].render(),ka[f].isActive=!0)});m||B((a.plotLines||[]).concat(a.plotBands||[]),function(f){T.push((new n(f)).render())})}B([Ya,
Hb,ka],function(f){for(var a in f)f[a].isActive?f[a].isActive=!1:(f[a].destroy(),delete f[a])});b&&(k=Q+(s?ta:0)+ia,F=M-Ga-(s?qa:0)+ia,k=ca.crispLine(["M",D?Q:k,D?F:R,"L",D?Ka-La:k,D?F:M-Ga],b),C?C.animate({d:k}):C=ca.path(k).attr({stroke:a.lineColor,"stroke-width":b,zIndex:7}).add());h.axisTitle&&(k=D?Q:R,b=e(g.style.fontSize||12),k={low:k+(D?0:ya),middle:k+ya/2,high:k+(D?ya:0)}[g.align],b=(D?R+qa:Q)+(D?1:-1)*(s?-1:1)*Ba+(2==x?b:0),h.axisTitle[m?"animate":"attr"]({x:D?k:b+(s?ta:0)+ia+(g.x||0),y:D?
b-(s?qa:0)+ia:k+(g.y||0)}));h.isDirty=!1}function p(f){for(var a=0;a<T.length;a++)T[a].id==f&&T[a].destroy()}var N=a.isX,s=a.opposite,D=Ha?!N:N,x=D?s?0:2:s?1:3,r={};a=ma(N?Ra:Ub,[ac,da,Vb,ga][x],a);var h=this,l="datetime"==a.type,ia=a.offset||0,P=N?"x":"y",ya,A,t,za=D?Q:Ga,Ja,w,ha,G,C,Oa,ja,I,S,vb,fa=null,z=null,H,Zb,L=a.minPadding,X=a.maxPadding,Ma=y(a.linkedTo),bc,Z,U,W=a.events,ba,T=[],Ea,ea,$,la,Ya={},Hb={},ka={},oa,na,Ba,ua,aa=a.categories,fc=a.labels.formatter||function(){var f=this.value;return ua?
Pb(ua,f):0===Ea%1E6?f/1E6+"M":0===Ea%1E3?f/1E3+"k":!aa&&1E3<=f?eb(f,0):f},Da=D&&a.labels.staggerLines,xa=a.reversed,Aa=aa&&"between"==a.tickmarkPlacement?.5:0;v.prototype={addLabel:function(){var f=this.pos,v=a.labels,n=!(f==z&&!q(a.showFirstLabel,1)||f==fa&&!q(a.showLastLabel,0)),g=aa&&D&&aa.length&&!v.step&&!v.staggerLines&&!v.rotation&&ta/aa.length||!D&&ta/2,d=this.label,f=fc.call({isFirst:f==la[0],isLast:f==la[la.length-1],dateTimeLabelFormat:ua,value:aa&&aa[f]?aa[f]:f}),g=g&&{width:g-2*(v.padding||
10)+"px"},g=b(g,v.style);d===Fa?this.label=y(f)&&n&&v.enabled?ca.text(f,0,0).attr({align:v.align,rotation:v.rotation}).css(g).add(ha):null:d&&d.attr({text:f}).css(g)},getLabelSize:function(){var f=this.label;return f?(this.labelBBox=f.getBBox())[D?"height":"width"]:0},render:function(f,v){var n=!this.minor,g=this.label,d=this.pos,k=a.labels,b=this.gridLine,F=n?a.gridLineWidth:a.minorGridLineWidth,m=n?a.gridLineColor:a.minorGridLineColor,J=n?a.gridLineDashStyle:a.minorGridLineDashStyle,O=this.mark,
p=n?a.tickLength:a.minorTickLength,N=n?a.tickWidth:a.minorTickWidth||0,x=n?a.tickColor:a.minorTickColor,e=n?a.tickPosition:a.minorTickPosition,n=k.step,r=v&&Wa||M,h;h=D?Ja(d+Aa,null,null,v)+za:Q+ia+(s?(v&&Ca||Ka)-La-Q:0);r=D?r-Ga+ia-(s?qa:0):r-Ja(d+Aa,null,null,v)-za;F&&(d=w(d+Aa,F,v),b===Fa&&(b={stroke:m,"stroke-width":F},J&&(b.dashstyle=J),this.gridLine=b=F?ca.path(d).attr(b).add(G):null),b&&d&&b.animate({d:d}));N&&("inside"==e&&(p=-p),s&&(p=-p),F=ca.crispLine(["M",h,r,"L",h+(D?0:-p),r+(D?p:0)],
N),O?O.animate({d:F}):this.mark=ca.path(F).attr({stroke:x,"stroke-width":N}).add(ha));if(g){h=h+k.x-(Aa&&D?Aa*A*(xa?-1:1):0);r=r+k.y-(Aa&&!D?Aa*A*(xa?1:-1):0);y(k.y)||(r+=.9*parseInt(g.styles.lineHeight)-g.getBBox().height/2);Da&&(r+=f%Da*16);if(n)g[f%n?"hide":"show"]();g[this.isNew?"attr":"animate"]({x:h,y:r})}this.isNew=!1},destroy:function(){for(var f in this)this[f]&&this[f].destroy&&this[f].destroy()}};n.prototype={render:function(){var f=this,a=f.options,v=a.label,n=f.label,g=a.width,d=a.to,
k,b=a.from,F=a.dashStyle,m=f.svgElem,J=[],O,p,N=a.color;p=a.zIndex;var s=a.events;if(g)J=w(a.value,g),a={stroke:N,"stroke-width":g},F&&(a.dashstyle=F);else if(y(b)&&y(d))b=V(b,z),d=Y(d,fa),k=w(d),(J=w(b))&&k?J.push(k[4],k[5],k[1],k[2]):J=null,a={fill:N};else return;y(p)&&(a.zIndex=p);if(m)J?m.animate({d:J},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()});else if(J&&J.length&&(f.svgElem=m=ca.path(J).attr(a).add(),s))for(O in F=function(a){m.on(a,function(v){s[a].apply(f,[v])})},s)F(O);
v&&y(v.text)&&J&&J.length&&0<ta&&0<qa?(v=ma({align:D&&k&&"center",x:D?!k&&4:10,verticalAlign:!D&&k&&"middle",y:D?k?16:10:k?6:-4,rotation:D&&!k&&90},v),n||(f.label=n=ca.text(v.text,0,0).attr({align:v.textAlign||v.align,rotation:v.rotation,zIndex:p}).css(v.style).add()),k=[J[1],J[4],J[6]||J[1]],J=[J[2],J[5],J[7]||J[2]],O=Y.apply(pa,k),p=Y.apply(pa,J),n.align(v,!1,{x:O,y:p,width:V.apply(pa,k)-O,height:V.apply(pa,J)-p}),n.show()):n&&n.hide();return f},destroy:function(){for(var f in this)this[f]&&this[f].destroy&&
this[f].destroy(),delete this[f];u(T,this)}};Ja=function(f,a,v,n){var g=1,d=0,k=n?t:A;n=n?H:z;k||(k=A);v&&(g*=-1,d=ya);xa&&(g*=-1,d-=g*ya);a?(xa&&(f=ya-f),f=f/k+n):f=g*(f-n)*k+d;return f};w=function(f,a,v){var n,g,d;f=Ja(f,null,null,v);var k=v&&Wa||M,b=v&&Ca||Ka,F;v=g=E(f+za);n=d=E(k-f-za);if(isNaN(f))F=!0;else if(D){if(n=R,d=k-Ga,v<Q||v>Q+ta)F=!0}else if(v=Q,g=b-La,n<R||n>R+qa)F=!0;return F?null:ca.crispLine(["M",v,n,"L",g,d],a||0)};Ha&&N&&xa===Fa&&(xa=!0);b(h,{addPlotBand:J,addPlotLine:J,adjustTickAmount:function(){if(lb&&
!l&&!aa&&!Ma){var f=oa,a=la.length;oa=lb[P];if(a<oa){for(;la.length<oa;)la.push(k(la[la.length-1]+Ea));A*=(a-1)/(oa-1);fa=la[la.length-1]}y(f)&&oa!=f&&(h.isDirty=!0)}},categories:aa,getExtremes:function(){return{min:z,max:fa,dataMin:Oa,dataMax:ja}},getPlotLinePath:w,getThreshold:function(f){z>f?f=z:fa<f&&(f=fa);return Ja(f,0,1)},isXAxis:N,options:a,plotLinesAndBands:T,getOffset:function(){var f=I.length&&y(z)&&y(fa),n=0,g=0,d=a.title,k=a.labels,b=[-1,1,1,-1][x];ha||(ha=ca.g("axis").attr({zIndex:7}).add(),
G=ca.g("grid").attr({zIndex:1}).add());na=0;if(f||Ma)B(la,function(f){Ya[f]?Ya[f].addLabel():Ya[f]=new v(f);if(0===x||2==x||{1:"left",3:"right"}[x]==k.align)na=V(Ya[f].getLabelSize(),na)}),Da&&(na+=16*(Da-1));else for(var F in Ya)Ya[F].destroy(),delete Ya[F];d&&d.text&&(h.axisTitle||(h.axisTitle=ca.text(d.text,0,0).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add()),n=h.axisTitle.getBBox()[D?"height":"width"],g=q(d.margin,
D?5:10));ia=b*(a.offset||ub[x]);Ba=na+(2!=x&&na&&b*a.labels[D?"y":"x"])+g;ub[x]=V(ub[x],Ba+n+b*ia)},render:O,setCategories:function(a,v){h.categories=aa=a;B(I,function(f){f.translate();f.setTooltipPoints(!0)});h.isDirty=!0;q(v,!0)&&f.redraw()},setExtremes:function(a,v,n,g){n=q(n,!0);wa(h,"setExtremes",{min:a,max:v},function(){S=a;vb=v;n&&f.redraw(g)})},setScale:m,setTickPositions:F,translate:Ja,redraw:function(){Ua.resetTracker&&Ua.resetTracker();O();B(T,function(f){f.render()});B(I,function(f){f.isDirty=
!0})},removePlotBand:p,removePlotLine:p,reversed:xa,stacks:r});for(ba in W)ra(h,ba,W[ba]);m()}function m(f){var v={};return{add:function(f,n,g,d){v[f]||(n=ca.text(n,0,0).css(a.toolbar.itemStyle).align({align:"right",x:-La-20,y:R+30}).on("click",d).attr({align:"right",zIndex:20}).add(),v[f]=n)},remove:function(f){ea(v[f].element);v[f]=null}}}function p(f){function a(){var f=this.points||ba(this),v=f[0].series.xAxis,n=this.x,v=v&&"datetime"==v.options.type,g=h(n)||v,d;d=g?['<span style="font-size: 10px">',
v?Pb("%A, %b %e, %Y",n):n,"</span><br/>"]:[];B(f,function(f){d.push(f.point.tooltipFormatter(g))});return d.join("")}function v(f,a){s=p?f:(2*s+f)/3;x=p?a:(x+a)/2;r.translate(s,x);kb=1<T(f-s)||1<T(a-x)?function(){v(f,a)}:null}function n(){if(!p){var f=G.hoverPoints;r.hide();B(b,function(f){f&&f.hide()});f&&B(f,function(f){f.setState()});G.hoverPoints=null;p=!0}}var g,d=f.borderWidth,k=f.crosshairs,b=[],F=f.style,m=f.shared,J=e(F.padding),O=d+J,p=!0,D,N,s=0,x=0;F.padding=0;var r=ca.g("tooltip").attr({zIndex:8}).add(),
l=ca.rect(O,O,0,0,f.borderRadius,d).attr({fill:f.backgroundColor,"stroke-width":d}).add(r).shadow(f.shadow),ia=ca.text("",J+O,e(F.fontSize)+J+O).attr({zIndex:1}).css(F).add(r);r.hide();return{shared:m,refresh:function(d){var F,s,x,e=0,h={},La=[];x=d.tooltipPos;F=f.formatter||a;var h=G.hoverPoints,Ga=function(f){return{series:f.series,point:f,x:f.category,y:f.y,percentage:f.percentage,total:f.total||f.stackTotal}};m?(h&&B(h,function(f){f.setState()}),G.hoverPoints=d,B(d,function(f,a){f.setState("hover");
e+=f.plotY;La.push(Ga(f))}),s=d[0].plotX,e=E(e)/d.length,h={x:d[0].category},h.points=La,d=d[0]):h=Ga(d);h=F.call(h);g=d.series;s=m?s:d.plotX;e=m?e:d.plotY;F=E(x?x[0]:Ha?ta-e:s);s=E(x?x[1]:Ha?qa-s:e);x=m||!d.series.isCartesian||Aa(F,s);!1!==h&&x?(p&&(r.show(),p=!1),ia.attr({text:h}),x=ia.getBBox(),D=x.width+2*J,N=x.height+2*J,l.attr({width:D,height:N,stroke:f.borderColor||d.color||g.color||"#606060"}),F=F-D+Q-25,s=s-N+R+10,7>F&&(F=7,s-=30),5>s?s=5:s+N>M&&(s=M-N-5),v(E(F-O),E(s-O))):n();if(k){k=ba(k);
s=k.length;for(var P;s--;)k[s]&&(P=d.series[s?"yAxis":"xAxis"])&&(F=P.getPlotLinePath(d[s?"y":"x"],1),b[s]?b[s].attr({d:F,visibility:"visible"}):(x={"stroke-width":k[s].width||1,stroke:k[s].color||"#C0C0C0",zIndex:2},k[s].dashStyle&&(x.dashstyle=k[s].dashStyle),b[s]=ca.path(F).attr(x).add()))}},hide:n}}function x(f,a){function v(f){var a;f=f||w.event;f.target||(f.target=f.srcElement);a=f.touches?f.touches.item(0):f;if("mousemove"!=f.type||w.opera){for(var n=ha,g={left:n.offsetLeft,top:n.offsetTop};n=
n.offsetParent;)g.left+=n.offsetLeft,g.top+=n.offsetTop,n!=$.body&&n!=$.documentElement&&(g.left-=n.scrollLeft,g.top-=n.scrollTop);$a=g}Kb?(f.chartX=f.x,f.chartY=f.y):a.layerX===Fa?(f.chartX=a.pageX-$a.left,f.chartY=a.pageY-$a.top):(f.chartX=f.layerX,f.chartY=f.layerY);return f}function n(f){var a={xAxis:[],yAxis:[]};B(Da,function(v,n){var g=v.translate,d=v.isXAxis;a[d?"xAxis":"yAxis"].push({axis:v,value:g((Ha?!d:d)?f.chartX-Q:qa-f.chartY+R,!0)})});return a}function g(){var a=f.hoverSeries,v=f.hoverPoint;
if(v)v.onMouseOut();if(a)a.onMouseOut();Ta&&Ta.hide();qb=null}function d(){if(J){var a={xAxis:[],yAxis:[]},v=J.getBBox(),n=v.x-Q,g=v.y-R;m&&(B(Da,function(f,d){var k=f.translate,b=f.isXAxis,F=Ha?!b:b,m=k(F?n:qa-g-v.height,!0),k=k(F?n+v.width:qa-g,!0);a[b?"xAxis":"yAxis"].push({axis:f,min:Y(m,k),max:V(m,k)})}),wa(f,"selection",a,Cb));J=J.destroy()}f.mouseIsDown=ab=m=!1;Va($,na?"touchend":"mouseup",d)}var k,F,m,J,O=K.zoomType,s=/x/.test(O),D=/y/.test(O),N=s&&!Ha||D&&Ha,x=D&&!Ha||s&&Ha;cb=function(){bb?
(bb.translate(Q,R),Ha&&bb.attr({width:f.plotWidth,height:f.plotHeight}).invert()):f.trackerGroup=bb=ca.g("tracker").attr({zIndex:9}).add()};cb();a.enabled&&(f.tooltip=Ta=p(a));(function(){var O=!0;ha.onmousedown=function(a){a=v(a);f.mouseIsDown=ab=!0;k=a.chartX;F=a.chartY;ra($,na?"touchend":"mouseup",d)};var p=function(n){if(!(n&&n.touches&&1<n.touches.length)){n=v(n);na||(n.returnValue=!1);var d=n.chartX,b=n.chartY,p=!Aa(d-Q,b-R);na&&"touchstart"==n.type&&(z(n.target,"isTracker")?f.runTrackerClick||
n.preventDefault():Za||p||n.preventDefault());p&&(O||g(),d<Q?d=Q:d>Q+ta&&(d=Q+ta),b<R?b=R:b>R+qa&&(b=R+qa));if(ab&&"touchstart"!=n.type){if(m=10<Math.sqrt(Math.pow(k-d,2)+Math.pow(F-b,2)))Qb&&(s||D)&&Aa(k-Q,F-R)&&(J||(J=ca.rect(Q,R,N?1:ta,x?1:qa,0).attr({fill:"rgba(69,114,167,0.25)",zIndex:7}).add())),J&&N&&(d-=k,J.attr({width:T(d),x:(0<d?0:d)+k})),J&&x&&(b-=F,J.attr({height:T(b),y:(0<b?0:b)+F}))}else if(!p){var r,b=f.hoverPoint,d=f.hoverSeries,e,h,l=Ka,ia=Ha?n.chartY:n.chartX-Q;if(Ta&&a.shared){r=
[];e=va.length;for(h=0;h<e;h++)va[h].visible&&va[h].tooltipPoints.length&&(n=va[h].tooltipPoints[ia],n._dist=T(ia-n.plotX),l=Y(l,n._dist),r.push(n));for(e=r.length;e--;)r[e]._dist>l&&r.splice(e,1);r.length&&r[0].plotX!=qb&&(Ta.refresh(r),qb=r[0].plotX)}if(d&&d.tracker&&(n=d.tooltipPoints[ia])&&n!=b)n.onMouseOver()}return(O=p)||!Qb}};ha.onmousemove=p;ra(ha,"mouseleave",g);ha.ontouchstart=function(f){if(s||D)ha.onmousedown(f);p(f)};ha.ontouchmove=p;ha.ontouchend=function(){m&&g()};ha.onclick=function(a){var g=
f.hoverPoint;a=v(a);a.cancelBubble=!0;if(!m)if(g&&z(a.target,"isTracker")){var d=g.plotX,k=g.plotY;b(g,{pageX:$a.left+Q+(Ha?ta-k:d),pageY:$a.top+R+(Ha?qa-d:k)});wa(g.series,"click",b(a,{point:g}));g.firePointEvent("click",a)}else b(a,n(a)),Aa(a.chartX-Q,a.chartY-R)&&wa(f,"click",a);m=!1}})();xb=setInterval(function(){kb&&kb()},32);b(this,{zoomX:s,zoomY:D,resetTracker:g})}function r(f){var a=f.type||K.type||K.defaultSeriesType,v=xa[a],n=G.hasRendered;n&&(Ha&&"column"==a?v=xa.bar:Ha||"bar"!=a||(v=xa.column));
a=new v;a.init(G,f);!n&&a.inverted&&(Ha=!0);a.isCartesian&&(Qb=a.isCartesian);va.push(a);return a}function ia(){!1!==K.alignTicks&&B(Da,function(f){f.adjustTickAmount()});lb=null}function ya(f){var a=G.isDirtyLegend,v,n=G.isDirtyBox,g=va.length,d=g,k=G.clipRect;for(db(f,G);d--;)if(f=va[d],f.isDirty&&f.options.stacking){v=!0;break}if(v)for(d=g;d--;)f=va[d],f.options.stacking&&(f.isDirty=!0);B(va,function(f){f.isDirty&&(f.cleanData(),f.getSegments(),"point"==f.options.legendType&&(a=!0))});a&&gb.renderLegend&&
(gb.renderLegend(),G.isDirtyLegend=!1);Qb&&(Rb||(lb=null,B(Da,function(f){f.setScale()})),ia(),Wb(),B(Da,function(f){if(f.isDirty||n)f.redraw(),n=!0}));n&&(yb(),cb(),k&&(Gb(k),k.animate({width:G.plotSizeX,height:G.plotSizeY})));B(va,function(f){f.isDirty&&f.visible&&(!f.isCartesian||f.xAxis)&&f.redraw()});Ua&&Ua.resetTracker&&Ua.resetTracker();wa(G,"redraw")}function P(){var f=a.xAxis||{},v=a.yAxis||{},n,f=ba(f);B(f,function(f,a){f.index=a;f.isX=!0});v=ba(v);B(v,function(f,a){f.index=a});Da=f.concat(v);
G.xAxis=[];G.yAxis=[];Da=mb(Da,function(f){n=new d(G,f);G[n.isXAxis?"xAxis":"yAxis"].push(n);return n});ia()}function A(f,v){D=ma(a.title,f);s=ma(a.subtitle,v);B([["title",f,D],["subtitle",v,s]],function(f){var a=f[0],v=G[a],n=f[1];f=f[2];v&&n&&(v.destroy(),v=null);f&&f.text&&!v&&(G[a]=ca.text(f.text,0,0).attr({align:f.align,"class":"highcharts-"+a,zIndex:1}).css(f.style).add().align(f,!1,N))})}function t(){za=K.renderTo;X="highcharts-"+Xb++;h(za)&&(za=$.getElementById(za));za.innerHTML="";za.offsetWidth||
(Ja=za.cloneNode(0),Z(Ja,{position:"absolute",top:"-9999px",display:""}),$.body.appendChild(Ja));U=(Ja||za).offsetWidth;W=(Ja||za).offsetHeight;G.chartWidth=Ka=K.width||U||600;G.chartHeight=M=K.height||(19<W?W:400);G.container=ha=ka("div",{className:"highcharts-container"+(K.className?" "+K.className:""),id:X},b({position:"relative",overflow:"hidden",width:Ka+"px",height:M+"px",textAlign:"left"},K.style),Ja||za);G.renderer=ca=K.forExport?new Ib(ha,Ka,M,!0):new Yb(ha,Ka,M);var f,a;oa&&ha.getBoundingClientRect&&
(f=function(){Z(ha,{left:0,top:0});a=ha.getBoundingClientRect();Z(ha,{left:-a.left%1+"px",top:-a.top%1+"px"})},f(),ra(w,"resize",f),ra(G,"destroy",function(){Va(w,"resize",f)}))}function ja(){function f(){var v=K.width||za.offsetWidth,n=K.height||za.offsetHeight;if(v&&n){if(v!=U||n!=W)clearTimeout(a),a=setTimeout(function(){Bb(v,n,!1)},100);U=v;W=n}}var a;ra(window,"resize",f);ra(G,"destroy",function(){Va(window,"resize",f)})}function C(){var f=a.labels,v=a.credits,n;A();gb=G.legend=new $b(G);Wb();
B(Da,function(f){f.setTickPositions(!0)});ia();Wb();yb();Qb&&B(Da,function(f){f.render()});G.seriesGroup||(G.seriesGroup=ca.g("series-group").attr({zIndex:3}).add());B(va,function(f){f.translate();f.setTooltipPoints();f.render()});f.items&&B(f.items,function(){var a=b(f.style,this.style),v=e(a.left)+Q,n=e(a.top)+R+12;delete a.left;delete a.top;ca.text(this.html,v,n).attr({zIndex:2}).css(a).add()});G.toolbar||(G.toolbar=m(G));v.enabled&&!G.credits&&(n=v.href,ca.text(v.text,0,0).on("click",function(){n&&
(location.href=n)}).attr({align:v.position.align,zIndex:8}).css(v.style).add().align(v.position));cb();G.hasRendered=!0;Ja&&(za.appendChild(ha),ea(Ja))}function I(){var f=va.length,a=ha&&ha.parentNode;wa(G,"destroy");Va(w,"unload",I);Va(G);for(B(Da,function(f){Va(f)});f--;)va[f].destroy();y(ha)&&(ha.innerHTML="",Va(ha),a&&a.removeChild(ha));ha=null;ca.alignedObjects=null;clearInterval(xb);for(f in G)delete G[f]}function H(){L||w.parent||"complete"==$.readyState?(t(),zb(),Ab(),B(a.series||[],function(f){r(f)}),
G.inverted=Ha=q(Ha,a.chart.inverted),P(),G.render=C,G.tracker=Ua=new x(G,a.tooltip),C(),wa(G,"load"),g&&g.apply(G,[G]),B(G.callbacks,function(f){f.apply(G,[G])})):$.attachEvent("onreadystatechange",function(){$.detachEvent("onreadystatechange",H);H()})}Ra=ma(Ra,Ia.xAxis);Ub=ma(Ub,Ia.yAxis);Ia.xAxis=Ia.yAxis=null;a=ma(Ia,a);var K=a.chart,S=K.margin,S=l(S)?S:[S,S,S,S],Ma=q(K.marginTop,S[0]),f=q(K.marginRight,S[1]),v=q(K.marginBottom,S[2]),n=q(K.marginLeft,S[3]),F=K.spacingTop,J=K.spacingRight,k=K.spacingBottom,
O=K.spacingLeft,N,D,s,R,La,Ga,Q,ub,za,Ja,ha,X,U,W,Ka,M,Ca,Wa,Ba,ua,aa,Qa,G=this,Za=(S=K.events)&&!!S.click,Xa,Aa,Ta,ab,Pa,hb,fb,qa,ta,Ua,bb,cb,gb,nb,ob,$a,Qb=K.showAxes,Rb=0,Da=[],lb,va=[],Ha,ca,kb,xb,qb,yb,Wb,zb,Ab,Bb,Cb,Sb,$b=function(f){function a(f,v){var n=f.legendItem,g=f.legendLine,d=f.legendSymbol,k=r.color,b=v?F.itemStyle.color:k,k=v?f.color:k;n&&n.css({fill:b});g&&g.attr({stroke:k});d&&d.attr({stroke:k,fill:k})}function v(f,a,n){var g=f.legendItem,d=f.legendLine,k=f.legendSymbol;f=f.checkbox;
g&&g.attr({x:a,y:n});d&&d.translate(a,n-4);k&&k.attr({x:a+k.xOff,y:n+k.yOff});f&&(f.x=a,f.y=n)}function n(f){var a=f.checkbox;B(["legendItem","legendLine","legendSymbol"],function(a){f[a]&&f[a].destroy()});a&&ea(f.checkbox)}function g(){B(O,function(f){var a=f.checkbox;a&&Z(a,{left:A.attr("translateX")+f.legendItemWidth+a.x-40+"px",top:A.attr("translateY")+a.y-11+"px"})})}function d(f){var n,g,k,b,s,N=f.legendItem;b=f.series||f;if(!N){s=/^(bar|pie|area|column)$/.test(b.type);f.legendItem=N=ca.text(F.labelFormatter.call(f),
0,0).css(f.visible?D:r).on("mouseover",function(){f.setState("hover");N.css(x)}).on("mouseout",function(){N.css(f.visible?D:r);f.setState()}).on("click",function(a){a=function(){f.setVisible()};f.firePointEvent?f.firePointEvent("legendItemClick",null,a):wa(f,"legendItemClick",null,a)}).attr({zIndex:2}).add(A);if(!s&&f.options&&f.options.lineWidth){var e=f.options;b={"stroke-width":e.lineWidth,zIndex:2};e.dashStyle&&(b.dashstyle=e.dashStyle);f.legendLine=ca.path(["M",-J-p,0,"L",-p,0]).attr(b).add(A)}s?
n=ca.rect(g=-J-p,k=-11,J,12,2).attr({"stroke-width":0,zIndex:3}).add(A):f.options&&f.options.marker&&f.options.marker.enabled&&(n=ca.symbol(f.symbol,g=-J/2-p,k=-4,f.options.marker.radius).attr(f.pointAttr[""]).attr({zIndex:3}).add(A));n&&(n.xOff=g,n.yOff=k);f.legendSymbol=n;a(f,f.visible);f.options&&f.options.showCheckbox&&(f.checkbox=ka("input",{type:"checkbox",checked:f.selected,defaultChecked:f.selected},F.itemCheckboxStyle,ha),ra(f.checkbox,"click",function(a){wa(f,"checkboxClick",{checked:a.target.checked},
function(){f.select()})}))}n=N.getBBox();g=f.legendItemWidth=F.itemWidth||J+p+n.width+20;Ga=n.height;m&&l-R+g>(za||Ka-2*h-R)&&(l=R,ia+=Ga);La=ia;v(f,l,ia);m?l+=g:ia+=Ga;q=za||V(m?l-R:g,q);O.push(f)}function k(){l=R;ia=18;La=q=0;O=[];A||(A=ca.g("legend").attr({zIndex:7}).add());t&&Ja.reverse();B(Ja,function(f){f.options.showInLegend&&B("point"==f.options.legendType?f.data:[f],d)});t&&Ja.reverse();nb=za||q;ob=La-18+Ga;if(ya||Q)nb+=2*h,ob+=2*h,P?0<nb&&0<ob&&P.animate({width:nb,height:ob}):P=ca.rect(0,
0,nb,ob,F.borderRadius,ya||0).attr({stroke:F.borderColor,"stroke-width":ya||0,fill:Q||"none"}).add(A).shadow(F.shadow),P[O.length?"show":"hide"]();for(var f=["left","right","top","bottom"],a,v=4;v--;)a=f[v],s[a]&&"auto"!=s[a]&&(F[2>v?"align":"verticalAlign"]=a,F[2>v?"x":"y"]=e(s[a])*(v%2?-1:1));A.align(b(F,{width:nb,height:ob}),!0,N);Rb||g()}var F=f.options.legend;if(F.enabled){var m="horizontal"==F.layout,J=F.symbolWidth,p=F.symbolPadding,O,s=F.style,D=F.itemStyle,x=F.itemHoverStyle,r=F.itemHiddenStyle,
h=e(s.padding),R=4+h+J+p,l,ia,La,Ga=0,P,ya=F.borderWidth,Q=F.backgroundColor,A,q,za=F.width,Ja=f.series,t=F.reversed;k();ra(f,"endResize",g);return{colorizeItem:a,destroyItem:n,renderLegend:k}}};Aa=function(f,a){return 0<=f&&f<=ta&&0<=a&&a<=qa};Sb=function(){wa(G,"selection",{resetSelection:!0},Cb);G.toolbar.remove("zoom")};Cb=function(f){var a=Ia.lang,v=100>G.pointCount;G.toolbar.add("zoom",a.resetZoom,a.resetZoomTitle,Sb);!f||f.resetSelection?B(Da,function(f){f.setExtremes(null,null,!1,v)}):B(f.xAxis.concat(f.yAxis),
function(f){var a=f.axis;G.tracker[a.isXAxis?"zoomX":"zoomY"]&&a.setExtremes(f.min,f.max,!1,v)});ya()};Wb=function(){var g=a.legend,d=q(g.margin,10),b=g.x,m=g.y,p=g.align,N=g.verticalAlign,x;zb();!G.title&&!G.subtitle||y(Ma)||(x=V(G.title&&!D.floating&&!D.verticalAlign&&D.y||0,G.subtitle&&!s.floating&&!s.verticalAlign&&s.y||0))&&(R=V(R,x+q(D.margin,15)+F));g.enabled&&!g.floating&&("right"==p?y(f)||(La=V(La,nb-b+d+J)):"left"==p?y(n)||(Q=V(Q,nb+b+d+O)):"top"==N?y(Ma)||(R=V(R,ob+m+d+F)):"bottom"==N&&
(y(v)||(Ga=V(Ga,ob-m+d+k))));Qb&&B(Da,function(f){f.getOffset()});y(n)||(Q+=ub[3]);y(Ma)||(R+=ub[0]);y(v)||(Ga+=ub[2]);y(f)||(La+=ub[1]);Ab()};Bb=function(f,a,v){var n=G.title,g=G.subtitle;Rb+=1;db(v,G);Wa=M;Ca=Ka;Ka=E(f);M=E(a);Z(ha,{width:Ka+"px",height:M+"px"});ca.setSize(Ka,M,v);ta=Ka-Q-La;qa=M-R-Ga;lb=null;B(Da,function(f){f.isDirty=!0;f.setScale()});B(va,function(f){f.isDirty=!0});G.isDirtyLegend=!0;G.isDirtyBox=!0;Wb();n&&n.align(null,null,N);g&&g.align(null,null,N);ya(v);Wa=null;wa(G,"resize");
setTimeout(function(){wa(G,"endResize",null,function(){Rb-=1})},Lb&&Lb.duration||500)};Ab=function(){G.plotLeft=Q=E(Q);G.plotTop=R=E(R);G.plotWidth=ta=E(Ka-Q-La);G.plotHeight=qa=E(M-R-Ga);G.plotSizeX=Ha?qa:ta;G.plotSizeY=Ha?ta:qa;N={x:O,y:F,width:Ka-O-J,height:M-F-k}};zb=function(){R=q(Ma,F);La=q(f,J);Ga=q(v,k);Q=q(n,O);ub=[0,0,0,0]};yb=function(){var f=K.borderWidth||0,a=K.backgroundColor,v=K.plotBackgroundColor,n=K.plotBackgroundImage,g,d={x:Q,y:R,width:ta,height:qa};g=f+(K.shadow?8:0);if(f||a)Ba?
Ba.animate({width:Ka-g,height:M-g}):Ba=ca.rect(g/2,g/2,Ka-g,M-g,K.borderRadius,f).attr({stroke:K.borderColor,"stroke-width":f,fill:a||"none"}).add().shadow(K.shadow);v&&(ua?ua.animate(d):ua=ca.rect(Q,R,ta,qa,0).attr({fill:v}).add().shadow(K.plotShadow));n&&(aa?aa.animate(d):aa=ca.image(n,Q,R,ta,qa).add());K.plotBorderWidth&&(Qa?Qa.animate(d):Qa=ca.rect(Q,R,ta,qa,0,K.plotBorderWidth).attr({stroke:K.plotBorderColor,"stroke-width":K.plotBorderWidth,zIndex:4}).add());G.isDirtyBox=!1};pb=Sa=0;ra(w,"unload",
I);!1!==K.reflow&&ra(G,"load",ja);if(S)for(Xa in S)ra(G,Xa,S[Xa]);G.options=a;G.series=va;G.addSeries=function(f,a,v){var n;f&&(db(v,G),a=q(a,!0),wa(G,"addSeries",{options:f},function(){n=r(f);n.isDirty=!0;G.isDirtyLegend=!0;a&&G.redraw()}));return n};G.animation=q(K.animation,!0);G.destroy=I;G.get=function(f){var a,v,n;for(a=0;a<Da.length;a++)if(Da[a].options.id==f)return Da[a];for(a=0;a<va.length;a++)if(va[a].options.id==f)return va[a];for(a=0;a<va.length;a++)for(n=va[a].data,v=0;v<n.length;v++)if(n[v].id==
f)return n[v];return null};G.getSelectedPoints=function(){var f=[];B(va,function(a){f=f.concat(wb(a.data,function(f){return f.selected}))});return f};G.getSelectedSeries=function(){return wb(va,function(f){return f.selected})};G.hideLoading=function(){Jb(Pa,{opacity:0},{duration:a.loading.hideDuration,complete:function(){Z(Pa,{display:"none"})}});fb=!1};G.isInsidePlot=Aa;G.redraw=ya;G.setSize=Bb;G.setTitle=A;G.showLoading=function(f){var v=a.loading;Pa||(Pa=ka("div",{className:"highcharts-loading"},
b(v.style,{left:Q+"px",top:R+"px",width:ta+"px",height:qa+"px",zIndex:10,display:"none"}),ha),hb=ka("span",null,v.labelStyle,Pa));hb.innerHTML=f||a.lang.loading;fb||(Z(Pa,{opacity:0,display:""}),Jb(Pa,{opacity:v.style.opacity},{duration:v.showDuration}),fb=!0)};G.pointCount=0;H()}var $=document,w=window,pa=Math,E=pa.round,sa=pa.floor,Na=pa.ceil,V=pa.max,Y=pa.min,T=pa.abs,U=pa.cos,M=pa.sin,Za=pa.PI,W=2*Za/360,Aa=navigator.userAgent,Kb=/msie/i.test(Aa)&&!w.opera,Pa=8==$.documentMode,Sb=/AppleWebKit/.test(Aa),
oa=/Firefox/.test(Aa),L=!!$.createElementNS&&!!$.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,na="ontouchstart"in $.documentElement,Sa,pb,xb={},Xb=0,Xa,Ia,Pb,Lb,gb,Fa,yb="rgba(192,192,192,"+(L?1E-6:.002)+")",rb,sb,tb,Mb,Db,Nb,ib,Eb,Ob,jb,Fb,Tb,Ta=w.HighchartsAdapter,Ba=Ta||{},B=Ba.each,wb=Ba.grep,mb=Ba.map,ma=Ba.merge,cb=Ba.hyphenate,ra=Ba.addEvent,Va=Ba.removeEvent,wa=Ba.fireEvent,Jb=Ba.animate,Gb=Ba.stop,xa={};Ta&&Ta.init&&Ta.init();if(!Ta&&w.jQuery){var C=jQuery,B=function(a,
g){for(var d=0,b=a.length;d<b;d++)if(!1===g.call(a[d],a[d],d,a))return d},wb=C.grep,mb=function(a,g){for(var d=[],b=0,p=a.length;b<p;b++)d[b]=g.call(a[b],a[b],b,a);return d},ma=function(){var a=arguments;return C.extend(!0,null,a[0],a[1],a[2],a[3])},cb=function(a){return a.replace(/([A-Z])/g,function(a,d){return"-"+d.toLowerCase()})},ra=function(a,g,d){C(a).bind(g,d)},Va=function(a,g,d){var b=$.removeEventListener?"removeEventListener":"detachEvent";$[b]&&!a[b]&&(a[b]=function(){});C(a).unbind(g,
d)},wa=function(a,g,d,m){var p=C.Event(g),x="detached"+g;b(p,d);a[g]&&(a[x]=a[g],a[g]=null);C(a).trigger(p);a[x]&&(a[g]=a[x],a[x]=null);m&&!p.isDefaultPrevented()&&m(p)},Jb=function(a,g,d){var b=C(a);g.d&&(a.toD=g.d,g.d=1);b.stop();b.animate(g,d)},Gb=function(a){C(a).stop()};C.extend(C.easing,{easeOutQuad:function(a,g,d,b,p){return-b*(g/=p)*(g-2)+d}});var zb=jQuery.fx.step._default,hb=jQuery.fx.prototype.cur;C.fx.step._default=function(a){var g=a.elem;g.attr?g.attr(a.prop,a.now):zb.apply(this,arguments)};
C.fx.step.d=function(a){var g=a.elem;if(!a.started){var d=gb.init(g,g.d,g.toD);a.start=d[0];a.end=d[1];a.started=!0}g.attr("d",gb.step(a.start,a.end,a.pos,g.toD))};C.fx.prototype.cur=function(){var a=this.elem;return a.attr?a.attr(this.prop):hb.apply(this,arguments)}}gb={init:function(a,g,d){g=g||"";var b=a.shift,p=-1<g.indexOf("C"),x=p?7:3,r;g=g.split(" ");d=[].concat(d);var e,h,l=function(a){for(r=a.length;r--;)"M"==a[r]&&a.splice(r+1,0,a[r+1],a[r+2],a[r+1],a[r+2])};p&&(l(g),l(d));a.isArea&&(e=
g.splice(g.length-6,6),h=d.splice(d.length-6,6));b&&(d=[].concat(d).splice(0,x).concat(d),a.shift=!1);if(g.length)for(a=d.length;g.length<a;)b=[].concat(g).splice(g.length-x,x),p&&(b[x-6]=b[x-2],b[x-5]=b[x-1]),g=g.concat(b);e&&(g=g.concat(e),d=d.concat(h));return[g,d]},step:function(a,g,d,b){var p=[],x=a.length;if(1==d)p=b;else if(x==g.length&&1>d)for(;x--;)b=parseFloat(a[x]),p[x]=isNaN(b)?a[x]:d*parseFloat(g[x]-b)+b;else p=g;return p}};var $a={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",
fontSize:"11px",lineHeight:"14px"}};Ia={colors:"#4572A7 #AA4643 #89A54E #80699B #3D96AE #DB843D #92A8CD #A47D7C #B5CA92".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},
global:{useUTC:!0},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0"},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,
showCheckbox:!1,animation:{duration:1E3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:ma($a,{enabled:!1,y:-6,formatter:function(){return this.y}}),showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},
borderWidth:1,borderColor:"#909090",borderRadius:5,shadow:!1,style:{padding:"5px"},itemStyle:{cursor:"pointer",color:"#3E576F"},itemHoverStyle:{cursor:"pointer",color:"#000000"},itemHiddenStyle:{color:"#C0C0C0"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{hideDuration:100,labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},showDuration:100,style:{position:"absolute",backgroundColor:"white",opacity:.5,
textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,shadow:!0,snap:na?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},toolbar:{itemStyle:{color:"#4572A7",cursor:"pointer"}},credits:{enabled:!1,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var Ra={dateTimeLabelFormats:{second:"%H:%M:%S",
minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:$a,lineColor:"#C0D0E0",lineWidth:1,max:null,min:null,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",
fontWeight:"bold"}},type:"linear"},Ub=ma(Ra,{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"}}),ga={labels:{align:"right",x:-8,y:null},title:{rotation:270}},da={labels:{align:"left",x:8,y:null},title:{rotation:90}},Vb={labels:{align:"center",x:0,y:14},title:{rotation:0}},ac=ma(Vb,{labels:{y:-5}}),ua=Ia.plotOptions,ab=ua.line;ua.spline=ma(ab);ua.scatter=
ma(ab,{lineWidth:0,states:{hover:{lineWidth:0}}});ua.area=ma(ab,{});ua.areaspline=ma(ua.area);ua.column=ma(ab,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});ua.bar=ma(ua.column,{dataLabels:{align:"left",x:5,y:0}});ua.pie=ma(ab,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,
formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});Wa();var Qa=function(a){var g=[],d;(function(a){if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(a))g=[e(d[1]),e(d[2]),e(d[3]),parseFloat(d[4],10)];else if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a))g=[e(d[1],16),e(d[2],16),e(d[3],16),1]})(a);return{get:function(d){return g&&
!isNaN(g[0])?"rgb"==d?"rgb("+g[0]+","+g[1]+","+g[2]+")":"a"==d?g[3]:"rgba("+g.join(",")+")":a},brighten:function(a){if(t(a)&&0!==a){var d;for(d=0;3>d;d++)g[d]+=e(255*a),0>g[d]&&(g[d]=0),255<g[d]&&(g[d]=255)}return this},setOpacity:function(a){g[3]=a;return this}}};Pb=function(a,g,d){function b(a){return a.toString().replace(/^([0-9])$/,"0$1")}if(!y(g)||isNaN(g))return"Invalid date";a=q(a,"%Y-%m-%d %H:%M:%S");g=new Date(1*g);var p=g[tb](),x=g[Mb](),r=g[Db](),e=g[Nb](),h=g[ib](),l=Ia.lang,A=l.weekdays,
l=l.months;g={a:A[x].substr(0,3),A:A[x],d:b(r),e:r,b:l[e].substr(0,3),B:l[e],m:b(e+1),y:h.toString().substr(2,2),Y:h,H:b(p),I:b(p%12||12),l:p%12||12,M:b(g[sb]()),p:12>p?"AM":"PM",P:12>p?"am":"pm",S:b(g.getSeconds())};for(var t in g)a=a.replace("%"+t,g[t]);return d?a.substr(0,1).toUpperCase()+a.substr(1):a};H.prototype={init:function(a,g){this.element=$.createElementNS("http://www.w3.org/2000/svg",g);this.renderer=a},animate:function(a,g,d){(g=q(g,Lb,!0))?(g=ma(g),d&&(g.complete=d),Jb(this,a,g)):(this.attr(a),
d&&d())},attr:function(a,g){var d,b,p,x,r=this.element,l=r.nodeName,q=this.renderer,P,A=this.shadows,t,w=this;h(a)&&y(g)&&(d=a,a={},a[d]=g);if(h(a))d=a,"circle"==l?d={x:"cx",y:"cy"}[d]||d:"strokeWidth"==d&&(d="stroke-width"),w=z(r,d)||this[d]||0,"d"!=d&&"visibility"!=d&&(w=parseFloat(w));else for(d in a){P=!1;b=a[d];if("d"==d)b&&b.join&&(b=b.join(" ")),/(NaN| {2}|^$)/.test(b)&&(b="M 0 0"),this.d=b;else if("x"==d&&"text"==l){for(p=0;p<r.childNodes.length;p++)x=r.childNodes[p],z(x,"x")==z(r,"x")&&z(x,
"x",b);this.rotation&&z(r,"transform","rotate("+this.rotation+" "+b+" "+e(a.y||z(r,"y"))+")")}else if("fill"==d)b=q.color(b,r,d);else if("circle"!=l||"x"!=d&&"y"!=d)if("translateX"==d||"translateY"==d||"rotation"==d||"verticalAlign"==d)this[d]=b,this.updateTransform(),P=!0;else if("stroke"==d)b=q.color(b,r,d);else if("dashstyle"==d){if(d="stroke-dasharray",b){b=b.toLowerCase().replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash",
"3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(p=b.length;p--;)b[p]=e(b[p])*a["stroke-width"];b=b.join(",")}}else"isTracker"==d?this[d]=b:"width"==d?b=e(b):"align"==d&&(d="text-anchor",b={left:"start",center:"middle",right:"end"}[b]);else d={x:"cx",y:"cy"}[d]||d;"strokeWidth"==d&&(d="stroke-width");Sb&&"stroke-width"==d&&0===b&&(b=1E-6);this.symbolName&&/^(x|y|r|start|end|innerR)/.test(d)&&(t||(this.symbolAttr(a),t=!0),P=!0);if(A&&
/^(width|height|visibility|x|y|d)$/.test(d))for(p=A.length;p--;)z(A[p],d,b);"text"==d?(this.textStr=b,this.added&&q.buildText(this)):P||z(r,d,b)}return w},symbolAttr:function(a){this.x=q(a.x,this.x);this.y=q(a.y,this.y);this.r=q(a.r,this.r);this.start=q(a.start,this.start);this.end=q(a.end,this.end);this.width=q(a.width,this.width);this.height=q(a.height,this.height);this.innerR=q(a.innerR,this.innerR);this.attr({d:this.renderer.symbols[this.symbolName](this.x,this.y,this.r,{start:this.start,end:this.end,
width:this.width,height:this.height,innerR:this.innerR})})},clip:function(a){return this.attr("clip-path","url("+this.renderer.url+"#"+a.id+")")},css:function(a){var g=this.element,g=a&&a.width&&"text"==g.nodeName;a&&a.color&&(a.fill=a.color);this.styles=a=b(this.styles,a);Kb&&!L?(g&&delete a.width,Z(this.element,a)):this.attr({style:I(a)});g&&this.added&&this.renderer.buildText(this);return this},on:function(a,g){var d=g;na&&"click"==a&&(a="touchstart",d=function(a){a.preventDefault();g()});this.element["on"+
a]=d;return this},translate:function(a,g){return this.attr({translateX:a,translateY:g})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var a=this.translateX||0,g=this.translateY||0,d=this.inverted,b=this.rotation,p=[];d&&(a+=this.attr("width"),g+=this.attr("height"));(a||g)&&p.push("translate("+a+","+g+")");d?p.push("rotate(90) scale(-1,1)"):b&&p.push("rotate("+b+" "+this.x+" "+this.y+")");p.length&&z(this.element,"transform",p.join(" "))},toFront:function(){var a=
this.element;a.parentNode.appendChild(a);return this},align:function(a,g,d){a?(this.alignOptions=a,this.alignByTranslate=g,d||this.renderer.alignedObjects.push(this)):(a=this.alignOptions,g=this.alignByTranslate);d=q(d,this.renderer);var b=a.align,p=a.verticalAlign,x=(d.x||0)+(a.x||0),e=(d.y||0)+(a.y||0),h={};/^(right|center)$/.test(b)&&(x+=(d.width-(a.width||0))/{right:1,center:2}[b]);h[g?"translateX":"x"]=x;/^(bottom|middle)$/.test(p)&&(e+=(d.height-(a.height||0))/({bottom:1,middle:2}[p]||1));h[g?
"translateY":"y"]=e;this[this.placed?"animate":"attr"](h);this.placed=!0;return this},getBBox:function(){var a,g,d,m=this.rotation,p=m*W;try{a=b({},this.element.getBBox())}catch(x){a={width:0,height:0}}g=a.width;d=a.height;m&&(a.width=T(d*M(p))+T(g*U(p)),a.height=T(d*U(p))+T(g*M(p)));return a},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(a){var g=this.renderer,d=a||g,b=d.element||g.box,p=b.childNodes,x=this.element,
r=z(x,"zIndex");this.parentInverted=a&&a.inverted;void 0!==this.textStr&&g.buildText(this);r&&(d.handleZ=!0,r=e(r));if(d.handleZ)for(d=0;d<p.length;d++)if(a=p[d],g=z(a,"zIndex"),a!=x&&(e(g)>r||!y(r)&&y(g)))return b.insertBefore(x,a),this;b.appendChild(x);this.added=!0;return this},destroy:function(){var a=this.element||{},g=this.shadows,d=a.parentNode,b;a.onclick=a.onmouseout=a.onmouseover=a.onmousemove=null;Gb(this);d&&d.removeChild(a);g&&B(g,function(a){(d=a.parentNode)&&d.removeChild(a)});u(this.renderer.alignedObjects,
this);for(b in this)delete this[b];return null},empty:function(){for(var a=this.element,g=a.childNodes,d=g.length;d--;)a.removeChild(g[d])},shadow:function(a){var g=[],d,b=this.element,p=this.parentInverted?"(-1,-1)":"(1,1)";if(a){for(a=1;3>=a;a++)d=b.cloneNode(0),z(d,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*a,"stroke-width":7-2*a,transform:"translate"+p,fill:"none"}),b.parentNode.insertBefore(d,b),g.push(d);this.shadows=g}return this}};var Ib=function(){this.init.apply(this,arguments)};
Ib.prototype={init:function(a,g,d,b){var p=location,x;this.Element=H;x=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});a.appendChild(x.element);this.box=x.element;this.boxWrapper=x;this.alignedObjects=[];this.url=Kb?"":p.href.replace(/#.*?$/,"");this.defs=this.createElement("defs").add();this.forExport=b;this.setSize(g,d,!1)},createElement:function(a){var g=new this.Element;g.init(this,a);return g},buildText:function(a){for(var g=a.element,d=q(a.textStr,"").toString().replace(/<(b|strong)>/g,
'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br[^>]?>/g),b=g.childNodes,p=/style="([^"]+)"/,x=/href="([^"]+)"/,r=z(g,"x"),h=a.styles,l=oa&&h&&"rtl"==h.HcDirection&&!this.forExport,P,A=h&&e(h.width),t=h&&h.lineHeight,w,y=b.length;y--;)g.removeChild(b[y]);A&&!a.added&&this.box.appendChild(g);B(d,function(a,d){var b,m=0,h;a=a.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");
b=a.split("|||");B(b,function(f){if(""!==f||1==b.length){var a={},n=$.createElementNS("http://www.w3.org/2000/svg","tspan");p.test(f)&&z(n,"style",f.match(p)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));x.test(f)&&(z(n,"onclick",'location.href="'+f.match(x)[1]+'"'),Z(n,{cursor:"pointer"}));f=f.replace(/<(.|\n)*?>/g,"")||" ";if(l){P=[];for(y=f.length;y--;)P.push(f.charAt(y));f=P.join("")}n.appendChild($.createTextNode(f));m?a.dx=3:a.x=r;m||(d&&(h=e(window.getComputedStyle(w,null).getPropertyValue("line-height")),
isNaN(h)&&(h=t||w.offsetHeight||18),z(n,"dy",h)),w=n);z(n,a);g.appendChild(n);m++;if(A){f=f.replace(/-/g,"- ").split(" ");for(var F,J=[];f.length||J.length;)F=g.getBBox().width,(a=F>A)&&1!=f.length?(n.removeChild(n.firstChild),J.unshift(f.pop())):(f=J,J=[],f.length&&(n=$.createElementNS("http://www.w3.org/2000/svg","tspan"),z(n,{x:r,dy:t||16}),g.appendChild(n),F>A&&(A=F))),n.appendChild($.createTextNode(f.join(" ").replace(/- /g,"-")))}}})})},crispLine:function(a,g){a[1]==a[4]&&(a[1]=a[4]=E(a[1])+
g%2/2);a[2]==a[5]&&(a[2]=a[5]=E(a[2])+g%2/2);return a},path:function(a){return this.createElement("path").attr({d:a,fill:"none"})},circle:function(a,g,d){a=l(a)?a:{x:a,y:g,r:d};return this.createElement("circle").attr(a)},arc:function(a,g,d,b,p,x){l(a)&&(g=a.y,d=a.r,b=a.innerR,p=a.start,x=a.end,a=a.x);return this.symbol("arc",a||0,g||0,d||0,{innerR:b||0,start:p||0,end:x||0})},rect:function(a,g,d,m,p,x){if(1<arguments.length){var e=(x||0)%2/2;a=E(a||0)+e;g=E(g||0)+e;d=E((d||0)-2*e);m=E((m||0)-2*e)}e=
l(a)?a:{x:a,y:g,width:V(d,0),height:V(m,0)};return this.createElement("rect").attr(b(e,{rx:p||e.r,ry:p||e.r,fill:"none"}))},setSize:function(a,g,d){var b=this.alignedObjects,p=b.length;this.width=a;this.height=g;for(this.boxWrapper[q(d,!0)?"animate":"attr"]({width:a,height:g});p--;)b[p].align()},g:function(a){return this.createElement("g").attr(y(a)&&{"class":"highcharts-"+a})},image:function(a,g,d,m,p){var x={preserveAspectRatio:"none"};1<arguments.length&&b(x,{x:g,y:d,width:m,height:p});x=this.createElement("image").attr(x);
x.element.setAttributeNS("http://www.w3.org/1999/xlink","href",a);return x},symbol:function(a,g,d,m,p){var x,e=this.symbols[a],e=e&&e(g,d,m,p),h=/^url\((.*?)\)$/;e?(x=this.path(e),b(x,{symbolName:a,x:g,y:d,r:m}),p&&b(x,p)):h.test(a)?(a=a.match(h)[1],x=this.image(a).attr({x:g,y:d}),ka("img",{onload:function(){var a=xb[this.src]||[this.width,this.height];x.attr({width:a[0],height:a[1]}).translate(-E(a[0]/2),-E(a[1]/2))},src:a})):x=this.circle(g,d,m);return x},symbols:{square:function(a,g,d){d*=.707;
return["M",a-d,g-d,"L",a+d,g-d,a+d,g+d,a-d,g+d,"Z"]},triangle:function(a,g,d){return["M",a,g-1.33*d,"L",a+d,g+.67*d,a-d,g+.67*d,"Z"]},"triangle-down":function(a,g,d){return["M",a,g+1.33*d,"L",a-d,g-.67*d,a+d,g-.67*d,"Z"]},diamond:function(a,g,d){return["M",a,g-d,"L",a+d,g,a,g+d,a-d,g,"Z"]},arc:function(a,g,d,b){var p=b.start,e=b.end-1E-6,r=b.innerR,h=U(p),l=M(p),q=U(e),e=M(e);b=b.end-p<Za?0:1;return["M",a+d*h,g+d*l,"A",d,d,0,b,1,a+d*q,g+d*e,"L",a+r*q,g+r*e,"A",r,r,0,b,0,a+r*h,g+r*l,"Z"]}},clipRect:function(a,
g,d,b){var p="highcharts-"+Xb++,e=this.createElement("clipPath").attr({id:p}).add(this.defs);a=this.rect(a,g,d,b,0).add(e);a.id=p;return a},color:function(a,g,d){var b,p=/^rgba/;if(a&&a.linearGradient){var e=this;g=a.linearGradient;d="highcharts-"+Xb++;var r,h,l;r=e.createElement("linearGradient").attr({id:d,gradientUnits:"userSpaceOnUse",x1:g[0],y1:g[1],x2:g[2],y2:g[3]}).add(e.defs);B(a.stops,function(a){p.test(a[1])?(b=Qa(a[1]),h=b.get("rgb"),l=b.get("a")):(h=a[1],l=1);e.createElement("stop").attr({offset:a[0],
"stop-color":h,"stop-opacity":l}).add(r)});return"url("+this.url+"#"+d+")"}return p.test(a)?(b=Qa(a),z(g,d+"-opacity",b.get("a")),b.get("rgb")):a},text:function(a,g,d){var b=Ia.chart.style;g=E(q(g,0));d=E(q(d,0));a=this.createElement("text").attr({x:g,y:d,text:a}).css({"font-family":b.fontFamily,"font-size":b.fontSize});a.x=g;a.y=d;return a}};var fb;if(!L){var Ab=X(H,{init:function(a,g){var d=["<",g,' filled="f" stroked="f"'],b=["position: ","absolute",";"];"shape"!=g&&"div"!=g||b.push("left:0;top:0;width:10px;height:10px;");
Pa&&b.push("visibility: ","div"==g?"hidden":"visible");d.push(' style="',b.join(""),'"/>');g&&(d="div"==g||"span"==g||"img"==g?d.join(""):a.prepVML(d),this.element=ka(d));this.renderer=a},add:function(a){var g=this.renderer,b=this.element,m=g.box,m=a?a.element||a:m;a&&a.inverted&&g.invertChild(b,m);Pa&&"hidden"==m.gVis&&Z(b,{visibility:"hidden"});m.appendChild(b);this.added=!0;this.alignOnAdd&&this.updateTransform();return this},attr:function(a,g){var b,m,p,e=this.element||{},r=e.style,l=e.nodeName,
q=this.renderer,P=this.symbolName,A,w,u=this.shadows,B=this;h(a)&&y(g)&&(b=a,a={},a[b]=g);if(h(a))b=a,B="strokeWidth"==b||"stroke-width"==b?this.strokeweight:this[b];else for(b in a){m=a[b];A=!1;if(P&&/^(x|y|r|start|end|width|height|innerR)/.test(b))w||(this.symbolAttr(a),w=!0),A=!0;else if("d"==b){m=m||[];this.d=m.join(" ");p=m.length;for(A=[];p--;)t(m[p])?A[p]=E(10*m[p])-5:A[p]="Z"==m[p]?"x":m[p];m=A.join(" ")||"x";e.path=m;if(u)for(p=u.length;p--;)u[p].path=m;A=!0}else if("zIndex"==b||"visibility"==
b){if(Pa&&"visibility"==b&&"DIV"==l){e.gVis=m;A=e.childNodes;for(p=A.length;p--;)Z(A[p],{visibility:m});"visible"==m&&(m=null)}m&&(r[b]=m);A=!0}else/^(width|height)$/.test(b)?(this.updateClipping?(this[b]=m,this.updateClipping()):r[b]=m,A=!0):/^(x|y)$/.test(b)?(this[b]=m,"SPAN"==e.tagName?this.updateTransform():r[{x:"left",y:"top"}[b]]=m):"class"==b?e.className=m:"stroke"==b?(m=q.color(m,e,b),b="strokecolor"):"stroke-width"==b||"strokeWidth"==b?(e.stroked=m?!0:!1,b="strokeweight",this[b]=m,t(m)&&
(m+="px")):"dashstyle"==b?((e.getElementsByTagName("stroke")[0]||ka(q.prepVML(["<stroke/>"]),null,null,e))[b]=m||"solid",this.dashstyle=m,A=!0):"fill"==b?"SPAN"==l?r.color=m:(e.filled="none"!=m?!0:!1,m=q.color(m,e,b),b="fillcolor"):"translateX"==b||"translateY"==b||"rotation"==b||"align"==b?("align"==b&&(b="textAlign"),this[b]=m,this.updateTransform(),A=!0):"text"==b&&(e.innerHTML=m,A=!0);if(u&&"visibility"==b)for(p=u.length;p--;)u[p].style[b]=m;A||(Pa?e[b]=m:z(e,b,m))}return B},clip:function(a){var b=
this,d=a.members;d.push(b);b.destroyClip=function(){u(d,b)};return b.css(a.getCSS(b.inverted))},css:function(a){var g=this.element;if(g=a&&"SPAN"==g.tagName&&a.width)delete a.width,this.textWidth=g,this.updateTransform();this.styles=b(this.styles,a);Z(this.element,a);return this},destroy:function(){this.destroyClip&&this.destroyClip();H.prototype.destroy.apply(this)},empty:function(){for(var a=this.element.childNodes,b=a.length,d;b--;)d=a[b],d.parentNode.removeChild(d)},getBBox:function(){var a=this.element;
"text"==a.nodeName&&(a.style.position="absolute");return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},on:function(a,b){this.element["on"+a]=function(){var a=w.event;a.target=a.srcElement;b(a)};return this},updateTransform:function(a){if(this.added){var b=this,d=b.element,m=b.translateX||0,p=b.translateY||0;a=b.x||0;var x=b.y||0,h=b.textAlign||"left",l={left:0,center:.5,right:1}[h],q=h&&"left"!=h;(m||p)&&b.css({marginLeft:m,marginTop:p});b.inverted&&B(d.childNodes,function(a){b.renderer.invertChild(a,
d)});if("SPAN"==d.tagName){var P,A,m=b.rotation,t;P=0;var p=1,w=0,u;t=e(b.textWidth);var z=b.xCorr||0;u=b.yCorr||0;var C=[m,h,d.innerHTML,b.textWidth].join();C!=b.cTT&&(y(m)&&(P=m*W,p=U(P),w=M(P),Z(d,{filter:m?["progid:DXImageTransform.Microsoft.Matrix(M11=",p,", M12=",-w,", M21=",w,", M22=",p,", sizingMethod='auto expand')"].join(""):"none"})),P=d.offsetWidth,A=d.offsetHeight,P>t&&(Z(d,{width:t+"px",display:"block",whiteSpace:"normal"}),P=t),t=E(1.2*e(d.style.fontSize||12)),u=0>p*w,z=(0>p&&-P)+w*
t*(u?1-l:l),u=(0>w&&-A)-p*t*(m?u?l:1-l:1),q&&(z-=P*l*(0>p?-1:1),m&&(u-=A*l*(0>w?-1:1)),Z(d,{textAlign:h})),b.xCorr=z,b.yCorr=u);Z(d,{left:a+z,top:x+u});b.cTT=C}}else this.alignOnAdd=!0},shadow:function(a){var b=[],d=this.element,m=this.renderer,p,x=d.style,h,l=d.path;""===""+d.path&&(l="x");if(a){for(a=1;3>=a;a++)h=['<shape isShadow="true" strokeweight="',7-2*a,'" filled="false" path="',l,'" coordsize="100,100" style="',d.style.cssText,'" />'],p=ka(m.prepVML(h),null,{left:e(x.left)+1,top:e(x.top)+
1}),h=['<stroke color="black" opacity="',.05*a,'"/>'],ka(m.prepVML(h),null,null,p),d.parentNode.insertBefore(p,d),b.push(p);this.shadows=b}return this}});fb=function(){this.init.apply(this,arguments)};fb.prototype=ma(Ib.prototype,{isIE8:-1<Aa.indexOf("MSIE 8.0"),init:function(a,b,d){var m;this.Element=Ab;this.alignedObjects=[];m=this.createElement("div");a.appendChild(m.element);this.box=m.element;this.boxWrapper=m;this.setSize(b,d,!1);$.namespaces.hcv||($.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),
$.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},clipRect:function(a,g,d,m){var p=this.createElement();return b(p,{members:[],left:a,top:g,width:d,height:m,getCSS:function(a){var g=this.top,d=this.left,m=d+this.width,p=g+this.height,g={clip:"rect("+E(a?d:g)+"px,"+E(a?p:m)+"px,"+E(a?m:p)+"px,"+E(a?g:d)+"px)"};!a&&Pa&&b(g,{width:m+"px",height:p+"px"});return g},updateClipping:function(){B(p.members,function(a){a.css(p.getCSS(a.inverted))})}})},
color:function(a,b,d){var m,p=/^rgba/;if(a&&a.linearGradient){var e,h,l=a.linearGradient,q,t,A,w;B(a.stops,function(a,b){p.test(a[1])?(m=Qa(a[1]),e=m.get("rgb"),h=m.get("a")):(e=a[1],h=1);b?(A=e,w=h):(q=e,t=h)});a=90-180*pa.atan((l[3]-l[1])/(l[2]-l[0]))/Za;d=["<",d,' colors="0% ',q,",100% ",A,'" angle="',a,'" opacity="',w,'" o:opacity2="',t,'" type="gradient" focus="100%" />'];ka(this.prepVML(d),null,null,b)}else return p.test(a)&&"IMG"!=b.tagName?(m=Qa(a),d=["<",d,' opacity="',m.get("a"),'"/>'],
ka(this.prepVML(d),null,null,b),m.get("rgb")):a},prepVML:function(a){var b=this.isIE8;a=a.join("");b?(a=a.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),a=-1==a.indexOf('style="')?a.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):a.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):a=a.replace("<","<hcv:");return a},text:function(a,b,d){var m=Ia.chart.style;return this.createElement("span").attr({text:a,x:E(b),y:E(d)}).css({whiteSpace:"nowrap",
fontFamily:m.fontFamily,fontSize:m.fontSize})},path:function(a){return this.createElement("shape").attr({coordsize:"100 100",d:a})},circle:function(a,b,d){return this.path(this.symbols.circle(a,b,d))},g:function(a){var b;a&&(b={className:"highcharts-"+a,"class":"highcharts-"+a});return this.createElement("div").attr(b)},image:function(a,b,d,m,p){var e=this.createElement("img").attr({src:a});1<arguments.length&&e.css({left:b,top:d,width:m,height:p});return e},rect:function(a,b,d,m,p,e){if(1<arguments.length){var h=
(e||0)%2/2;a=E(a||0)+h;b=E(b||0)+h;d=E((d||0)-2*h);m=E((m||0)-2*h)}l(a)&&(b=a.y,d=a.width,m=a.height,p=a.r,a=a.x);return this.symbol("rect",a||0,b||0,p||0,{width:d||0,height:m||0})},invertChild:function(a,b){var d=b.style;Z(a,{flip:"x",left:e(d.width)-10,top:e(d.height)-10,rotation:-90})},symbols:{arc:function(a,b,d,m){var p=m.start,e=m.end,h=U(p),l=M(p),q=U(e),t=M(e);m=m.innerR;var A=.07/d,w=m&&.1/m||0;if(0===e-p)return["x"];2*Za-e+p<A?q=-A:e-p<w&&(q=U(p+w));return["wa",a-d,b-d,a+d,b+d,a+d*h,b+d*
l,a+d*q,b+d*t,"at",a-m,b-m,a+m,b+m,a+m*q,b+m*t,a+m*h,b+m*l,"x","e"]},circle:function(a,b,d){return["wa",a-d,b-d,a+d,b+d,a+d,b,a+d,b,"e"]},rect:function(a,b,d,m){var p=m.width;m=m.height;var e=a+p,h=b+m;d=Y(d,p,m);return["M",a+d,b,"L",e-d,b,"wa",e-2*d,b,e,b+2*d,e-d,b,e,b+d,"L",e,h-d,"wa",e-2*d,h-2*d,e,h,e,h-d,e-d,h,"L",a+d,h,"wa",a,h-2*d,a+2*d,h,a+d,h,a,h-d,"L",a,b+d,"wa",a,b,a+2*d,b+2*d,a,b+d,a+d,b,"x","e"]}}})}var Yb=L?Ib:fb;kb.prototype.callbacks=[];var Ua=function(){};Ua.prototype={init:function(a,
b){var d;this.series=a;this.applyOptions(b);this.pointAttr={};a.options.colorByPoint&&(d=a.chart.options.colors,this.options||(this.options={}),this.color=this.options.color=this.color||d[Sa++],Sa>=d.length&&(Sa=0));a.chart.pointCount++;return this},applyOptions:function(a){var g=this.series;this.config=a;t(a)||null===a?this.y=a:l(a)&&!t(a.length)?(b(this,a),this.options=a):h(a[0])?(this.name=a[0],this.y=a[1]):t(a[0])&&(this.x=a[0],this.y=a[1]);this.lat=a[2];this.lon=a[3];this.x===Fa&&(this.x=g.autoIncrement())},
destroy:function(){var a=this,b=a.series,d;b.chart.pointCount--;if(a==b.chart.hoverPoint)a.onMouseOut();b.chart.hoverPoints=null;Va(a);B(["graphic","tracker","group","dataLabel","connector"],function(b){a[b]&&a[b].destroy()});a.legendItem&&a.series.chart.legend.destroyItem(a);for(d in a)a[d]=null},select:function(a,b){var d=this,m=d.series.chart;d.selected=a=q(a,!d.selected);d.firePointEvent(a?"select":"unselect");d.setState(a&&"select");b||B(m.getSelectedPoints(),function(a){a.selected&&a!=d&&(a.selected=
!1,a.setState(""),a.firePointEvent("unselect"))})},onMouseOver:function(){var a=this.series.chart,b=a.tooltip,d=a.hoverPoint;if(d&&d!=this)d.onMouseOut();this.firePointEvent("mouseOver");b&&!b.shared&&b.refresh(this);this.setState("hover");a.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(a){var b=this.series;return['<span style="color:'+b.color+'">',this.name||b.name,"</span>: ",a?"":"<b>x = "+(this.name||
this.x)+",</b> ","<b>",a?"":"y = ",this.y,"</b><br/>"].join("")},getDataLabelText:function(){return this.series.options.dataLabels.formatter.call({x:this.x,y:this.y,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal})},update:function(a,b,d){var m=this,e=m.series,h=m.dataLabel,r=e.chart;b=q(b,!0);m.firePointEvent("update",{options:a},function(){m.applyOptions(a);h&&h.attr({text:m.getDataLabelText()});l(a)&&(e.getAttribs(),m.graphic.attr(m.pointAttr[e.state]));
e.isDirty=!0;b&&r.redraw(d)})},remove:function(a,b){var d=this,m=d.series,e=m.chart,h=m.data;db(b,e);a=q(a,!0);d.firePointEvent("remove",null,function(){u(h,d);d.destroy();m.isDirty=!0;a&&e.redraw()})},firePointEvent:function(a,b,d){var m=this,e=this.series.options;(e.point.events[a]||m.options&&m.options.events&&m.options.events[a])&&this.importEvents();"click"==a&&e.allowPointSelect&&(d=function(a){m.select(null,a.ctrlKey||a.metaKey||a.shiftKey)});wa(this,a,b,d)},importEvents:function(){if(!this.hasImportedEvents){var a=
ma(this.series.options.point,this.options).events,b;this.events=a;for(b in a)ra(this,b,a[b]);this.hasImportedEvents=!0}},setState:function(a){var b=this.series,d=b.options.states,m=ua[b.type].marker&&b.options.marker,e=m&&!m.enabled,h=(m=m&&m.states[a])&&!1===m.enabled,r=b.stateMarkerGraphic,l=b.chart,q=this.pointAttr;a||(a="");if(!(a==this.state||this.selected&&"select"!=a||d[a]&&!1===d[a].enabled||a&&(h||e&&!m.enabled))){if(this.graphic)this.graphic.attr(q[a]);else if(a&&(r||(b.stateMarkerGraphic=
r=l.renderer.circle(0,0,q[a].r).attr(q[a]).add(b.group)),r.translate(this.plotX,this.plotY)),r)r[a?"show":"hide"]();this.state=a}}};var aa=function(){};aa.prototype={isCartesian:!0,type:"line",pointClass:Ua,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(a,g){var d,m;m=a.series.length;this.chart=a;g=this.setOptions(g);b(this,{index:m,options:g,name:g.name||"Series "+(m+1),state:"",pointAttr:{},visible:!1!==g.visible,selected:!0===g.selected});
m=g.events;for(d in m)ra(this,d,m[d]);if(m&&m.click||g.point&&g.point.events&&g.point.events.click||g.allowPointSelect)a.runTrackerClick=!0;this.getColor();this.getSymbol();this.setData(g.data,!1)},autoIncrement:function(){var a=this.options,b=this.xIncrement,b=q(b,a.pointStart,0);this.pointInterval=q(this.pointInterval,a.pointInterval,1);this.xIncrement=b+this.pointInterval;return b},cleanData:function(){var a=this.chart,b=this.data,d,m,e=a.smallestInterval,h,r;b.sort(function(a,b){return a.x-b.x});
for(r=b.length-1;0<=r;r--)b[r-1]&&b[r-1].x==b[r].x&&b.splice(r-1,1);for(r=b.length-1;0<=r;r--)b[r-1]&&(h=b[r].x-b[r-1].x,m===Fa||h<m)&&(m=h,d=r);if(e===Fa||m<e)a.smallestInterval=m;this.closestPoints=d},getSegments:function(){var a=-1,b=[],d=this.data;B(d,function(m,e){null===m.y?(e>a+1&&b.push(d.slice(a+1,e)),a=e):e==d.length-1&&b.push(d.slice(a+1,e+1))});this.segments=b},setOptions:function(a){var b=this.chart.options.plotOptions;return ma(b[this.type],b.series,a)},getColor:function(){var a=this.chart.options.colors;
this.color=this.options.color||a[Sa++]||"#0000ff";Sa>=a.length&&(Sa=0)},getSymbol:function(){var a=this.chart.options.symbols;this.symbol=this.options.marker.symbol||a[pb++];pb>=a.length&&(pb=0)},addPoint:function(a,b,d,e){var p=this.data,h=this.graph,r=this.area,l=this.chart;a=(new this.pointClass).init(this,a);db(e,l);h&&d&&(h.shift=d);r&&(r.shift=d,r.isArea=!0);b=q(b,!0);p.push(a);d&&p[0].remove(!1);this.isDirty=!0;b&&l.redraw()},setData:function(a,b){var d=this,e=d.data,p=d.initialColor,h=d.chart,
r=e&&e.length||0;d.xIncrement=null;y(p)&&(Sa=p);for(a=mb(ba(a||[]),function(a){return(new d.pointClass).init(d,a)});r--;)e[r].destroy();d.data=a;d.cleanData();d.getSegments();d.isDirty=!0;h.isDirtyBox=!0;q(b,!0)&&h.redraw(!1)},remove:function(a,b){var d=this,e=d.chart;a=q(a,!0);d.isRemoving||(d.isRemoving=!0,wa(d,"remove",null,function(){d.destroy();e.isDirtyLegend=e.isDirtyBox=!0;a&&e.redraw(b)}));d.isRemoving=!1},translate:function(){for(var a=this.chart,b=this.options.stacking,d=this.xAxis.categories,
e=this.yAxis,p=this.data,h=p.length;h--;){var r=p[h],l=r.x,q=r.y,t=r.low,A=e.stacks[(0>q?"-":"")+this.stackKey];r.plotX=this.xAxis.translate(l);b&&this.visible&&A[l]&&(t=A[l],l=t.total,t.cum=t=t.cum-q,q=t+q,"percent"==b&&(t=l?100*t/l:0,q=l?100*q/l:0),r.percentage=l?100*r.y/l:0,r.stackTotal=l);y(t)&&(r.yBottom=e.translate(t,0,1));null!==q&&(r.plotY=e.translate(q,0,1));r.clientX=a.inverted?a.plotHeight-r.plotX:r.plotX;r.category=d&&d[r.x]!==Fa?d[r.x]:r.x}},setTooltipPoints:function(a){var b=this.chart,
d=b.inverted,e=[],p=E((d?b.plotTop:b.plotLeft)+b.plotSizeX),h,l,q=[];a&&(this.tooltipPoints=null);B(this.segments,function(a){e=e.concat(a)});this.xAxis&&this.xAxis.reversed&&(e=e.reverse());B(e,function(a,b){h=e[b-1]?e[b-1].high+1:0;for(l=a.high=e[b+1]?sa((a.plotX+(e[b+1]?e[b+1].plotX:p))/2):p;h<=l;)q[d?p-h++:h++]=a});this.tooltipPoints=q},onMouseOver:function(){var a=this.chart,b=a.hoverSeries;if(na||!a.mouseIsDown){if(b&&b!=this)b.onMouseOut();this.options.events.mouseOver&&wa(this,"mouseOver");
this.tracker&&this.tracker.toFront();this.setState("hover");a.hoverSeries=this}},onMouseOut:function(){var a=this.options,b=this.chart,d=b.tooltip,e=b.hoverPoint;if(e)e.onMouseOut();this&&a.events.mouseOut&&wa(this,"mouseOut");d&&!a.stickyTracking&&d.hide();this.setState();b.hoverSeries=null},animate:function(a){var b=this.chart,d=this.clipRect,e=this.options.animation;e&&!l(e)&&(e={});a?d.isAnimating||(d.attr("width",0),d.isAnimating=!0):(d.animate({width:b.plotSizeX},e),this.animate=null)},drawPoints:function(){var a,
b=this.data,d=this.chart,e,h,l,r,t,w;if(this.options.marker.enabled)for(l=b.length;l--;)r=b[l],e=r.plotX,h=r.plotY,w=r.graphic,h===Fa||isNaN(h)||(a=r.pointAttr[r.selected?"select":""],t=a.r,w?w.animate({x:e,y:h,r:t}):r.graphic=d.renderer.symbol(q(r.marker&&r.marker.symbol,this.symbol),e,h,t).attr(a).add(this.group))},convertAttribs:function(a,b,d,e){var h=this.pointAttrToOptions,l,r,t={};a=a||{};b=b||{};d=d||{};e=e||{};for(l in h)r=h[l],t[l]=q(a[r],b[l],d[l],e[l]);return t},getAttribs:function(){var a=
this,b=ua[a.type].marker?a.options.marker:a.options,d=b.states,e=d.hover,h,l=a.color,r={stroke:l,fill:l},q=a.data,t=[],w,A=a.pointAttrToOptions;a.options.marker?(e.radius=e.radius||b.radius+2,e.lineWidth=e.lineWidth||b.lineWidth+1):e.color=e.color||Qa(e.color||l).brighten(e.brightness).get();t[""]=a.convertAttribs(b,r);B(["hover","select"],function(b){t[b]=a.convertAttribs(d[b],t[""])});a.pointAttr=t;for(l=q.length;l--;){r=q[l];(b=r.options&&r.options.marker||r.options)&&!1===b.enabled&&(b.radius=
0);h=!1;if(r.options)for(var u in A)y(b[A[u]])&&(h=!0);h?(w=[],d=b.states||{},h=d.hover=d.hover||{},a.options.marker||(h.color=Qa(h.color||r.options.color).brighten(h.brightness||e.brightness).get()),w[""]=a.convertAttribs(b,t[""]),w.hover=a.convertAttribs(d.hover,t.hover,w[""]),w.select=a.convertAttribs(d.select,t.select,w[""])):w=t;r.pointAttr=w}},destroy:function(){var a=this,b=a.chart,d=/\/5[0-9\.]+ Safari\//.test(Aa),e,h;Va(a);a.legendItem&&a.chart.legend.destroyItem(a);B(a.data,function(a){a.destroy()});
B(["area","graph","dataLabelsGroup","group","tracker"],function(b){a[b]&&(e=d&&"group"==b?"hide":"destroy",a[b][e]())});b.hoverSeries==a&&(b.hoverSeries=null);u(b.series,a);for(h in a)delete a[h]},drawDataLabels:function(){if(this.options.dataLabels.enabled){var a,b,d=this.data,e=this.options.dataLabels,h,l=this.dataLabelsGroup,r=this.chart,t=r.inverted,w=this.type,u;l||(l=this.dataLabelsGroup=r.renderer.g("highcharts-data-labels").attr({visibility:this.visible?"visible":"hidden",zIndex:5}).translate(r.plotLeft,
r.plotTop).add());u=e.color;"auto"==u&&(u=null);e.style.color=q(u,this.color);B(d,function(d,u){var P=d.barX,P=P&&P+d.barW/2||d.plotX||-999,z=q(d.plotY,-999),B=d.dataLabel,C=e.align;h=d.getDataLabelText();a=(t?r.plotWidth-z:P)+e.x;b=(t?r.plotHeight-P:z)+e.y;"column"==w&&(a+={left:-1,right:1}[C]*d.barW/2||0);B?B.animate({x:a,y:b}):y(h)&&(B=d.dataLabel=r.renderer.text(h,a,b).attr({align:C,rotation:e.rotation,zIndex:1}).css(e.style).add(l));t&&!e.y&&B.attr({y:b+.9*parseInt(B.styles.lineHeight)-B.getBBox().height/
2})})}},drawGraph:function(a){var b=this,d=b.options,e=b.graph,h=[],l,r=b.area;a=b.group;var t=d.lineColor||b.color,w=d.lineWidth,y=d.dashStyle,A,u=b.chart.renderer,z=b.yAxis.getThreshold(d.threshold||0),C=/^area/.test(b.type),E=[],I=[];B(b.segments,function(a){A=[];B(a,function(f,n){b.getPointSpline?A.push.apply(A,b.getPointSpline(a,f,n)):(A.push(n?"L":"M"),n&&d.step&&A.push(f.plotX,a[n-1].plotY),A.push(f.plotX,f.plotY))});1<a.length?h=h.concat(A):E.push(a[0]);if(C){var e=[],m,f=A.length;for(m=0;m<
f;m++)e.push(A[m]);3==f&&e.push("L",A[1],A[2]);if(d.stacking&&"areaspline"!=b.type)for(m=a.length-1;0<=m;m--)e.push(a[m].plotX,a[m].yBottom);else e.push("L",a[a.length-1].plotX,z,"L",a[0].plotX,z);I=I.concat(e)}});b.graphPath=h;b.singlePoints=E;C&&(l=q(d.fillColor,Qa(b.color).setOpacity(d.fillOpacity||.75).get()),r?r.animate({d:I}):b.area=b.chart.renderer.path(I).attr({fill:l}).add(a));e?e.animate({d:h}):w&&(e={stroke:t,"stroke-width":w},y&&(e.dashstyle=y),b.graph=u.path(h).attr(e).add(a).shadow(d.shadow))},
render:function(){var a=this,b=a.chart,d,e,h=a.options,l=h.animation,r=l&&a.animate,l=r?l&&l.duration||500:0,q=a.clipRect;e=b.renderer;q||(q=a.clipRect=!b.hasRendered&&b.clipRect?b.clipRect:e.clipRect(0,0,b.plotSizeX,b.plotSizeY),b.clipRect||(b.clipRect=q));a.group||(d=a.group=e.g("series"),b.inverted&&(e=function(){d.attr({width:b.plotWidth,height:b.plotHeight}).invert()},e(),ra(b,"resize",e)),d.clip(a.clipRect).attr({visibility:a.visible?"visible":"hidden",zIndex:h.zIndex}).translate(b.plotLeft,
b.plotTop).add(b.seriesGroup));a.drawDataLabels();r&&a.animate(!0);a.getAttribs();a.drawGraph&&a.drawGraph();a.drawPoints();!1!==a.options.enableMouseTracking&&a.drawTracker();r&&a.animate();setTimeout(function(){q.isAnimating=!1;(d=a.group)&&q!=b.clipRect&&q.renderer&&(d.clip(a.clipRect=b.clipRect),q.destroy())},l);a.isDirty=!1},redraw:function(){var a=this.chart,b=this.group;b&&(a.inverted&&b.attr({width:a.plotWidth,height:a.plotHeight}),b.animate({translateX:a.plotLeft,translateY:a.plotTop}));
this.translate();this.setTooltipPoints(!0);this.render()},setState:function(a){var b=this.options,d=this.graph,e=b.states,b=b.lineWidth;a=a||"";this.state!=a&&(this.state=a,e[a]&&!1===e[a].enabled||(a&&(b=e[a].lineWidth||b+1),d&&!d.dashstyle&&d.attr({"stroke-width":b},a?0:500)))},setVisible:function(a,b){var d=this.chart,e=this.legendItem,h=this.group,l=this.tracker,r=this.dataLabelsGroup,q,t=this.data,w=d.options.chart.ignoreHiddenSeries;q=this.visible;q=(this.visible=a=a===Fa?!q:a)?"show":"hide";
if(h)h[q]();if(l)l[q]();else for(h=t.length;h--;)if(l=t[h],l.tracker)l.tracker[q]();if(r)r[q]();e&&d.legend.colorizeItem(this,a);this.isDirty=!0;this.options.stacking&&B(d.series,function(a){a.options.stacking&&a.visible&&(a.isDirty=!0)});w&&(d.isDirtyBox=!0);!1!==b&&d.redraw();wa(this,q)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(a){this.selected=a=a===Fa?!this.selected:a;this.checkbox&&(this.checkbox.checked=a);wa(this,a?"select":"unselect")},drawTracker:function(){var a=
this,b=a.options,d=[].concat(a.graphPath),e=d.length,h=a.chart,l=h.options.tooltip.snap,r=a.tracker,q=b.cursor,q=q&&{cursor:q},t=a.singlePoints,w;if(e)for(w=e+1;w--;)"M"==d[w]&&d.splice(w+1,0,d[w+1]-l,d[w+2],"L"),(w&&"M"==d[w]||w==e)&&d.splice(w,0,"L",d[w-2]+l,d[w-1]);for(w=0;w<t.length;w++)e=t[w],d.push("M",e.plotX-l,e.plotY,"L",e.plotX+l,e.plotY);r?r.attr({d:d}):a.tracker=h.renderer.path(d).attr({isTracker:!0,stroke:yb,fill:"none","stroke-width":b.lineWidth+2*l,visibility:a.visible?"visible":"hidden",
zIndex:1}).on(na?"touchstart":"mouseover",function(){if(h.hoverSeries!=a)a.onMouseOver()}).on("mouseout",function(){if(!b.stickyTracking)a.onMouseOut()}).css(q).add(h.trackerGroup)}};var $b=X(aa);xa.line=$b;var bb=X(aa,{type:"area"});xa.area=bb;var Bb=X(aa,{type:"spline",getPointSpline:function(a,b,d){var e=b.plotX,h=b.plotY,l=a[d-1],r=a[d+1],q,t,w,A;if(d&&d<a.length-1){a=l.plotY;w=r.plotX;var r=r.plotY,y;q=(1.5*e+l.plotX)/2.5;t=(1.5*h+a)/2.5;w=(1.5*e+w)/2.5;A=(1.5*h+r)/2.5;y=(A-t)*(w-e)/(w-q)+h-
A;t+=y;A+=y;t>a&&t>h?(t=V(a,h),A=2*h-t):t<a&&t<h&&(t=Y(a,h),A=2*h-t);A>r&&A>h?(A=V(r,h),t=2*h-A):A<r&&A<h&&(A=Y(r,h),t=2*h-A);b.rightContX=w;b.rightContY=A}d?(b=["C",l.rightContX||l.plotX,l.rightContY||l.plotY,q||e,t||h,e,h],l.rightContX=l.rightContY=null):b=["M",e,h];return b}});xa.spline=Bb;var Ca=X(Bb,{type:"areaspline"});xa.areaspline=Ca;var qb=X(aa,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){aa.prototype.init.apply(this,
arguments);var a=this,b=a.chart;b.hasColumn=!0;b.hasRendered&&B(b.series,function(b){b.type==a.type&&(b.isDirty=!0)})},translate:function(){var a=this,g=a.chart,d=0,e=a.xAxis.reversed,h=a.xAxis.categories,l={},r,t;aa.prototype.translate.apply(a);B(g.series,function(b){b.type==a.type&&(b.options.stacking?(r=b.stackKey,l[r]===Fa&&(l[r]=d++),t=l[r]):t=d++,b.columnIndex=t)});var w=a.options,u=a.data,A=a.closestPoints,g=T(u[1]?u[A].plotX-u[A-1].plotX:g.plotSizeX/(h?h.length:1)),h=g*w.groupPadding,A=(g-
2*h)/d,z=w.pointWidth,C=y(z)?(A-z)/2:A*w.pointPadding,E=V(q(z,A-2*C),1),I=C+(h+((e?d-a.columnIndex:a.columnIndex)||0)*A-g/2)*(e?-1:1),H=a.yAxis.getThreshold(w.threshold||0),K=q(w.minPointLength,5);B(u,function(a){var d=a.plotY,f=a.yBottom||H,v=a.plotX+I,n=Na(Y(d,f)),F=Na(V(d,f)-n),g;T(F)<K&&(K&&(F=K,n=T(n-H)>K?f-K:H-(d<=H?K:0)),g=n-3);b(a,{barX:v,barY:n,barW:E,barH:F});a.shapeType="rect";a.shapeArgs={x:v,y:n,width:E,height:F,r:w.borderRadius};a.trackerArgs=y(g)&&ma(a.shapeArgs,{height:V(6,F+3),y:g})})},
getSymbol:function(){},drawGraph:function(){},drawPoints:function(){var a=this,b=a.options,d=a.chart.renderer,e,h;B(a.data,function(l){var r=l.plotY;r===Fa||isNaN(r)||(e=l.graphic,h=l.shapeArgs,e?(Gb(e),e.animate(h)):l.graphic=d[l.shapeType](h).attr(l.pointAttr[l.selected?"select":""]).add(a.group).shadow(b.shadow))})},drawTracker:function(){var a=this,b=a.chart,d=b.renderer,e,h,l=+new Date,r=a.options.cursor,q=r&&{cursor:r},t;B(a.data,function(r){h=r.tracker;e=r.trackerArgs||r.shapeArgs;null!==r.y&&
(h?h.attr(e):r.tracker=d[r.shapeType](e).attr({isTracker:l,fill:yb,visibility:a.visible?"visible":"hidden",zIndex:1}).on(na?"touchstart":"mouseover",function(d){t=d.relatedTarget||d.fromElement;if(b.hoverSeries!=a&&z(t,"isTracker")!=l)a.onMouseOver();r.onMouseOver()}).on("mouseout",function(b){if(!a.options.stickyTracking&&(t=b.relatedTarget||b.toElement,z(t,"isTracker")!=l))a.onMouseOut()}).css(q).add(b.trackerGroup))})},animate:function(a){var b=this,d=b.data;a||(B(d,function(a){var d=a.graphic;
d&&(d.attr({height:0,y:b.yAxis.translate(0,0,1)}),d.animate({height:a.barH,y:a.barY},b.options.animation))}),b.animate=null)},remove:function(){var a=this,b=a.chart;b.hasRendered&&B(b.series,function(b){b.type==a.type&&(b.isDirty=!0)});aa.prototype.remove.apply(a,arguments)}});xa.column=qb;var Cb=X(qb,{type:"bar",init:function(a){a.inverted=this.inverted=!0;qb.prototype.init.apply(this,arguments)}});xa.bar=Cb;var cc=X(aa,{type:"scatter",translate:function(){var a=this;aa.prototype.translate.apply(a);
B(a.data,function(b){b.shapeType="circle";b.shapeArgs={x:b.plotX,y:b.plotY,r:a.chart.options.tooltip.snap}})},drawTracker:function(){var a=this,b=a.options.cursor,d=b&&{cursor:b},e;B(a.data,function(b){(e=b.graphic)&&e.attr({isTracker:!0}).on("mouseover",function(d){a.onMouseOver();b.onMouseOver()}).on("mouseout",function(b){if(!a.options.stickyTracking)a.onMouseOut()}).css(d)})},cleanData:function(){}});xa.scatter=cc;var dc=X(Ua,{init:function(){Ua.prototype.init.apply(this,arguments);var a=this,
e;b(a,{visible:!1!==a.visible,name:q(a.name,"Slice")});e=function(){a.slice()};ra(a,"select",e);ra(a,"unselect",e);return a},setVisible:function(a){var b=this.series.chart,d=this.tracker,e=this.dataLabel,h=this.connector,l;l=(this.visible=a=a===Fa?!this.visible:a)?"show":"hide";this.group[l]();if(d)d[l]();if(e)e[l]();if(h)h[l]();this.legendItem&&b.legend.colorizeItem(this,a)},slice:function(a,b,d){var e=this.series.chart,h=this.slicedTranslation;db(d,e);q(b,!0);a=this.sliced=y(a)?a:!this.sliced;this.group.animate({translateX:a?
h[0]:e.plotLeft,translateY:a?h[1]:e.plotTop})}}),ec=X(aa,{type:"pie",isCartesian:!1,pointClass:dc,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=Sa},animate:function(a){var b=this;B(b.data,function(a){var e=a.graphic;a=a.shapeArgs;var h=-Za/2;e&&(e.attr({r:0,start:h,end:h}),e.animate({r:a.r,start:a.start,end:a.end},b.options.animation))});b.animate=null},translate:function(){var a=0,b=-.25,d=this.options,h=d.slicedOffset,l=
h+d.borderWidth,q=d.center,r=this.chart,t=r.plotWidth,w=r.plotHeight,y,A,u,z=this.data,C=2*Za,I,H=Y(t,w),K,S,L,f=d.dataLabels.distance;q.push(d.size,d.innerSize||0);q=mb(q,function(f,a){return(K=/%$/.test(f))?[t,w,H,H][a]*e(f)/100:f});this.getX=function(a,b){u=pa.asin((a-q[1])/(q[2]/2+f));return q[0]+(b?-1:1)*U(u)*(q[2]/2+f)};this.center=q;B(z,function(f){a+=f.y});B(z,function(v){I=a?v.y/a:0;y=E(b*C*1E3)/1E3;b+=I;A=E(b*C*1E3)/1E3;v.shapeType="arc";v.shapeArgs={x:q[0],y:q[1],r:q[2]/2,innerR:q[3]/2,
start:y,end:A};u=(A+y)/2;v.slicedTranslation=mb([U(u)*h+r.plotLeft,M(u)*h+r.plotTop],E);S=U(u)*q[2]/2;L=M(u)*q[2]/2;v.tooltipPos=[q[0]+.7*S,q[1]+.7*L];v.labelPos=[q[0]+S+U(u)*f,q[1]+L+M(u)*f,q[0]+S+U(u)*l,q[1]+L+M(u)*l,q[0]+S,q[1]+L,0>f?"center":u<C/4?"left":"right",u];v.percentage=100*I;v.total=a});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();!1!==this.options.enableMouseTracking&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();
this.isDirty=!1},drawPoints:function(){var a=this.chart,e=a.renderer,d,h,l,q;B(this.data,function(r){h=r.graphic;q=r.shapeArgs;l=r.group;l||(l=r.group=e.g("point").attr({zIndex:5}).add());d=r.sliced?r.slicedTranslation:[a.plotLeft,a.plotTop];l.translate(d[0],d[1]);h?h.animate(q):r.graphic=e.arc(q).attr(b(r.pointAttr[""],{"stroke-linejoin":"round"})).add(r.group);!1===r.visible&&r.setVisible(!1)})},drawDataLabels:function(){var a=this.data,b,d=this.chart,e=this.options.dataLabels,h=q(e.connectorPadding,
10),l=q(e.connectorWidth,1),r,t,w=0<e.distance,u,y,z=this.center[1],C=[[],[],[],[]],I,E,H,K,L,M,f,v=4,n;aa.prototype.drawDataLabels.apply(this);B(a,function(f){var a=f.labelPos[7];C[0>a?0:a<Za/2?1:a<Za?2:3].push(f)});C[1].reverse();C[3].reverse();for(f=function(f,a){return f.y>a.y};v--;){a=0;b=[].concat(C[v]);b.sort(f);for(n=b.length;n--;)b[n].rank=n;for(K=0;2>K;K++)for(y=(M=v%3)?9999:-9999,L=M?-1:1,n=0;n<C[v].length;n++)if(b=C[v][n],r=b.dataLabel){t=b.labelPos;H="visible";I=t[0];E=t[1];u||(u=r&&
r.getBBox().height);if(w)if(K&&b.rank<a)H="hidden";else if(!M&&E<y+u||M&&E>y-u)if(E=y+L*u,I=this.getX(E,1<v),!M&&E+u>z||M&&E-u<z)K?H="hidden":a++;!1===b.visible&&(H="hidden");"visible"==H&&(y=E);K&&(r.attr({visibility:H,align:t[6]})[r.moved?"animate":"attr"]({x:I+e.x+({left:h,right:-h}[t[6]]||0),y:E+e.y}),r.moved=!0,w&&l&&(r=b.connector,t=["M",I+("left"==t[6]?5:-5),E,"L",I,E,"L",t[2],t[3],"L",t[4],t[5]],r?(r.animate({d:t}),r.attr("visibility",H)):b.connector=r=this.chart.renderer.path(t).attr({"stroke-width":l,
stroke:e.connectorColor||"#606060",visibility:H,zIndex:3}).translate(d.plotLeft,d.plotTop).add()))}}},drawTracker:qb.prototype.drawTracker,getSymbol:function(){}});xa.pie=ec;w.Highcharts={Chart:kb,dateFormat:Pb,pathAnim:gb,getOptions:function(){return Ia},numberFormat:eb,Point:Ua,Color:Qa,Renderer:Yb,seriesTypes:xa,setOptions:function(a){Ia=ma(Ia,a);Wa();return Ia},Series:aa,addEvent:ra,createElement:ka,discardElement:ea,css:Z,each:B,extend:b,map:mb,merge:ma,pick:q,extendClass:X,version:"2.1.3"}})();
(function(){function b(){if(b.is(arguments[0],M)){for(var f=arguments[0],a=fb[X](b,f.splice(0,3+b.is(f[0],U))),n=a.set(),d=0,e=f[w];d<e;d++){var k=f[d]||{};z[q](k.type)&&n[W](a[k.type]().attr(k))}return n}return fb[X](b,arguments)}function e(){for(var f=[],a=0;32>a;a++)f[a]=(~~(16*E.random())).toString(16);f[12]=4;f[16]=(f[16]&3|8).toString(16);return"r-"+f.join("")}function h(f,a,b){function d(){var e=Array.prototype.slice.call(arguments,0),k=e.join("\u25ba"),g=d.cache=d.cache||{},h=d.count=d.count||
[];if(g[q](k))return b?b(g[k]):g[k];1E3<=h[w]&&delete g[h.shift()];h[W](k);g[k]=f[X](a,e);return b?b(g[k]):g[k]}return d}function l(){return this.x+" "+this.y}function t(f){return function(a,n,d,e){var k={back:f};b.is(d,"function")?e=d:k.rot=d;a&&a.constructor==ga&&(a=a.attrs.path);a&&(k.along=a);return this.animate(k,n,e)}}function u(f,a,b,d,e,k){function g(f,a){var b,v,n,d;n=f;for(v=0;8>v;v++){d=((s*n+D)*n+h)*n-f;if(V(d)<a)return n;b=(3*s*n+2*D)*n+h;if(1E-6>V(b))break;n-=d/b}b=0;v=1;n=f;if(n<b)return b;
if(n>v)return v;for(;b<v;){d=((s*n+D)*n+h)*n;if(V(d-f)<a)break;f>d?b=n:v=n;n=(v-b)/2+b}return n}var h=3*a,D=3*(d-a)-h,s=1-h-D,l=3*b,m=3*(e-b)-l,r=1-l-m;return function(f,a){var b=g(f,a);return((r*b+m)*b+l)*b}(f,1/(200*k))}b.version="1.5.2";var y=/[, ]+/,z={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},ba=/\{(\d+)\}/g,q="hasOwnProperty",I=document,Z=window,ka=Object.prototype[q].call(Z,"Raphael"),db=Z.Raphael,Wa=function(){this.customAttributes={}},ea,X="apply",eb="createTouch"in I,H=String,kb=
"click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(" "),$={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},w="length",pa=H.prototype.toLowerCase,E=Math,sa=E.max,Na=E.min,V=E.abs,Y=E.pow,T=E.PI,U="number",M="array",Za=Object.prototype.toString,W="push",Aa=/^url\(['"]?([^\)]+?)['"]?\)$/i,Kb=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Pa={NaN:1,Infinity:1,"-Infinity":1},Sb=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,oa=E.round,L=parseFloat,na=parseInt,Sa=H.prototype.toUpperCase,pb={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"",
"stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},xb={along:"along",blur:U,"clip-rect":"csv",cx:U,cy:U,fill:"colour","fill-opacity":U,"font-size":U,height:U,opacity:U,path:"path",r:U,rotation:"csv",rx:U,ry:U,scale:"csv",stroke:"colour","stroke-opacity":U,"stroke-width":U,translation:"csv",width:U,x:U,y:U},Xb=/^(from|to|\d+%?)$/,Xa=/\s*,\s*/,Ia={hs:1,rg:1},
Pb=/,?([achlmqrstvxz]),?/gi,Lb=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,gb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,Fa=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,yb=function(f,a){return f.key-a.key};b.type=Z.SVGAngle||I.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==b.type){var rb=I.createElement("div"),sb;rb.innerHTML='<v:shape adj="1"/>';sb=rb.firstChild;sb.style.behavior="url(#default#VML)";if(!sb||"object"!=typeof sb.adj)return b.type=
null;rb=null}b.svg=!(b.vml="VML"==b.type);Wa.prototype=b.prototype;ea=Wa.prototype;b._id=0;b._oid=0;b.fn={};b.is=function(f,a){a=pa.call(a);return"finite"==a?!Pa[q](+f):"null"==a&&null===f||a==typeof f||"object"==a&&f===Object(f)||"array"==a&&Array.isArray&&Array.isArray(f)||Za.call(f).slice(8,-1).toLowerCase()==a};b.angle=function(f,a,n,d,e,k){return null==e?(f-=n,a-=d,f||a?(180*(0>f)+180*E.atan(-a/-f)/T+360)%360:0):b.angle(f,a,e,k)-b.angle(n,d,e,k)};b.rad=function(f){return f%360*T/180};b.deg=function(f){return 180*
f/T%360};b.snapTo=function(f,a,n){n=b.is(n,"finite")?n:10;if(b.is(f,M))for(var d=f.length;d--;){if(V(f[d]-a)<=n)return f[d]}else{f=+f;d=a%f;if(d<n)return a-d;if(d>f-n)return a-d+f}return a};b.setWindow=function(f){Z=f;I=Z.document};var tb=function(f){if(b.vml){var a=/^\s+|\s+$/g,n;try{var d=new ActiveXObject("htmlfile");d.write("<body>");d.close();n=d.body}catch(e){n=createPopup().document.body}var k=n.createTextRange();tb=h(function(f){try{n.style.color=H(f).replace(a,"");var b=k.queryCommandValue("ForeColor");
return"#"+("000000"+((b&255)<<16|b&65280|(b&16711680)>>>16).toString(16)).slice(-6)}catch(d){return"none"}})}else{var g=I.createElement("i");g.title="Rapha\u00ebl Colour Picker";g.style.display="none";I.body.appendChild(g);tb=h(function(f){g.style.color=f;return I.defaultView.getComputedStyle(g,"").getPropertyValue("color")})}return tb(f)},Mb=function(){return"hsb("+[this.h,this.s,this.b]+")"},Db=function(){return"hsl("+[this.h,this.s,this.l]+")"},Nb=function(){return this.hex};b.hsb2rgb=function(f,
a,n,d){b.is(f,"object")&&"h"in f&&"s"in f&&"b"in f&&(n=f.b,a=f.s,f=f.h,d=f.o);return b.hsl2rgb(f,a,n/2,d)};b.hsl2rgb=function(f,a,n,d){b.is(f,"object")&&"h"in f&&"s"in f&&"l"in f&&(n=f.l,a=f.s,f=f.h);if(1<f||1<a||1<n)f/=360,a/=100,n/=100;var e={},k=["r","g","b"],g;if(a){.5>n?g=n*(1+a):g=n+a-n*a;a=2*n-g;for(var h=0;3>h;h++)n=f+1/3*-(h-1),0>n&&n++,1<n&&n--,1>6*n?e[k[h]]=a+6*(g-a)*n:1>2*n?e[k[h]]=g:2>3*n?e[k[h]]=a+(g-a)*(2/3-n)*6:e[k[h]]=a}else e={r:n,g:n,b:n};e.r*=255;e.g*=255;e.b*=255;e.hex="#"+(16777216|
e.b|e.g<<8|e.r<<16).toString(16).slice(1);b.is(d,"finite")&&(e.opacity=d);e.toString=Nb;return e};b.rgb2hsb=function(f,a,n){null==a&&b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(n=f.b,a=f.g,f=f.r);null==a&&b.is(f,"string")&&(n=b.getRGB(f),f=n.r,a=n.g,n=n.b);if(1<f||1<a||1<n)f/=255,a/=255,n/=255;var d=sa(f,a,n),e=Na(f,a,n),k;if(e==d)return{h:0,s:0,b:d,toString:Mb};e=d-e;f==d?k=(a-n)/e:a==d?k=2+(n-f)/e:k=4+(f-a)/e;k/=6;0>k&&k++;1<k&&k--;return{h:k,s:e/d,b:d,toString:Mb}};b.rgb2hsl=function(f,a,n){null==
a&&b.is(f,"object")&&"r"in f&&"g"in f&&"b"in f&&(n=f.b,a=f.g,f=f.r);null==a&&b.is(f,"string")&&(n=b.getRGB(f),f=n.r,a=n.g,n=n.b);if(1<f||1<a||1<n)f/=255,a/=255,n/=255;var d=sa(f,a,n),e=Na(f,a,n),k,g=(d+e)/2;if(e==d)f={h:0,s:0,l:g};else{var h=d-e;f==d?k=(a-n)/h:a==d?k=2+(n-f)/h:k=4+(f-a)/h;k/=6;0>k&&k++;1<k&&k--;f={h:k,s:.5>g?h/(d+e):h/(2-d-e),l:g}}f.toString=Db;return f};b._path2string=function(){return this.join(",").replace(Pb,"$1")};b.getRGB=h(function(f){if(!f||(f=H(f)).indexOf("-")+1)return{r:-1,
g:-1,b:-1,hex:"none",error:1};if("none"==f)return{r:-1,g:-1,b:-1,hex:"none"};!Ia[q](f.toLowerCase().substring(0,2))&&"#"!=f.charAt()&&(f=tb(f));var a,n,d,e,k;if(f=f.match(Kb)){f[2]&&(d=na(f[2].substring(5),16),n=na(f[2].substring(3,5),16),a=na(f[2].substring(1,3),16));f[3]&&(d=na((k=f[3].charAt(3))+k,16),n=na((k=f[3].charAt(2))+k,16),a=na((k=f[3].charAt(1))+k,16));f[4]&&(k=f[4].split(Xa),a=L(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=L(k[1]),"%"==k[1].slice(-1)&&(n*=2.55),d=L(k[2]),"%"==k[2].slice(-1)&&
(d*=2.55),"rgba"==f[1].toLowerCase().slice(0,4)&&(e=L(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100));if(f[5])return k=f[5].split(Xa),a=L(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=L(k[1]),"%"==k[1].slice(-1)&&(n*=2.55),d=L(k[2]),"%"==k[2].slice(-1)&&(d*=2.55),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(a/=360),"hsba"==f[1].toLowerCase().slice(0,4)&&(e=L(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100),b.hsb2rgb(a,n,d,e);if(f[6])return k=f[6].split(Xa),a=L(k[0]),"%"==k[0].slice(-1)&&(a*=2.55),n=L(k[1]),"%"==
k[1].slice(-1)&&(n*=2.55),d=L(k[2]),"%"==k[2].slice(-1)&&(d*=2.55),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(a/=360),"hsla"==f[1].toLowerCase().slice(0,4)&&(e=L(k[3])),k[3]&&"%"==k[3].slice(-1)&&(e/=100),b.hsl2rgb(a,n,d,e);f={r:a,g:n,b:d};f.hex="#"+(16777216|d|n<<8|a<<16).toString(16).slice(1);b.is(e,"finite")&&(f.opacity=e);return f}return{r:-1,g:-1,b:-1,hex:"none",error:1}},b);b.getColor=function(f){f=this.getColor.start=this.getColor.start||{h:0,s:1,b:f||.75};var a=this.hsb2rgb(f.h,f.s,
f.b);f.h+=.075;1<f.h&&(f.h=0,f.s-=.2,0>=f.s&&(this.getColor.start={h:0,s:1,b:f.b}));return a.hex};b.getColor.reset=function(){delete this.start};b.parsePathString=h(function(f){if(!f)return null;var a={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},n=[];b.is(f,M)&&b.is(f[0],M)&&(n=Eb(f));n[w]||H(f).replace(Lb,function(f,b,d){var e=[];f=pa.call(b);d.replace(gb,function(f,a){a&&e[W](+a)});"m"==f&&2<e[w]&&(n[W]([b].concat(e.splice(0,2))),f="l",b="m"==b?"l":"L");for(;e[w]>=a[f]&&(n[W]([b].concat(e.splice(0,
a[f]))),a[f]););});n.toString=b._path2string;return n});b.findDotsAtSegment=function(f,a,b,d,e,k,g,h,D){var s=1-D,l=Y(s,3)*f+3*Y(s,2)*D*b+3*s*D*D*e+Y(D,3)*g,s=Y(s,3)*a+3*Y(s,2)*D*d+3*s*D*D*k+Y(D,3)*h,m=f+2*D*(b-f)+D*D*(e-2*b+f),r=a+2*D*(d-a)+D*D*(k-2*d+a),p=b+2*D*(e-b)+D*D*(g-2*e+b),q=d+2*D*(k-d)+D*D*(h-2*k+d);f=(1-D)*f+D*b;a=(1-D)*a+D*d;e=(1-D)*e+D*g;k=(1-D)*k+D*h;h=90-180*E.atan((m-p)/(r-q))/T;(m>p||r<q)&&(h+=180);return{x:l,y:s,m:{x:m,y:r},n:{x:p,y:q},start:{x:f,y:a},end:{x:e,y:k},alpha:h}};var ib=
h(function(f){if(!f)return{x:0,y:0,width:0,height:0};f=wb(f);for(var a=0,b=0,d=[],e=[],k,g=0,h=f[w];g<h;g++)k=f[g],"M"==k[0]?(a=k[1],b=k[2],d[W](a),e[W](b)):(a=B(a,b,k[1],k[2],k[3],k[4],k[5],k[6]),d=d.concat(a.min.x,a.max.x),e=e.concat(a.min.y,a.max.y),a=k[5],b=k[6]);f=Na[X](0,d);k=Na[X](0,e);return{x:f,y:k,width:sa[X](0,d)-f,height:sa[X](0,e)-k}}),Eb=function(f){var a=[];b.is(f,M)&&b.is(f&&f[0],M)||(f=b.parsePathString(f));for(var n=0,d=f[w];n<d;n++){a[n]=[];for(var e=0,k=f[n][w];e<k;e++)a[n][e]=
f[n][e]}a.toString=b._path2string;return a},Ob=h(function(f){b.is(f,M)&&b.is(f&&f[0],M)||(f=b.parsePathString(f));var a=[],n=0,d=0,e=0,k=0,g=0;"M"==f[0][0]&&(n=f[0][1],d=f[0][2],e=n,k=d,g++,a[W](["M",n,d]));for(var h=f[w];g<h;g++){var l=a[g]=[],s=f[g];if(s[0]!=pa.call(s[0]))switch(l[0]=pa.call(s[0]),l[0]){case "a":l[1]=s[1];l[2]=s[2];l[3]=s[3];l[4]=s[4];l[5]=s[5];l[6]=+(s[6]-n).toFixed(3);l[7]=+(s[7]-d).toFixed(3);break;case "v":l[1]=+(s[1]-d).toFixed(3);break;case "m":e=s[1],k=s[2];default:for(var m=
1,r=s[w];m<r;m++)l[m]=+(s[m]-(m%2?n:d)).toFixed(3)}else for(a[g]=[],"m"==s[0]&&(e=s[1]+n,k=s[2]+d),l=0,m=s[w];l<m;l++)a[g][l]=s[l];s=a[g][w];switch(a[g][0]){case "z":n=e;d=k;break;case "h":n+=+a[g][s-1];break;case "v":d+=+a[g][s-1];break;default:n+=+a[g][s-2],d+=+a[g][s-1]}}a.toString=b._path2string;return a},0,Eb),jb=h(function(f){b.is(f,M)&&b.is(f&&f[0],M)||(f=b.parsePathString(f));var a=[],n=0,d=0,e=0,k=0,g=0;"M"==f[0][0]&&(n=+f[0][1],d=+f[0][2],e=n,k=d,g++,a[0]=["M",n,d]);for(var h=f[w];g<h;g++){var l=
a[g]=[],s=f[g];if(s[0]!=Sa.call(s[0]))switch(l[0]=Sa.call(s[0]),l[0]){case "A":l[1]=s[1];l[2]=s[2];l[3]=s[3];l[4]=s[4];l[5]=s[5];l[6]=+(s[6]+n);l[7]=+(s[7]+d);break;case "V":l[1]=+s[1]+d;break;case "H":l[1]=+s[1]+n;break;case "M":e=+s[1]+n,k=+s[2]+d;default:for(var m=1,r=s[w];m<r;m++)l[m]=+s[m]+(m%2?n:d)}else for(m=0,r=s[w];m<r;m++)a[g][m]=s[m];switch(l[0]){case "Z":n=e;d=k;break;case "H":n=l[1];break;case "V":d=l[1];break;case "M":e=a[g][a[g][w]-2],k=a[g][a[g][w]-1];default:n=a[g][a[g][w]-2],d=a[g][a[g][w]-
1]}}a.toString=b._path2string;return a},null,Eb),Fb=function(f,a,b,d){return[f,a,b,d,b,d]},Tb=function(f,a,b,d,e,k){var g=1/3,h=2/3;return[g*f+h*b,g*a+h*d,g*e+h*b,g*k+h*d,e,k]},Ta=function(f,a,b,d,e,k,g,l,D,s){var m=120*T/180,r=T/180*(+e||0),p=[],q,t=h(function(f,a,b){var d=f*E.cos(b)-a*E.sin(b);f=f*E.sin(b)+a*E.cos(b);return{x:d,y:f}});if(s)x=s[0],q=s[1],k=s[2],u=s[3];else{q=t(f,a,-r);f=q.x;a=q.y;q=t(l,D,-r);l=q.x;D=q.y;E.cos(T/180*e);E.sin(T/180*e);q=(f-l)/2;x=(a-D)/2;u=q*q/(b*b)+x*x/(d*d);1<u&&
(u=E.sqrt(u),b*=u,d*=u);var u=b*b,y=d*d,u=(k==g?-1:1)*E.sqrt(V((u*y-u*x*x-y*q*q)/(u*x*x+y*q*q)));k=u*b*x/d+(f+l)/2;var u=u*-d*q/b+(a+D)/2,x=E.asin(((a-u)/d).toFixed(9));q=E.asin(((D-u)/d).toFixed(9));x=f<k?T-x:x;q=l<k?T-q:q;0>x&&(x=2*T+x);0>q&&(q=2*T+q);g&&x>q&&(x-=2*T);!g&&q>x&&(q-=2*T)}if(V(q-x)>m){var p=q,y=l,A=D;q=x+m*(g&&q>x?1:-1);l=k+b*E.cos(q);D=u+d*E.sin(q);p=Ta(l,D,b,d,e,0,g,y,A,[q,p,k,u])}k=q-x;e=E.cos(x);m=E.sin(x);g=E.cos(q);q=E.sin(q);k=E.tan(k/4);b=4/3*b*k;k*=4/3*d;d=[f,a];f=[f+b*m,
a-k*e];a=[l+b*q,D-k*g];l=[l,D];f[0]=2*d[0]-f[0];f[1]=2*d[1]-f[1];if(s)return[f,a,l].concat(p);p=[f,a,l].concat(p).join().split(",");s=[];l=0;for(D=p[w];l<D;l++)s[l]=l%2?t(p[l-1],p[l],r).y:t(p[l],p[l+1],r).x;return s},Ba=function(f,a,b,d,e,k,g,h,l){var s=1-l;return{x:Y(s,3)*f+3*Y(s,2)*l*b+3*s*l*l*e+Y(l,3)*g,y:Y(s,3)*a+3*Y(s,2)*l*d+3*s*l*l*k+Y(l,3)*h}},B=h(function(f,a,b,d,e,k,g,h){var l=e-2*b+f-(g-2*e+b),s=2*(b-f)-2*(e-b),m=f-b,q=(-s+E.sqrt(s*s-4*l*m))/2/l,l=(-s-E.sqrt(s*s-4*l*m))/2/l,r=[a,h],p=[f,
g];"1e12"<V(q)&&(q=.5);"1e12"<V(l)&&(l=.5);0<q&&1>q&&(q=Ba(f,a,b,d,e,k,g,h,q),p[W](q.x),r[W](q.y));0<l&&1>l&&(q=Ba(f,a,b,d,e,k,g,h,l),p[W](q.x),r[W](q.y));l=k-2*d+a-(h-2*k+d);s=2*(d-a)-2*(k-d);m=a-d;q=(-s+E.sqrt(s*s-4*l*m))/2/l;l=(-s-E.sqrt(s*s-4*l*m))/2/l;"1e12"<V(q)&&(q=.5);"1e12"<V(l)&&(l=.5);0<q&&1>q&&(q=Ba(f,a,b,d,e,k,g,h,q),p[W](q.x),r[W](q.y));0<l&&1>l&&(q=Ba(f,a,b,d,e,k,g,h,l),p[W](q.x),r[W](q.y));return{min:{x:Na[X](0,p),y:Na[X](0,r)},max:{x:sa[X](0,p),y:sa[X](0,r)}}}),wb=h(function(f,a){var b=
jb(f),d=a&&jb(a),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g=function(f,a){var b,d;if(!f)return["C",a.x,a.y,a.x,a.y,a.x,a.y];f[0]in{T:1,Q:1}||(a.qx=a.qy=null);switch(f[0]){case "M":a.X=f[1];a.Y=f[2];break;case "A":f=["C"].concat(Ta[X](0,[a.x,a.y].concat(f.slice(1))));break;case "S":b=a.x+(a.x-(a.bx||a.x));d=a.y+(a.y-(a.by||a.y));f=["C",b,d].concat(f.slice(1));break;case "T":a.qx=a.x+(a.x-(a.qx||a.x));a.qy=a.y+(a.y-(a.qy||a.y));f=["C"].concat(Tb(a.x,
a.y,a.qx,a.qy,f[1],f[2]));break;case "Q":a.qx=f[1];a.qy=f[2];f=["C"].concat(Tb(a.x,a.y,f[1],f[2],f[3],f[4]));break;case "L":f=["C"].concat(Fb(a.x,a.y,f[1],f[2]));break;case "H":f=["C"].concat(Fb(a.x,a.y,f[1],a.y));break;case "V":f=["C"].concat(Fb(a.x,a.y,a.x,f[1]));break;case "Z":f=["C"].concat(Fb(a.x,a.y,a.X,a.Y))}return f},h=function(f,a){if(7<f[a][w]){f[a].shift();for(var v=f[a];v[w];)f.splice(a++,0,["C"].concat(v.splice(0,6)));f.splice(a,1);m=sa(b[w],d&&d[w]||0)}},l=function(f,a,v,e,k){f&&a&&
"M"==f[k][0]&&"M"!=a[k][0]&&(a.splice(k,0,["M",e.x,e.y]),v.bx=0,v.by=0,v.x=f[k][1],v.y=f[k][2],m=sa(b[w],d&&d[w]||0))},s=0,m=sa(b[w],d&&d[w]||0);for(;s<m;s++){b[s]=g(b[s],e);h(b,s);d&&(d[s]=g(d[s],k));d&&h(d,s);l(b,d,e,k,s);l(d,b,k,e,s);var q=b[s],r=d&&d[s],p=q[w],t=d&&r[w];e.x=q[p-2];e.y=q[p-1];e.bx=L(q[p-4])||e.x;e.by=L(q[p-3])||e.y;k.bx=d&&(L(r[t-4])||k.x);k.by=d&&(L(r[t-3])||k.y);k.x=d&&r[t-2];k.y=d&&r[t-1]}return d?[b,d]:b},null,Eb),mb=h(function(f){for(var a=[],d=0,e=f[w];d<e;d++){var g={},
k=f[d].match(/^([^:]*):?([\d\.]*)/);g.color=b.getRGB(k[1]);if(g.color.error)return null;g.color=g.color.hex;k[2]&&(g.offset=k[2]+"%");a[W](g)}d=1;for(e=a[w]-1;d<e;d++)if(!a[d].offset){f=L(a[d-1].offset||0);k=0;for(g=d+1;g<e;g++)if(a[g].offset){k=a[g].offset;break}k||(k=100,g=e);k=L(k);for(k=(k-f)/(g-d+1);d<g;d++)f+=k,a[d].offset=f+"%"}return a}),ma=function(f,a,d,e){if(b.is(f,"string")||b.is(f,"object")){if(f=b.is(f,"string")?I.getElementById(f):f,f.tagName)return null==a?{container:f,width:f.style.pixelWidth||
f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:a,height:d}}else return{container:1,x:f,y:a,width:d,height:e}},cb=function(f,a){var b=this,d;for(d in a)if(a[q](d)&&!(d in f))switch(typeof a[d]){case "function":(function(a){f[d]=f===b?a:function(){return a[X](b,arguments)}})(a[d]);break;case "object":f[d]=f[d]||{};cb.call(this,f[d],a[d]);break;default:f[d]=a[d]}},ra=function(f,a){f==a.top&&(a.top=f.prev);f==a.bottom&&(a.bottom=f.next);f.next&&(f.next.prev=f.prev);f.prev&&
(f.prev.next=f.next)},Va=function(f,a){a.top!==f&&(ra(f,a),f.next=null,f.prev=a.top,a.top.next=f,a.top=f)},wa=function(a,b){b.bottom!==a&&(ra(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},Jb=function(a,b,d){ra(a,d);b==d.top&&(d.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a},Gb=function(a,b,d){ra(a,d);b==d.bottom&&(d.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;b.prev=a;a.next=b},xa=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+
a+"\u201d of removed object");}};b.pathToRelative=Ob;if(b.svg){ea.svgns="http://www.w3.org/2000/svg";ea.xlink="http://www.w3.org/1999/xlink";var oa=function(a){return+a+.5*(~~a===a)},C=function(a,b){if(b)for(var d in b)b[q](d)&&a.setAttribute(d,H(b[d]));else return a=I.createElementNS(ea.svgns,a),a.style.webkitTapHighlightColor="rgba(0,0,0,0)",a};b.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var zb=function(a,b){var d=C("path");b.canvas&&b.canvas.appendChild(d);
d=new ga(d,b);d.type="path";Ra(d,{fill:"none",stroke:"#000",path:a});return d},hb=function(a,b,d){var g="linear",h=.5,k=.5,l=a.style;b=H(b).replace(Fa,function(a,f,b){g="radial";f&&b&&(h=L(f),k=L(b),a=2*(.5<k)-1,.25<Y(h-.5,2)+Y(k-.5,2)&&(k=E.sqrt(.25-Y(h-.5,2))*a+.5)&&.5!=k&&(k=k.toFixed(5)-1E-5*a));return""});b=b.split(/\s*\-\s*/);if("linear"==g){var m=b.shift(),m=-L(m);if(isNaN(m))return null;var m=[0,0,E.cos(m*T/180),E.sin(m*T/180)],q=1/(sa(V(m[2]),V(m[3]))||1);m[2]*=q;m[3]*=q;0>m[2]&&(m[0]=-m[2],
m[2]=0);0>m[3]&&(m[1]=-m[3],m[3]=0)}b=mb(b);if(!b)return null;q=a.getAttribute("fill");(q=q.match(/^url\(#(.*)\)$/))&&d.defs.removeChild(I.getElementById(q[1]));q=C(g+"Gradient");q.id=e();C(q,"radial"==g?{fx:h,fy:k}:{x1:m[0],y1:m[1],x2:m[2],y2:m[3]});d.defs.appendChild(q);d=0;for(m=b[w];d<m;d++){var s=C("stop");C(s,{offset:b[d].offset?b[d].offset:d?"100%":"0%","stop-color":b[d].color||"#fff"});q.appendChild(s)}C(a,{fill:"url(#"+q.id+")",opacity:1,"fill-opacity":1});l.fill="";l.opacity=1;return l.fillOpacity=
1},$a=function(a){var d=a.getBBox();C(a.pattern,{patternTransform:b.format("translate({0},{1})",d.x,d.y)})},Ra=function(a,d){var n={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},g=a.node,h=a.attrs,k=a.rotate(),l=function(a,f){if(f=n[pa.call(f)]){for(var b=a.attrs["stroke-width"]||"1",e={round:b,square:b,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,k=[],h=f[w];h--;)k[h]=f[h]*
b+(h%2?1:-1)*e;C(g,{"stroke-dasharray":k.join(",")})}};d[q]("rotation")&&(k=d.rotation);var m=H(k).split(y);m.length-1?(m[1]=+m[1],m[2]=+m[2]):m=null;L(k)&&a.rotate(0,!0);for(var r in d)if(d[q](r)&&pb[q](r)){var s=d[r];h[r]=s;switch(r){case "blur":a.blur(s);break;case "rotation":a.rotate(s,!0);break;case "href":case "title":case "target":var p=g.parentNode;if("a"!=pa.call(p.tagName)){var t=C("a");p.insertBefore(t,g);t.appendChild(g);p=t}"target"==r&&"blank"==s?p.setAttributeNS(a.paper.xlink,"show",
"new"):p.setAttributeNS(a.paper.xlink,r,s);break;case "cursor":g.style.cursor=s;break;case "clip-rect":p=H(s).split(y);if(4==p[w]){a.clip&&a.clip.parentNode.parentNode.removeChild(a.clip.parentNode);var u=C("clipPath"),t=C("rect");u.id=e();C(t,{x:p[0],y:p[1],width:p[2],height:p[3]});u.appendChild(t);a.paper.defs.appendChild(u);C(g,{"clip-path":"url(#"+u.id+")"});a.clip=t}s||((s=I.getElementById(g.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&s.parentNode.removeChild(s),C(g,{"clip-path":""}),
delete a.clip);break;case "path":"path"==a.type&&C(g,{d:s?h.path=jb(s):"M0,0"});break;case "width":if(g.setAttribute(r,s),h.fx)r="x",s=h.x;else break;case "x":h.fx&&(s=-h.x-(h.width||0));case "rx":if("rx"==r&&"rect"==a.type)break;case "cx":m&&("x"==r||"cx"==r)&&(m[1]+=s-h[r]);g.setAttribute(r,s);a.pattern&&$a(a);break;case "height":if(g.setAttribute(r,s),h.fy)r="y",s=h.y;else break;case "y":h.fy&&(s=-h.y-(h.height||0));case "ry":if("ry"==r&&"rect"==a.type)break;case "cy":m&&("y"==r||"cy"==r)&&(m[2]+=
s-h[r]);g.setAttribute(r,s);a.pattern&&$a(a);break;case "r":"rect"==a.type?C(g,{rx:s,ry:s}):g.setAttribute(r,s);break;case "src":"image"==a.type&&g.setAttributeNS(a.paper.xlink,"href",s);break;case "stroke-width":g.style.strokeWidth=s;g.setAttribute(r,s);h["stroke-dasharray"]&&l(a,h["stroke-dasharray"]);break;case "stroke-dasharray":l(a,s);break;case "translation":s=H(s).split(y);s[0]=+s[0]||0;s[1]=+s[1]||0;m&&(m[1]+=s[0],m[2]+=s[1]);K.call(a,s[0],s[1]);break;case "scale":s=H(s).split(y);a.scale(+s[0]||
1,+s[1]||+s[0]||1,isNaN(L(s[2]))?null:+s[2],isNaN(L(s[3]))?null:+s[3]);break;case "fill":if(p=H(s).match(Aa)){var u=C("pattern"),x=C("image");u.id=e();C(u,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});C(x,{x:0,y:0});x.setAttributeNS(a.paper.xlink,"href",p[1]);u.appendChild(x);s=I.createElement("img");s.style.cssText="position:absolute;left:-9999em;top-9999em";s.onload=function(){C(u,{width:this.offsetWidth,height:this.offsetHeight});C(x,{width:this.offsetWidth,height:this.offsetHeight});
I.body.removeChild(this);a.paper.safari()};I.body.appendChild(s);s.src=p[1];a.paper.defs.appendChild(u);g.style.fill="url(#"+u.id+")";C(g,{fill:"url(#"+u.id+")"});a.pattern=u;a.pattern&&$a(a);break}p=b.getRGB(s);if(p.error)if(({circle:1,ellipse:1}[q](a.type)||"r"!=H(s).charAt())&&hb(g,s,a.paper)){h.gradient=s;h.fill="none";break}else delete d.gradient,delete h.gradient,!b.is(h.opacity,"undefined")&&b.is(d.opacity,"undefined")&&C(g,{opacity:h.opacity}),!b.is(h["fill-opacity"],"undefined")&&b.is(d["fill-opacity"],
"undefined")&&C(g,{"fill-opacity":h["fill-opacity"]});p[q]("opacity")&&C(g,{"fill-opacity":1<p.opacity?p.opacity/100:p.opacity});case "stroke":p=b.getRGB(s);g.setAttribute(r,p.hex);"stroke"==r&&p[q]("opacity")&&C(g,{"stroke-opacity":1<p.opacity?p.opacity/100:p.opacity});break;case "gradient":({circle:1,ellipse:1}[q](a.type)||"r"!=H(s).charAt())&&hb(g,s,a.paper);break;case "opacity":h.gradient&&!h[q]("stroke-opacity")&&C(g,{"stroke-opacity":1<s?s/100:s});case "fill-opacity":if(h.gradient){if(p=I.getElementById(g.getAttribute("fill").replace(/^url\(#|\)$/g,
"")))p=p.getElementsByTagName("stop"),p[p[w]-1].setAttribute("stop-opacity",s);break}default:"font-size"==r&&(s=na(s,10)+"px"),p=r.replace(/(\-.)/g,function(a){return Sa.call(a.substring(1))}),g.style[p]=s,g.setAttribute(r,s)}}Ub(a,d);m?a.rotate(m.join(" ")):L(k)&&a.rotate(k,!0)},Ub=function(a,d){if("text"==a.type&&(d[q]("text")||d[q]("font")||d[q]("font-size")||d[q]("x")||d[q]("y"))){var n=a.attrs,e=a.node,g=e.firstChild?na(I.defaultView.getComputedStyle(e.firstChild,"").getPropertyValue("font-size"),
10):10;if(d[q]("text")){for(n.text=d.text;e.firstChild;)e.removeChild(e.firstChild);for(var k=H(d.text).split("\n"),h=0,l=k[w];h<l;h++)if(k[h]){var m=C("tspan");h&&C(m,{dy:1.2*g,x:n.x});m.appendChild(I.createTextNode(k[h]));e.appendChild(m)}}else for(k=e.getElementsByTagName("tspan"),h=0,l=k[w];h<l;h++)h&&C(k[h],{dy:1.2*g,x:n.x});C(e,{y:n.y});g=a.getBBox();(g=n.y-(g.y+g.height/2))&&b.is(g,"finite")&&C(e,{y:n.y+g})}},ga=function(a,d){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.paper=
d;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1};!d.bottom&&(d.bottom=this);(this.prev=d.top)&&(d.top.next=this);d.top=this;this.next=null},da=ga.prototype;ga.prototype.rotate=function(a,d,n){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;var e=this.getBBox();a=H(a).split(y);a[w]-1&&(d=L(a[1]),n=L(a[2]));a=L(a[0]);null!=d&&!1!==d?this._.rt.deg=a:this._.rt.deg+=a;null==
n&&(d=null);this._.rt.cx=d;this._.rt.cy=n;d=null==d?e.x+e.width/2:d;n=null==n?e.y+e.height/2:n;this._.rt.deg?(this.transformations[0]=b.format("rotate({0} {1} {2})",this._.rt.deg,d,n),this.clip&&C(this.clip,{transform:b.format("rotate({0} {1} {2})",-this._.rt.deg,d,n)})):(this.transformations[0]="",this.clip&&C(this.clip,{transform:""}));C(this.node,{transform:this.transformations.join(" ")});return this};ga.prototype.hide=function(){!this.removed&&(this.node.style.display="none");return this};ga.prototype.show=
function(){!this.removed&&(this.node.style.display="");return this};ga.prototype.remove=function(){if(!this.removed){ra(this,this.paper);this.node.parentNode.removeChild(this.node);for(var a in this)delete this[a];this.removed=!0}};ga.prototype.getBBox=function(){if(this.removed)return this;if("path"==this.type)return ib(this.attrs.path);if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(d){}finally{b=b||{}}if("text"==this.type)for(var b={x:b.x,y:Infinity,
width:0,height:0},e=0,g=this.node.getNumberOfChars();e<g;e++){var k=this.node.getExtentOfChar(e);k.y<b.y&&(b.y=k.y);k.y+k.height-b.y>b.height&&(b.height=k.y+k.height-b.y);k.x+k.width-b.x>b.width&&(b.width=k.x+k.width-b.x)}a&&this.hide();return b};ga.prototype.attr=function(a,d){if(this.removed)return this;if(null==a){var n={},e;for(e in this.attrs)this.attrs[q](e)&&(n[e]=this.attrs[e]);this._.rt.deg&&(n.rotation=this.rotate());1==this._.sx&&1==this._.sy||(n.scale=this.scale());n.gradient&&"none"==
n.fill&&(n.fill=n.gradient)&&delete n.gradient;return n}if(null==d&&b.is(a,"string"))return"translation"==a?K.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(null==d&&b.is(a,M)){e={};for(var n=0,g=a.length;n<g;n++)e[a[n]]=this.attr(a[n]);return e}null!=d?(n={},n[a]=d):null!=a&&b.is(a,"object")&&(n=a);for(g in this.paper.customAttributes)if(this.paper.customAttributes[q](g)&&n[q](g)&&b.is(this.paper.customAttributes[g],
"function")){e=this.paper.customAttributes[g].apply(this,[].concat(n[g]));this.attrs[g]=n[g];for(var k in e)e[q](k)&&(n[k]=e[k])}Ra(this,n);return this};ga.prototype.toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var a=this.paper;a.top!=this&&Va(this,a);return this};ga.prototype.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),wa(this,this.paper));
return this};ga.prototype.insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node);Jb(this,a,this.paper);return this};ga.prototype.insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;b.parentNode.insertBefore(this.node,b);Gb(this,a,this.paper);return this};ga.prototype.blur=function(a){if(0!==+a){var b=C("filter"),d=C("feGaussianBlur");this.attrs.blur=
a;b.id=e();C(d,{stdDeviation:+a||1.5});b.appendChild(d);this.paper.defs.appendChild(b);this._blur=b;C(this.node,{filter:"url(#"+b.id+")"})}else this._blur&&(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};var Vb=function(a,b,d,e){var g=C("circle");a.canvas&&a.canvas.appendChild(g);a=new ga(g,a);a.attrs={cx:b,cy:d,r:e,fill:"none",stroke:"#000"};a.type="circle";C(g,a.attrs);return a},ac=function(a,b,d,e,g,k){var h=C("rect");
a.canvas&&a.canvas.appendChild(h);a=new ga(h,a);a.attrs={x:b,y:d,width:e,height:g,r:k||0,rx:k||0,ry:k||0,fill:"none",stroke:"#000"};a.type="rect";C(h,a.attrs);return a},ua=function(a,b,d,e,g){var k=C("ellipse");a.canvas&&a.canvas.appendChild(k);a=new ga(k,a);a.attrs={cx:b,cy:d,rx:e,ry:g,fill:"none",stroke:"#000"};a.type="ellipse";C(k,a.attrs);return a},ab=function(a,b,d,e,g,k){var h=C("image");C(h,{x:d,y:e,width:g,height:k,preserveAspectRatio:"none"});h.setAttributeNS(a.xlink,"href",b);a.canvas&&
a.canvas.appendChild(h);a=new ga(h,a);a.attrs={x:d,y:e,width:g,height:k,src:b};a.type="image";return a},Qa=function(a,b,d,e){var g=C("text");C(g,{x:b,y:d,"text-anchor":"middle"});a.canvas&&a.canvas.appendChild(g);a=new ga(g,a);a.attrs={x:b,y:d,"text-anchor":"middle",text:e,font:pb.font,stroke:"none",fill:"#000"};a.type="text";Ra(a,a.attrs);return a},Ib=function(a,b){this.width=a||this.width;this.height=b||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);
return this},fb=function(){var a=ma[X](0,arguments),d=a&&a.container,n=a.x,e=a.y,g=a.width,a=a.height;if(!d)throw Error("SVG container not found.");var k=C("svg"),n=n||0,e=e||0,g=g||512,a=a||342;C(k,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:g,height:a});1==d?(k.style.cssText="position:absolute;left:"+n+"px;top:"+e+"px",I.body.appendChild(k)):d.firstChild?d.insertBefore(k,d.firstChild):d.appendChild(k);d=new Wa;d.width=g;d.height=a;d.canvas=k;cb.call(d,d,b.fn);d.clear();return d};ea.clear=
function(){for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null;(this.desc=C("desc")).appendChild(I.createTextNode("Created with Rapha\u00ebl"));a.appendChild(this.desc);a.appendChild(this.defs=C("defs"))};ea.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=xa(a)}}if(b.vml){var Ab=function(a,d,n,e,g){return g?b.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
a+g,d,n-2*g,g,-g,e-2*g,2*g-n,2*g-e):b.format("M{0},{1}l{2},0,0,{3},{4},0z",a,d,n,e,-n)},Yb={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Ua=/([clmz]),?([^clmz]*)/gi,aa=/ progid:\S+Blur\([^\)]+\)/g,$b=/-?[^,\s-]+/g,bb={path:1,rect:1},Bb=function(a){var b=/[ahqstv]/ig,d=jb;H(a).match(b)&&(d=wb);b=/[clmz]/g;if(d==jb&&!H(a).match(b))return a=H(a).replace(Ua,function(a,b,f){var d=[],e="m"==pa.call(b),n=Yb[b];f.replace($b,function(a){e&&2==d[w]&&(n+=d+Yb["m"==b?"l":"L"],d=[]);d[W](oa(10*a))});return n+
d});var b=d(a),e;a=[];for(var g=0,k=b[w];g<k;g++){d=b[g];e=pa.call(b[g][0]);"z"==e&&(e="x");for(var h=1,l=d[w];h<l;h++)e+=oa(10*d[h])+(h!=l-1?",":"");a[W](e)}return a.join(" ")};b.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+this.version};zb=function(a,b){var d=Ca("group");d.style.cssText="position:absolute;left:0;top:0;width:"+b.width+"px;height:"+b.height+"px";d.coordsize=b.coordsize;d.coordorigin=b.coordorigin;var e=Ca("shape"),
g=e.style;g.width=b.width+"px";g.height=b.height+"px";e.coordsize="1000 1000";e.coordorigin=b.coordorigin;d.appendChild(e);e=new ga(e,d,b);g={fill:"none",stroke:"#000"};a&&(g.path=a);e.type="path";e.path=[];e.Path="";Ra(e,g);b.canvas.appendChild(d);return e};Ra=function(a,d){a.attrs=a.attrs||{};var e=a.node,g=a.attrs,h=e.style,k;k=(d.x!=g.x||d.y!=g.y||d.width!=g.width||d.height!=g.height||d.r!=g.r)&&"rect"==a.type;for(var l in d)d[q](l)&&(g[l]=d[l]);k&&(g.path=Ab(g.x,g.y,g.width,g.height,g.r),a.X=
g.x,a.Y=g.y,a.W=g.width,a.H=g.height);d.href&&(e.href=d.href);d.title&&(e.title=d.title);d.target&&(e.target=d.target);d.cursor&&(h.cursor=d.cursor);"blur"in d&&a.blur(d.blur);if(d.path&&"path"==a.type||k)e.path=Bb(g.path);null!=d.rotation&&a.rotate(d.rotation,!0);d.translation&&(k=H(d.translation).split(y),K.call(a,k[0],k[1]),null!=a._.rt.cx&&(a._.rt.cx+=+k[0],a._.rt.cy+=+k[1],a.setBox(a.attrs,k[0],k[1])));d.scale&&(k=H(d.scale).split(y),a.scale(+k[0]||1,+k[1]||+k[0]||1,+k[2]||null,+k[3]||null));
if("clip-rect"in d){k=H(d["clip-rect"]).split(y);if(4==k[w]){k[2]=+k[2]+ +k[0];k[3]=+k[3]+ +k[1];l=e.clipRect||I.createElement("div");var m=l.style,r=e.parentNode;m.clip=b.format("rect({1}px {2}px {3}px {0}px)",k);e.clipRect||(m.position="absolute",m.top=0,m.left=0,m.width=a.paper.width+"px",m.height=a.paper.height+"px",r.parentNode.insertBefore(l,r),l.appendChild(r),e.clipRect=l)}d["clip-rect"]||e.clipRect&&(e.clipRect.style.clip="")}"image"==a.type&&d.src&&(e.src=d.src);"image"==a.type&&d.opacity&&
(e.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+100*d.opacity+")",h.filter=(e.filterMatrix||"")+(e.filterOpacity||""));d.font&&(h.font=d.font);d["font-family"]&&(h.fontFamily='"'+d["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');d["font-size"]&&(h.fontSize=d["font-size"]);d["font-weight"]&&(h.fontWeight=d["font-weight"]);d["font-style"]&&(h.fontStyle=d["font-style"]);if(null!=d.opacity||null!=d["stroke-width"]||null!=d.fill||null!=d.stroke||null!=d["stroke-width"]||
null!=d["stroke-opacity"]||null!=d["fill-opacity"]||null!=d["stroke-dasharray"]||null!=d["stroke-miterlimit"]||null!=d["stroke-linejoin"]||null!=d["stroke-linecap"]){e=a.shape||e;k=e.getElementsByTagName("fill")&&e.getElementsByTagName("fill")[0];l=!1;!k&&(l=k=Ca("fill"));if("fill-opacity"in d||"opacity"in d)h=((+g["fill-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+b.getRGB(d.fill).o+1||2)-1),h=Na(sa(h,0),1),k.opacity=h;d.fill&&(k.on=!0);if(null==k.on||"none"==d.fill)k.on=!1;k.on&&d.fill&&((h=d.fill.match(Aa))?
(k.src=h[1],k.type="tile"):(k.color=b.getRGB(d.fill).hex,k.src="",k.type="solid",b.getRGB(d.fill).error&&(a.type in{circle:1,ellipse:1}||"r"!=H(d.fill).charAt())&&hb(a,d.fill)&&(g.fill="none",g.gradient=d.fill)));l&&e.appendChild(k);k=e.getElementsByTagName("stroke")&&e.getElementsByTagName("stroke")[0];l=!1;!k&&(l=k=Ca("stroke"));if(d.stroke&&"none"!=d.stroke||d["stroke-width"]||null!=d["stroke-opacity"]||d["stroke-dasharray"]||d["stroke-miterlimit"]||d["stroke-linejoin"]||d["stroke-linecap"])k.on=
!0;"none"!=d.stroke&&null!=k.on&&0!=d.stroke&&0!=d["stroke-width"]||(k.on=!1);h=b.getRGB(d.stroke);k.on&&d.stroke&&(k.color=h.hex);h=((+g["stroke-opacity"]+1||2)-1)*((+g.opacity+1||2)-1)*((+h.o+1||2)-1);m=.75*(L(d["stroke-width"])||1);h=Na(sa(h,0),1);null==d["stroke-width"]&&(m=g["stroke-width"]);d["stroke-width"]&&(k.weight=m);m&&1>m&&(h*=m)&&(k.weight=1);k.opacity=h;d["stroke-linejoin"]&&(k.joinstyle=d["stroke-linejoin"]||"miter");k.miterlimit=d["stroke-miterlimit"]||8;d["stroke-linecap"]&&(k.endcap=
"butt"==d["stroke-linecap"]?"flat":"square"==d["stroke-linecap"]?"square":"round");d["stroke-dasharray"]&&(h={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},k.dashstyle=h[q](d["stroke-dasharray"])?h[d["stroke-dasharray"]]:"");l&&e.appendChild(k)}if("text"==a.type)switch(h=a.paper.span.style,g.font&&(h.font=g.font),g["font-family"]&&(h.fontFamily=g["font-family"]),g["font-size"]&&
(h.fontSize=g["font-size"]),g["font-weight"]&&(h.fontWeight=g["font-weight"]),g["font-style"]&&(h.fontStyle=g["font-style"]),a.node.string&&(a.paper.span.innerHTML=H(a.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),a.W=g.w=a.paper.span.offsetWidth,a.H=g.h=a.paper.span.offsetHeight,a.X=g.x,a.Y=g.y+oa(a.H/2),g["text-anchor"]){case "start":a.node.style["v-text-align"]="left";a.bbx=oa(a.W/2);break;case "end":a.node.style["v-text-align"]="right";a.bbx=-oa(a.W/2);break;
default:a.node.style["v-text-align"]="center"}};hb=function(a,b){a.attrs=a.attrs||{};var d,e="linear",g=".5 .5";a.attrs.gradient=b;b=H(b).replace(Fa,function(a,b,f){e="radial";b&&f&&(b=L(b),f=L(f),.25<Y(b-.5,2)+Y(f-.5,2)&&(f=E.sqrt(.25-Y(b-.5,2))*(2*(.5<f)-1)+.5),g=b+" "+f);return""});b=b.split(/\s*\-\s*/);if("linear"==e){var k=b.shift(),k=-L(k);if(isNaN(k))return null}var h=mb(b);if(!h)return null;a=a.shape||a.node;d=a.getElementsByTagName("fill")[0]||Ca("fill");!d.parentNode&&a.appendChild(d);if(h[w]){d.on=
!0;d.method="none";d.color=h[0].color;d.color2=h[h[w]-1].color;for(var l=[],m=0,s=h[w];m<s;m++)h[m].offset&&l[W](h[m].offset+" "+h[m].color);d.colors&&(d.colors.value=l[w]?l.join():"0% "+d.color);"radial"==e?(d.type="gradientradial",d.focus="100%",d.focussize=g,d.focusposition=g):(d.type="gradient",d.angle=(270-k)%360)}return 1};ga=function(a,d,e){this[0]=a;this.id=b._oid++;this.node=a;a.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=d;this.paper=e;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!e.bottom&&
(e.bottom=this);(this.prev=e.top)&&(e.top.next=this);e.top=this;this.next=null};da=ga.prototype;da.rotate=function(a,b,d){if(this.removed)return this;if(null==a)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy].join(" "):this._.rt.deg;a=H(a).split(y);a[w]-1&&(b=L(a[1]),d=L(a[2]));a=L(a[0]);null!=b?this._.rt.deg=a:this._.rt.deg+=a;null==d&&(b=null);this._.rt.cx=b;this._.rt.cy=d;this.setBox(this.attrs,b,d);this.Group.style.rotation=this._.rt.deg;return this};da.setBox=function(a,b,d){if(this.removed)return this;
var e=this.Group.style,g=this.shape&&this.shape.style||this.node.style;a=a||{};for(var k in a)a[q](k)&&(this.attrs[k]=a[k]);b=b||this._.rt.cx;d=d||this._.rt.cy;var h=this.attrs,l;switch(this.type){case "circle":a=h.cx-h.r;k=h.cy-h.r;l=h=2*h.r;break;case "ellipse":a=h.cx-h.rx;k=h.cy-h.ry;l=2*h.rx;h=2*h.ry;break;case "image":a=+h.x;k=+h.y;l=h.width||0;h=h.height||0;break;case "text":this.textpath.v=["m",oa(h.x),", ",oa(h.y-2),"l",oa(h.x)+1,", ",oa(h.y-2)].join("");a=h.x-oa(this.W/2);k=h.y-this.H/2;
l=this.W;h=this.H;break;case "rect":case "path":this.attrs.path?(h=ib(this.attrs.path),a=h.x,k=h.y,l=h.width,h=h.height):(k=a=0,l=this.paper.width,h=this.paper.height);break;default:k=a=0,l=this.paper.width,h=this.paper.height}b=(null==b?a+l/2:b)-this.paper.width/2;d=(null==d?k+h/2:d)-this.paper.height/2;var m;e.left!=(m=b+"px")&&(e.left=m);e.top!=(m=d+"px")&&(e.top=m);this.X=bb[q](this.type)?-b:a;this.Y=bb[q](this.type)?-d:k;this.W=l;this.H=h;bb[q](this.type)?(g.left!=(m=10*-b+"px")&&(g.left=m),
g.top!=(m=10*-d+"px")&&(g.top=m)):"text"==this.type?(g.left!=(m=-b+"px")&&(g.left=m),g.top!=(m=-d+"px")&&(g.top=m)):(e.width!=(m=this.paper.width+"px")&&(e.width=m),e.height!=(m=this.paper.height+"px")&&(e.height=m),g.left!=(m=a-b+"px")&&(g.left=m),g.top!=(m=k-d+"px")&&(g.top=m),g.width!=(m=l+"px")&&(g.width=m),g.height!=(m=h+"px")&&(g.height=m))};da.hide=function(){!this.removed&&(this.Group.style.display="none");return this};da.show=function(){!this.removed&&(this.Group.style.display="block");return this};
da.getBBox=function(){return this.removed?this:bb[q](this.type)?ib(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};da.remove=function(){if(!this.removed){ra(this,this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)delete this[a];this.removed=!0}};da.attr=function(a,d){if(this.removed)return this;if(null==a){var e={},g;for(g in this.attrs)this.attrs[q](g)&&
(e[g]=this.attrs[g]);this._.rt.deg&&(e.rotation=this.rotate());1==this._.sx&&1==this._.sy||(e.scale=this.scale());e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient;return e}if(null==d&&b.is(a,"string"))return"translation"==a?K.call(this):"rotation"==a?this.rotate():"scale"==a?this.scale():"fill"==a&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[a];if(this.attrs&&null==d&&b.is(a,M)){var h={};g=0;for(e=a[w];g<e;g++)h[a[g]]=this.attr(a[g]);return h}null!=
d&&(e={},e[a]=d);null==d&&b.is(a,"object")&&(e=a);if(e){for(h in this.paper.customAttributes)if(this.paper.customAttributes[q](h)&&e[q](h)&&b.is(this.paper.customAttributes[h],"function")){g=this.paper.customAttributes[h].apply(this,[].concat(e[h]));this.attrs[h]=e[h];for(var k in g)g[q](k)&&(e[k]=g[k])}e.text&&"text"==this.type&&(this.node.string=e.text);Ra(this,e);e.gradient&&({circle:1,ellipse:1}[q](this.type)||"r"!=H(e.gradient).charAt())&&hb(this,e.gradient);bb[q](this.type)&&!this._.rt.deg||
this.setBox(this.attrs)}return this};da.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=this&&Va(this,this.paper);return this};da.toBack=function(){if(this.removed)return this;this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),wa(this,this.paper));return this};da.insertAfter=function(a){if(this.removed)return this;a.constructor==S&&(a=a[a.length-1]);a.Group.nextSibling?a.Group.parentNode.insertBefore(this.Group,
a.Group.nextSibling):a.Group.parentNode.appendChild(this.Group);Jb(this,a,this.paper);return this};da.insertBefore=function(a){if(this.removed)return this;a.constructor==S&&(a=a[0]);a.Group.parentNode.insertBefore(this.Group,a.Group);Gb(this,a,this.paper);return this};da.blur=function(a){var d=this.node.runtimeStyle,e=d.filter,e=e.replace(aa,"");0!==+a?(this.attrs.blur=a,d.filter=e+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+a||1.5)+")",d.margin=b.format("-{0}px 0 0 -{0}px",oa(+a||1.5))):
(d.filter=e,d.margin=0,delete this.attrs.blur)};var Vb=function(a,b,d,e){var g=Ca("group"),k=Ca("oval");g.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";g.coordsize="1000 1000";g.coordorigin=a.coordorigin;g.appendChild(k);k=new ga(k,g,a);k.type="circle";Ra(k,{stroke:"#000",fill:"none"});k.attrs.cx=b;k.attrs.cy=d;k.attrs.r=e;k.setBox({x:b-e,y:d-e,width:2*e,height:2*e});a.canvas.appendChild(g);return k},ac=function(a,b,d,e,g,k){var h=Ab(b,d,e,g,k);a=a.path(h);
var l=a.attrs;a.X=l.x=b;a.Y=l.y=d;a.W=l.width=e;a.H=l.height=g;l.r=k;l.path=h;a.type="rect";return a},ua=function(a,b,d,e,g){var k=Ca("group"),h=Ca("oval");k.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";k.coordsize="1000 1000";k.coordorigin=a.coordorigin;k.appendChild(h);h=new ga(h,k,a);h.type="ellipse";Ra(h,{stroke:"#000"});h.attrs.cx=b;h.attrs.cy=d;h.attrs.rx=e;h.attrs.ry=g;h.setBox({x:b-e,y:d-g,width:2*e,height:2*g});a.canvas.appendChild(k);return h},
ab=function(a,b,d,e,g,h){var l=Ca("group"),m=Ca("image");l.style.cssText="position:absolute;left:0;top:0;width:"+a.width+"px;height:"+a.height+"px";l.coordsize="1000 1000";l.coordorigin=a.coordorigin;m.src=b;l.appendChild(m);m=new ga(m,l,a);m.type="image";m.attrs.src=b;m.attrs.x=d;m.attrs.y=e;m.attrs.w=g;m.attrs.h=h;m.setBox({x:d,y:e,width:g,height:h});a.canvas.appendChild(l);return m},Qa=function(a,d,e,g){var h=Ca("group"),k=Ca("shape"),l=k.style,m=Ca("path"),q=Ca("textpath");h.style.cssText="position:absolute;left:0;top:0;width:"+
a.width+"px;height:"+a.height+"px";h.coordsize="1000 1000";h.coordorigin=a.coordorigin;m.v=b.format("m{0},{1}l{2},{1}",oa(10*d),oa(10*e),oa(10*d)+1);m.textpathok=!0;l.width=a.width;l.height=a.height;q.string=H(g);q.on=!0;k.appendChild(q);k.appendChild(m);h.appendChild(k);l=new ga(q,h,a);l.shape=k;l.textpath=m;l.type="text";l.attrs.text=g;l.attrs.x=d;l.attrs.y=e;l.attrs.w=1;l.attrs.h=1;Ra(l,{font:pb.font,stroke:"none",fill:"#000"});l.setBox();a.canvas.appendChild(h);return l},Ib=function(a,b){var d=
this.canvas.style;a==+a&&(a+="px");b==+b&&(b+="px");d.width=a;d.height=b;d.clip="rect(0 "+a+" "+b+" 0)";return this},Ca;I.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!I.namespaces.rvml&&I.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),Ca=function(a){return I.createElement("<rvml:"+a+' class="rvml">')}}catch(qb){Ca=function(a){return I.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}fb=function(){var a=ma[X](0,arguments),d=a.container,e=
a.height,g=a.width,h=a.x,a=a.y;if(!d)throw Error("VML container not found.");var k=new Wa,l=k.canvas=I.createElement("div"),m=l.style,h=h||0,a=a||0,g=g||512,e=e||342;g==+g&&(g+="px");e==+e&&(e+="px");k.width=1E3;k.height=1E3;k.coordsize="10000 10000";k.coordorigin="0 0";k.span=I.createElement("span");k.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";l.appendChild(k.span);m.cssText=b.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
g,e);1==d?(I.body.appendChild(l),m.left=h+"px",m.top=a+"px",m.position="absolute"):d.firstChild?d.insertBefore(l,d.firstChild):d.appendChild(l);cb.call(k,k,b.fn);return k};ea.clear=function(){this.canvas.innerHTML="";this.span=I.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};ea.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]=
xa(a);return!0}}var Cb=navigator.userAgent.match(/Version\\x2f(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(Cb&&4>Cb[1]||"iP"==navigator.platform.slice(0,2))?ea.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});Z.setTimeout(function(){a.remove()})}:ea.safari=function(){};for(var cc=function(){this.returnValue=!1},dc=function(){return this.originalEvent.preventDefault()},ec=function(){this.cancelBubble=!0},a=function(){return this.originalEvent.stopPropagation()},
g=function(){if(I.addEventListener)return function(b,d,e,g){var h=eb&&$[d]?$[d]:d,k=function(h){if(eb&&$[q](d))for(var k=0,l=h.targetTouches&&h.targetTouches.length;k<l;k++)if(h.targetTouches[k].target==b){l=h;h=h.targetTouches[k];h.originalEvent=l;h.preventDefault=dc;h.stopPropagation=a;break}return e.call(g,h)};b.addEventListener(h,k,!1);return function(){b.removeEventListener(h,k,!1);return!0}};if(I.attachEvent)return function(a,b,d,e){var g=function(a){a=a||Z.event;a.preventDefault=a.preventDefault||
cc;a.stopPropagation=a.stopPropagation||ec;return d.call(e,a)};a.attachEvent("on"+b,g);return function(){a.detachEvent("on"+b,g);return!0}}}(),d=[],m=function(a){for(var b=a.clientX,e=a.clientY,g=I.documentElement.scrollTop||I.body.scrollTop,h=I.documentElement.scrollLeft||I.body.scrollLeft,k,l=d.length;l--;){k=d[l];if(eb)for(var m=a.touches.length,q;m--;){if(q=a.touches[m],q.identifier==k.el._drag.id){b=q.clientX;e=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=h;e+=g;k.move&&k.move.call(k.move_scope||k.el,b-k.el._drag.x,e-k.el._drag.y,b,e,a)}},p=function(a){b.unmousemove(m).unmouseup(p);for(var e=d.length,g;e--;)g=d[e],g.el._drag={},g.end&&g.end.call(g.end_scope||g.start_scope||g.move_scope||g.el,a);d=[]},x=kb[w];x--;)(function(a){b[a]=ga.prototype[a]=function(d,e){b.is(d,"function")&&(this.events=this.events||[],this.events.push({name:a,f:d,unbind:g(this.shape||this.node||I,a,d,e||this)}));return this};b["un"+a]=ga.prototype["un"+a]=function(b){for(var d=
this.events,e=d[w];e--;)if(d[e].name==a&&d[e].f==b){d[e].unbind();d.splice(e,1);!d.length&&delete this.events;break}return this}})(kb[x]);da.hover=function(a,b,d,e){return this.mouseover(a,d).mouseout(b,e||d)};da.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};da.drag=function(a,e,g,h,l,k){this._drag={};this.mousedown(function(q){(q.originalEvent||q).preventDefault();var r=I.documentElement.scrollTop||I.body.scrollTop,t=I.documentElement.scrollLeft||I.body.scrollLeft;this._drag.x=
q.clientX+t;this._drag.y=q.clientY+r;this._drag.id=q.identifier;e&&e.call(l||h||this,q.clientX+t,q.clientY+r,q);!d.length&&b.mousemove(m).mouseup(p);d.push({el:this,move:a,end:g,move_scope:h,start_scope:l,end_scope:k})});return this};da.undrag=function(a,e,g){for(e=d.length;e--;)d[e].el==this&&d[e].move==a&&d[e].end==g&&d.splice(e++,1);!d.length&&b.unmousemove(m).unmouseup(p)};ea.circle=function(a,b,d){return Vb(this,a||0,b||0,d||0)};ea.rect=function(a,b,d,e,g){return ac(this,a||0,b||0,d||0,e||0,
g||0)};ea.ellipse=function(a,b,d,e){return ua(this,a||0,b||0,d||0,e||0)};ea.path=function(a){a&&!b.is(a,"string")&&!b.is(a[0],M)&&(a+="");return zb(b.format[X](b,arguments),this)};ea.image=function(a,b,d,e,g){return ab(this,a||"about:blank",b||0,d||0,e||0,g||0)};ea.text=function(a,b,d){return Qa(this,a||0,b||0,H(d))};ea.set=function(a){1<arguments[w]&&(a=Array.prototype.splice.call(arguments,0,arguments[w]));return new S(a)};ea.setSize=Ib;ea.top=ea.bottom=null;ea.raphael=b;da.resetScale=function(){if(this.removed)return this;
this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};da.scale=function(a,b,d,e){if(this.removed)return this;if(null==a&&null==b)return{x:this._.sx,y:this._.sy,toString:l};b=b||a;!+b&&(b=a);var g,h,m=this.attrs;if(0!=a){var q=this.getBBox(),r=q.x+q.width/2,s=q.y+q.height/2;g=V(a/this._.sx);h=V(b/this._.sy);d=+d||0==d?d:r;e=+e||0==e?e:s;var p=0<this._.sx,t=0<this._.sy,q=~~(a/V(a)),u=~~(b/V(b)),x=g*q,y=h*u,A=this.node.style,r=d+V(r-d)*x*(r>d==p?1:-1),s=e+V(s-e)*y*(s>e==t?1:-1),z=a*q>b*u?h:g;switch(this.type){case "rect":case "image":var C=
m.width*g,E=m.height*h;this.attr({height:E,r:m.r*z,width:C,x:r-C/2,y:s-E/2});break;case "circle":case "ellipse":this.attr({rx:m.rx*g,ry:m.ry*h,r:m.r*z,cx:r,cy:s});break;case "text":this.attr({x:r,y:s});break;case "path":for(var z=Ob(m.path),I=!0,p=p?x:g,t=t?y:h,y=0,x=z[w];y<x;y++){var B=z[y],H=Sa.call(B[0]);if("M"!=H||!I)if(I=!1,"A"==H)B[z[y][w]-2]*=p,B[z[y][w]-1]*=t,B[1]*=g,B[2]*=h,B[5]=+(q+u?!!+B[5]:!+B[5]);else if("H"==H)for(var H=1,K=B[w];H<K;H++)B[H]*=p;else if("V"==H)for(H=1,K=B[w];H<K;H++)B[H]*=
t;else for(H=1,K=B[w];H<K;H++)B[H]*=H%2?p:t}h=ib(z);g=r-h.x-h.width/2;h=s-h.y-h.height/2;z[0][1]+=g;z[0][2]+=h;this.attr({path:z})}this.type in{text:1,image:1}&&(1!=q||1!=u)?this.transformations?(this.transformations[2]="scale(".concat(q,",",u,")"),this.node.setAttribute("transform",this.transformations.join(" ")),g=-1==q?-m.x-(C||0):m.x,h=-1==u?-m.y-(E||0):m.y,this.attr({x:g,y:h}),m.fx=q-1,m.fy=u-1):(this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(q,", M12=0, M21=0, M22=",
u,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")):this.transformations?(this.transformations[2]="",this.node.setAttribute("transform",this.transformations.join(" ")),m.fx=0,m.fy=0):(this.node.filterMatrix="",A.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||""));m.scale=[a,b,d,e].join(" ");this._.sx=a;this._.sy=b}return this};da.clone=function(){if(this.removed)return null;var a=this.attr();delete a.scale;
delete a.translation;return this.paper[this.type]().attr(a)};var r={},ia=function(a,d,e,g,h,k,l,m,q){var s=0,p=100,t=[a,d,e,g,h,k,l,m].join(),w=r[t],u,x;!w&&(r[t]=w={data:[]});w.timer&&clearTimeout(w.timer);w.timer=setTimeout(function(){delete r[t]},2E3);null!=q&&(p=10*~~ia(a,d,e,g,h,k,l,m));for(var y=0;y<p+1;y++){w.data[q]>y?x=w.data[y*p]:(x=b.findDotsAtSegment(a,d,e,g,h,k,l,m,y/p),w.data[y]=x);y&&(s+=Y(Y(u.x-x.x,2)+Y(u.y-x.y,2),.5));if(null!=q&&s>=q)return x;u=x}if(null==q)return s},ya=function(a,
d){return function(e,g,h){e=wb(e);for(var k,l,m,q,s="",r={},p=0,t=0,w=e.length;t<w;t++){m=e[t];if("M"==m[0])k=+m[1],l=+m[2];else{q=ia(k,l,m[1],m[2],m[3],m[4],m[5],m[6]);if(p+q>g){if(d&&!r.start){k=ia(k,l,m[1],m[2],m[3],m[4],m[5],m[6],g-p);s+=["C",k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y];if(h)return s;r.start=s;s=["M",k.x,k.y+"C",k.n.x,k.n.y,k.end.x,k.end.y,m[5],m[6]].join();p+=q;k=+m[5];l=+m[6];continue}if(!a&&!d)return k=ia(k,l,m[1],m[2],m[3],m[4],m[5],m[6],g-p),{x:k.x,y:k.y,alpha:k.alpha}}p+=q;
k=+m[5];l=+m[6]}s+=m}r.end=s;k=a?p:d?r:b.findDotsAtSegment(k,l,m[1],m[2],m[3],m[4],m[5],m[6],1);k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha});return k}},P=ya(1),A=ya(),vb=ya(0,1);da.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():P(this.attrs.path)};da.getPointAtLength=function(a){if("path"==this.type)return A(this.attrs.path,a)};da.getSubpath=function(a,b){if("path"==this.type){if("1e-6">V(this.getTotalLength()-b))return vb(this.attrs.path,a).end;
var d=vb(this.attrs.path,b,1);return a?vb(d,a).end:d}};b.easing_formulas={linear:function(a){return a},"<":function(a){return Y(a,3)},">":function(a){return Y(a-1,3)+1},"<>":function(a){a*=2;return 1>a?Y(a,3)/2:(Y(a-2,3)+2)/2},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return 0==a||1==a?a:Y(2,-10*a)*E.sin(2*(a-.075)*T/.3)+1},bounce:function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?
(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a}};var ja=[],Zb=function(){for(var a=+new Date,d=0;d<ja[w];d++){var e=ja[d];if(!e.stop&&!e.el.removed){var g=a-e.start,h=e.ms,k=e.easing,l=e.from,m=e.diff,r=e.to,s=e.t,p=e.el,e={},t;if(g<h){var g=k(g/h),u;for(u in l)if(l[q](u)){switch(xb[u]){case "along":t=g*h*m[u];r.back&&(t=r.len-t);k=A(r[u],t);p.translate(m.sx-m.x||0,m.sy-m.y||0);m.x=k.x;m.y=k.y;p.translate(k.x-m.sx,k.y-m.sy);r.rot&&p.rotate(m.r+k.alpha,k.x,k.y);break;
case U:t=+l[u]+g*h*m[u];break;case "colour":t="rgb("+[Ea(oa(l[u].r+g*h*m[u].r)),Ea(oa(l[u].g+g*h*m[u].g)),Ea(oa(l[u].b+g*h*m[u].b))].join()+")";break;case "path":t=[];for(var k=0,x=l[u][w];k<x;k++){t[k]=[l[u][k][0]];for(var y=1,z=l[u][k][w];y<z;y++)t[k][y]=+l[u][k][y]+g*h*m[u][k][y];t[k]=t[k].join(" ")}t=t.join(" ");break;case "csv":switch(u){case "translation":t=g*h*m[u][0]-s.x;k=g*h*m[u][1]-s.y;s.x+=t;s.y+=k;t=t+" "+k;break;case "rotation":t=+l[u][0]+g*h*m[u][0];l[u][1]&&(t+=","+l[u][1]+","+l[u][2]);
break;case "scale":t=[+l[u][0]+g*h*m[u][0],+l[u][1]+g*h*m[u][1],2 in r[u]?r[u][2]:"",3 in r[u]?r[u][3]:""].join(" ");break;case "clip-rect":for(t=[],k=4;k--;)t[k]=+l[u][k]+g*h*m[u][k]}break;default:for(x=[].concat(l[u]),t=[],k=p.paper.customAttributes[u].length;k--;)t[k]=+x[k]+g*h*m[u][k]}e[u]=t}p.attr(e);p._run&&p._run.call(p)}else r.along&&(k=A(r.along,r.len*!r.back),p.translate(m.sx-(m.x||0)+k.x-m.sx,m.sy-(m.y||0)+k.y-m.sy),r.rot&&p.rotate(m.r+k.alpha,k.x,k.y)),(s.x||s.y)&&p.translate(-s.x,-s.y),
r.scale&&(r.scale+=""),p.attr(r),ja.splice(d--,1)}}b.svg&&p&&p.paper&&p.paper.safari();ja[w]&&setTimeout(Zb)},bc=function(a,d,e,g,h){var k=e-g;d.timeouts.push(setTimeout(function(){b.is(h,"function")&&h.call(d);d.animate(a,k,a.easing)},g))},Ea=function(a){return sa(Na(a,255),0)},K=function(a,b){if(null==a)return{x:this._.tx,y:this._.ty,toString:l};this._.tx+=+a;this._.ty+=+b;switch(this.type){case "circle":case "ellipse":this.attr({cx:+a+this.attrs.cx,cy:+b+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+a+
this.attrs.x,y:+b+this.attrs.y});break;case "path":var d=Ob(this.attrs.path);d[0][1]+=+a;d[0][2]+=+b;this.attr({path:d})}return this};da.animateWith=function(a,b,d,e,g){for(var h=0,l=ja.length;h<l;h++)ja[h].el.id==a.id&&(b.start=ja[h].start);return this.animate(b,d,e,g)};da.animateAlong=t();da.animateAlongBack=t(1);da.onAnimation=function(a){this._run=a||0;return this};da.animate=function(a,d,e,g){var h=this;h.timeouts=h.timeouts||[];if(b.is(e,"function")||!e)g=e||null;if(h.removed)return g&&g.call(h),
h;var k={},l={},m=!1,r={},s;for(s in a)if(a[q](s)&&(xb[q](s)||h.paper.customAttributes[q](s)))switch(m=!0,k[s]=h.attr(s),null==k[s]&&(k[s]=pb[s]),l[s]=a[s],xb[s]){case "along":var p=P(a[s]),t=A(a[s],p*!!a.back),x=h.getBBox();r[s]=p/d;r.tx=x.x;r.ty=x.y;r.sx=t.x;r.sy=t.y;l.rot=a.rot;l.back=a.back;l.len=p;a.rot&&(r.r=L(h.rotate())||0);break;case U:r[s]=(l[s]-k[s])/d;break;case "colour":k[s]=b.getRGB(k[s]);p=b.getRGB(l[s]);r[s]={r:(p.r-k[s].r)/d,g:(p.g-k[s].g)/d,b:(p.b-k[s].b)/d};break;case "path":p=
wb(k[s],l[s]);k[s]=p[0];x=p[1];r[s]=[];p=0;for(t=k[s][w];p<t;p++){r[s][p]=[0];for(var z=1,B=k[s][p][w];z<B;z++)r[s][p][z]=(x[p][z]-k[s][p][z])/d}break;case "csv":t=H(a[s]).split(y);x=H(k[s]).split(y);switch(s){case "translation":k[s]=[0,0];r[s]=[t[0]/d,t[1]/d];break;case "rotation":k[s]=x[1]==t[1]&&x[2]==t[2]?x:[0,t[1],t[2]];r[s]=[(t[0]-k[s][0])/d,0,0];break;case "scale":a[s]=t;k[s]=H(k[s]).split(y);r[s]=[(t[0]-k[s][0])/d,(t[1]-k[s][1])/d,0,0];break;case "clip-rect":for(k[s]=H(k[s]).split(y),r[s]=
[],p=4;p--;)r[s][p]=(t[p]-k[s][p])/d}l[s]=t;break;default:for(t=[].concat(a[s]),x=[].concat(k[s]),r[s]=[],p=h.paper.customAttributes[s][w];p--;)r[s][p]=((t[p]||0)-(x[p]||0))/d}if(m){s=b.easing_formulas[e];if(!s)if((s=H(e).match(Sb))&&5==s[w]){var C=s;s=function(a){return u(a,+C[1],+C[2],+C[3],+C[4],d)}}else s=function(a){return a};ja.push({start:a.start||+new Date,ms:d,easing:s,from:k,diff:r,to:l,el:h,t:{x:0,y:0}});b.is(g,"function")&&(h._ac=setTimeout(function(){g.call(h)},d));1==ja[w]&&setTimeout(Zb)}else{e=
[];var E,I;for(I in a)a[q](I)&&Xb.test(I)&&(s={value:a[I]},"from"==I&&(I=0),"to"==I&&(I=100),s.key=na(I,10),e.push(s));e.sort(yb);e[0].key&&e.unshift({key:0,value:h.attrs});p=0;for(t=e[w];p<t;p++)bc(e[p].value,h,d/100*e[p].key,d/100*(e[p-1]&&e[p-1].key||0),e[p-1]&&e[p-1].value.callback);(E=e[e[w]-1].value.callback)&&h.timeouts.push(setTimeout(function(){E.call(h)},d))}return this};da.stop=function(){for(var a=0;a<ja.length;a++)ja[a].el.id==this.id&&ja.splice(a--,1);a=0;for(ii=this.timeouts&&this.timeouts.length;a<
ii;a++)clearTimeout(this.timeouts[a]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};da.translate=function(a,b){return this.attr({translation:a+" "+b})};da.toString=function(){return"Rapha\u00ebl\u2019s object"};b.ae=ja;var S=function(a){this.items=[];this[w]=0;this.type="set";if(a)for(var b=0,d=a[w];b<d;b++)!a[b]||a[b].constructor!=ga&&a[b].constructor!=S||(this[this.items[w]]=this.items[this.items[w]]=a[b],this[w]++)};S.prototype[W]=function(){for(var a,b,d=0,e=arguments[w];d<
e;d++)!(a=arguments[d])||a.constructor!=ga&&a.constructor!=S||(b=this.items[w],this[b]=this.items[b]=a,this[w]++);return this};S.prototype.pop=function(){delete this[this[w]--];return this.items.pop()};for(var Ma in da)da[q](Ma)&&(S.prototype[Ma]=function(a){return function(){for(var b=0,d=this.items[w];b<d;b++)this.items[b][a][X](this.items[b],arguments);return this}}(Ma));S.prototype.attr=function(a,d){if(a&&b.is(a,M)&&b.is(a[0],"object"))for(var e=0,g=a[w];e<g;e++)this.items[e].attr(a[e]);else for(e=
0,g=this.items[w];e<g;e++)this.items[e].attr(a,d);return this};S.prototype.animate=function(a,d,e,g){!b.is(e,"function")&&e||(g=e||null);var h=this.items[w],k=h,l,m=this,p;g&&(p=function(){!--h&&g.call(m)});e=b.is(e,"string")?e:p;for(l=this.items[--k].animate(a,d,e,p);k--;)this.items[k]&&!this.items[k].removed&&this.items[k].animateWith(l,a,d,e,p);return this};S.prototype.insertAfter=function(a){for(var b=this.items[w];b--;)this.items[b].insertAfter(a);return this};S.prototype.getBBox=function(){for(var a=
[],b=[],d=[],e=[],g=this.items[w];g--;){var h=this.items[g].getBBox();a[W](h.x);b[W](h.y);d[W](h.x+h.width);e[W](h.y+h.height)}a=Na[X](0,a);b=Na[X](0,b);return{x:a,y:b,width:sa[X](0,d)-a,height:sa[X](0,e)-b}};S.prototype.clone=function(a){a=new S;for(var b=0,d=this.items[w];b<d;b++)a[W](this.items[b].clone());return a};b.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},d=a.face["font-family"],e;for(e in a.face)a.face[q](e)&&(b.face[e]=a.face[e]);
this.fonts[d]?this.fonts[d][W](b):this.fonts[d]=[b];if(!a.svg){b.face["units-per-em"]=na(a.face["units-per-em"],10);for(var g in a.glyphs)if(a.glyphs[q](g)&&(d=a.glyphs[g],b.glyphs[g]={w:d.w,k:{},d:d.d&&"M"+d.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},d.k))for(var h in d.k)d[q](h)&&(b.glyphs[g].k[h]=d.k[h])}return a};ea.getFont=function(a,d,e,g){g=g||"normal";e=e||"normal";d=+d||{normal:400,bold:700,lighter:300,bolder:800}[d]||400;if(b.fonts){var h=
b.fonts[a];if(!h){a=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var k in b.fonts)if(b.fonts[q](k)&&a.test(k)){h=b.fonts[k];break}}var l;if(h)for(k=0,a=h[w];k<a&&(l=h[k],l.face["font-weight"]!=d||l.face["font-style"]!=e&&l.face["font-style"]||l.face["font-stretch"]!=g);k++);return l}};ea.print=function(a,d,e,g,h,k,l){k=k||"middle";l=sa(Na(l||0,1),-1);var m=this.set(),p=H(e).split(""),r=0;b.is(g,e)&&(g=this.getFont(g));if(g){e=(h||16)/g.face["units-per-em"];var q=g.face.bbox.split(y);
h=+q[0];k=+q[1]+("baseline"==k?q[3]-q[1]+ +g.face.descent:(q[3]-q[1])/2);for(var q=0,t=p[w];q<t;q++){var u=q&&g.glyphs[p[q-1]]||{},x=g.glyphs[p[q]],r=r+(q?(u.w||g.w)+(u.k&&u.k[p[q]]||0)+g.w*l:0);x&&x.d&&m[W](this.path(x.d).attr({fill:"#000",stroke:"none",translation:[r,0]}))}m.scale(e,e,h,k).translate(a-h,d-k)}return m};b.format=function(a,d){var e=b.is(d,M)?[0].concat(d):arguments;a&&b.is(a,"string")&&e[w]-1&&(a=a.replace(ba,function(a,b){return null==e[++b]?"":e[b]}));return a||""};b.ninja=function(){ka?
Z.Raphael=db:delete Raphael;return b};b.el=da;b.st=S.prototype;ka?Z.Raphael=b:Raphael=b})();function colorFromRamp(b,e,h,l){if(0==b.length)return"#FF00FF";if(e<=b[0].value)return!0===h?createRGBA(b[0].color,l):b[0].color;if(e>=b[b.length-1].value)return!0===h?createRGBA(b[b.length-1].color,l):b[b.length-1].color;for(var t=1;t<=b.length;t++)if(b[t-1].value<e&&b[t].value>=e)return lerpColor(b[t-1].color,b[t].color,b[t-1].value,b[t].value,e,h,l);return"#FF00FF"}
function createRGBA(b,e){c="rgba(";for(var h=1;6>=h;h+=2){var l=Math.floor(colorUtils.h2d(b.substr(h,2)));c+=""+l+","}return c+=e+")"}var colorUtils={d2h:function(b){return b.toString(16)},h2d:function(b){return parseInt(b,16)}};
function lerpColor(b,e,h,l,t,u,y){if(t<h)return!0===u?createRGBA(b,y):b;if(t>l)return!0===u?createRGBA(e,y):e;var z="";if(!0===u){z="rgba(";for(u=1;6>=u;u+=2)var ba=colorUtils.h2d(b.substr(u,2)),q=colorUtils.h2d(e.substr(u,2)),ba=ba+(t-h)/(l-h)*(q-ba),ba=Math.floor(ba),z=z+(""+ba+",");z+=y+")"}else for(z="#",u=1;6>=u;u+=2){ba=colorUtils.h2d(b.substr(u,2));q=colorUtils.h2d(e.substr(u,2));ba+=(t-h)/(l-h)*(q-ba);for(ba=colorUtils.d2h(Math.floor(ba));2>ba.length;)ba="0"+ba;z+=ba}return z}
function DotMarker(b,e,h){this.point_=b;this.image_=e;this.info_=h}DotMarker.prototype=new GOverlay;
DotMarker.prototype.initialize=function(b){var e=document.createElement("DIV");e.style.position="absolute";e.style.width="7px";e.style.height="7px";e.style.overflow="hidden";e.style.background="url("+this.image_+")";null!=this.info_&&(e.title=this.info_[0]);try{e.style.cursor="pointer"}catch(h){}GEvent.bindDom(e,"click",this,function(){GEvent.trigger(this,"click",this)});b.getPane(G_MAP_MARKER_PANE).appendChild(e);this.map_=b;this.div_=e};DotMarker.prototype.remove=function(){this.div_.parentNode.removeChild(this.div_)};
DotMarker.prototype.copy=function(){return new DotMarker(this.point_,this.image_,this.info_)};DotMarker.prototype.redraw=function(b){b&&(b=this.map_.fromLatLngToDivPixel(this.point_),this.div_.style.left=b.x-3+"px",this.div_.style.top=b.y-3+"px")};
function GPXParser(b){this.xmlDoc=null;this.map=b;this.map.enableScrollWheelZoom();this.trackcolor="#ff00ff";this.segmentcolorprovider=function(b,h){return this.trackcolor};this.trackwidth=5;this.routecolor="#ff00ff";this.routewidth=3;this.mintrackpointdelta=0;this.maxtrackpointdelta=30;this.markers=[]}GPXParser.prototype.SetTrackcolor=function(b){this.trackcolor=b};GPXParser.prototype.SetSegmentColorProvider=function(b){this.segmentcolorprovider=b};
GPXParser.prototype.SetTrackWidth=function(b){this.trackwidth=b};GPXParser.prototype.SetMinTrackPointDelta=function(b){this.mintrackpointdelta=b};GPXParser.prototype.SetMaxTrackPointDelta=function(b){this.maxtrackpointdelta=b};GPXParser.prototype.TranslateName=function(b){return"wpt"==b?"Waypoint":"trkpt"==b?"Track Point":b};
GPXParser.prototype._textToXml=function(b){window.DOMParser?xmlDoc=(new DOMParser).parseFromString(b,"text/xml"):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(b));return xmlDoc};
GPXParser.prototype.ParseGpx=function(b){var e=this._textToXml(b);b={tracks:[],waypoints:[],routes:[]};for(var h=e.documentElement.getElementsByTagName("trk"),l=0;l<h.length;l++)b.tracks.push(this._parseTrack(h[l]));h=e.documentElement.getElementsByTagName("wpt");for(l=0;l<h.length;l++)b.waypoints.push(this._parseWaypoint(h[l]));e=e.documentElement.getElementsByTagName("rte");for(l=0;l<e.length;l++)b.routes.push(this._parseRoute(e[l]));return b};
GPXParser.prototype._parseTrack=function(b){var e={segments:[],length:0};b=b.getElementsByTagName("trkseg");for(var h=0;h<b.length;h++){var l=this._parseSegment(b[h]);e.segments.push(l);e.length+=l.length}return e};
GPXParser.prototype._parseSegment=function(b){var e={points:[],length:0};b=b.getElementsByTagName("trkpt");if(0==b.length)return e;var h=this._parseTrackPoint(b[0]);e.points.push(h);for(var l=1;l<b.length;l++){var t=this._parseTrackPoint(b[l],h),u=this._pntDistance(h,t);0<this.maxtrackpointdelta&&u>this.maxtrackpointdelta||(e.points.push(t),e.length+=u,h=t)}return e};
GPXParser.prototype._parseRoute=function(b){var e={points:[]};b=b.getElementsByTagName("rtept");for(var h=0;h<b.length;h++)e.points.push(this._parseRoutePoint(b[h]));return e};
GPXParser.prototype._parseRoutePoint=function(b){var e={lat:0,lon:0,latLng:null,name:"",comment:"",html:""};e.lat=parseFloat(b.getAttribute("lat"));e.lon=parseFloat(b.getAttribute("lon"));e.latlng=new GLatLng(e.lat,e.lon);var h=b.getElementsByTagName("name");void 0!==h[0]&&(e.name=h[0].textContent,e.html="<b>"+e.name+"</b>");b=b.getElementsByTagName("cmt");void 0!==b[0]&&(e.comment=b[0].textContent,e.html+="<br />"+e.comment);return e};
GPXParser.prototype._parseWaypoint=function(b){var e={lon:parseFloat(b.getAttribute("lon")),lat:parseFloat(b.getAttribute("lat")),html:""};if(0<b.getElementsByTagName("html").length)for(i=0;i<b.getElementsByTagName("html").item(0).childNodes.length;i++)e.html+=b.getElementsByTagName("html").item(0).childNodes[i].nodeValue;else{e.html="<b>"+this.TranslateName(b.nodeName)+"</b><br>";var h=b.attributes,l=h.length;for(i=0;i<l;i++)e.html+=h.item(i).name+" = "+h.item(i).nodeValue+"<br>";if(b.hasChildNodes)for(b=
b.childNodes,h=b.length,i=0;i<h;i++)1==b[i].nodeType&&null!=b[i].firstChild&&(e.html+=b[i].nodeName+" = "+b[i].firstChild.nodeValue+"<br>")}return e};
GPXParser.prototype.DrawGpx=function(b,e,h,l,t){null==e&&(e=this.map.getCurrentMapType());null==h&&(h=!0);null==l&&(l=!0);null==t&&(t=!0);this._clearMarkers();this._centerAndZoom(b,e);h&&func.map(b.tracks,this,this._drawTrack,this.segmentcolorprovider,this.trackwidth);l&&func.map(b.waypoints,this,this._drawWaypoint);t&&func.map(b.routes,this,this._drawRoute,this.routecolor,this.routewidth)};GPXParser.prototype._drawTrack=function(b,e,h){func.map(b.segments,this,this._drawSegment,e,h)};
GPXParser.prototype._drawSegment=function(b,e,h){if(0!=b.points.length)for(var l=b.points[0],t=1;t<b.points.length;t++){var u=b.points[t],y=[l.latlng,u.latlng];this._pntDistance(l,u)>this.mintrackpointdelta&&(l=e(l,u),y=new GPolyline(y,l,h),this._addOverlay(y));l=u}};
GPXParser.prototype._drawRoute=function(b,e,h){if(0!=b.points.length){var l=b.points[0];this._drawWaypoint(l);for(var t=1;t<b.points.length;t++){var u=b.points[t],l=new GPolyline([l.latlng,u.latlng],e,h);this._addOverlay(l);this._drawWaypoint(u);l=u}}};GPXParser.prototype._drawWaypoint=function(b){var e=new GMarker(new GLatLng(b.lat,b.lon));GEvent.addListener(e,"click",function(){e.openInfoWindowHtml(b.html)});this._addOverlay(e)};GPXParser.prototype._degToRad=function(b){return b*Math.PI/180};
GPXParser.prototype._pntDistance=function(b,e){var h=b.lat,l=b.lon,t=e.lat,u=e.lon,y=this._degToRad(t-h),l=this._degToRad(u-l),h=Math.sin(y/2)*Math.sin(y/2)+Math.cos(this._degToRad(h))*Math.cos(this._degToRad(t))*Math.sin(l/2)*Math.sin(l/2);return 12742*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))};
GPXParser.prototype._parseTrackPoint=function(b,e){var h={};h.lat=parseFloat(b.getAttribute("lat"));h.lon=parseFloat(b.getAttribute("lon"));h.latlng=new GLatLng(h.lat,h.lon);var l=b.getElementsByTagName("ele");0<l.length&&(h.ele=parseFloat(l[0].textContent));l=b.getElementsByTagName("time");0<l.length&&(h.time=Date.parse(l[0].textContent));null!=e&&(h.timediff=h.time-e.time,h.dst=this._pntDistance(e,h),h.spd=h.dst/h.timediff*36E5,void 0!=h.ele&&void 0!=e.ele&&(h.elediff=h.ele-e.ele));return h};
GPXParser.prototype._centerAndZoom=function(b,e){var h=0,l=0,t=0,u=0,y=function(b){h==l&&0==h&&(l=h=b.lat,u=t=b.lon);b.lon<t&&(t=b.lon);b.lon>u&&(u=b.lon);b.lat<h&&(h=b.lat);b.lat>l&&(l=b.lat)};func.map(b.waypoints,this,y);func.map(b.tracks,this,function(b){func.map(b.segments,this,function(b){func.map(b.points,this,y)})});func.map(b.routes,this,function(b){func.map(b.points,this,y)});if(h==l&&0==h)this.map.setCenter(new GLatLng(49.327667,-122.942333),14);else{var z=(u+t)/2,ba=(l+h)/2,q=new GLatLngBounds(new GLatLng(h,
t),new GLatLng(l,u));this.map.setCenter(new GLatLng(ba,z),this.map.getBoundsZoomLevel(q),e)}};GPXParser.prototype._addOverlay=function(b){this.markers.push(b);this.map.addOverlay(b)};GPXParser.prototype._clearMarkers=function(){for(var b=0;b<this.markers.length;b++)void 0!=this.markers[b].setMap&&this.markers[b].setMap(null),void 0!=this.markers[b].remove&&this.map.removeOverlay(this.markers[b]);this.markers.length=0};var g_lastmarker;
GPXParser.prototype.test=function(b,e){var h=new GLatLng(b,e);g_lastmarker&&(void 0!=g_lastmarker.setMap&&g_lastmarker.setMap(null),void 0!=g_lastmarker.remove&&this.map.removeOverlay(g_lastmarker),g_lastmarker=null);g_lastmarker=new GMarker(h);this.map.addOverlay(g_lastmarker)};function SlopeVisualizer(b){this.jqelement=b;this.buckets=5;this.ramp=[{value:0,color:"#00FF00"},{value:1.5,color:"#FFFF00"},{value:3,color:"#FF8000"},{value:5,color:"#FF0000"}]}
SlopeVisualizer.prototype._computeSlope=function(b,e){return 180*Math.atan2(b,1E3*e)/Math.PI};
SlopeVisualizer.prototype.drawGpx=function(b){var e=this,h=function(b){return""+Math.round(100*b/e.buckets)+"-"+Math.round(100*(b+1)/e.buckets)+"% of track"},l=[],t=0,u={name:h(0),color:colorFromRamp(e.ramp,0,!0,.3),data:[]};func.map(b.tracks,this,function(b){func.map(b.segments,this,function(z){if(0<b.segments.length&&0<b.segments[0].points.length)var ba=b.segments[0].points[0].time,q=b.segments[b.segments.length-1].points[b.segments[b.segments.length-1].points.length-1].time;var I=ba,Z=0,ka=0,db=
0;func.map(z.points,this,function(b){if(void 0!=b.spd&&void 0!=b.ele&&void 0!=b.elediff&&void 0!=b.dst&&(Z+=b.elediff,ka+=b.dst,5==++db)){var y=Math.round(this._computeSlope(Z,ka)),z=ka/(b.time-I)*36E5,z=Math.round(10*z)/10,eb=Math.floor((b.time-ba)/(q-ba+1)*this.buckets);eb>t&&(null!=u&&0<u.data.length&&l.push(u),u={name:h(eb),color:colorFromRamp(e.ramp,eb,!0,.3),data:[]},t=eb);u.data.push([y,z]);ka=Z=db=0;I=b.time}});l.push(u)})});func.map(l,this,function(b){});this._chartSeries(l)};
SlopeVisualizer.prototype._chartSeries=function(b){this.jqelement.html("");new Highcharts.Chart({chart:{renderTo:this.jqelement.attr("id"),type:"scatter"},title:{text:""},subtitle:{text:""},xAxis:{title:{text:"Slope (degrees)"},startOnTick:!0,endOnTick:!0,showLastLabel:!0,showFirstLabel:!0,min:-10,max:10,gridLineColor:"#c0c0c0",gridLineWidth:1},yAxis:{title:{text:"Speed (km/h)"},min:0,gridLineColor:"#c0c0c0",gridLineWidth:1},tooltip:{formatter:function(){return this.x+"\u00b0: "+this.y+" km/h"}},
legend:{layout:"vertical",align:"center",verticalAlign:"top",backgroundColor:"#FFFFFF",borderWidth:0},plotOptions:{scatter:{marker:{radius:3,states:{hover:{enabled:!0,lineColor:"rgb(100,100,100)"}}},states:{hover:{marker:{enabled:!1}}}}},series:b})};function ProfileVisualizer(b){this.jqelement=b}
ProfileVisualizer.prototype.drawGpx=function(b){var e=[],h=0;func.map(b.tracks,this,function(b){func.map(b.segments,this,function(t){if(0<b.segments.length&&0<b.segments[0].points.length)var u=b.segments[0].points[0].time;var y={name:"segment "+ ++h,data:[],data2:[]},z=0,ba=0;func.map(t.points,this,function(b){if(void 0!=b.ele&&(z+=b.ele,5==++ba)){var e=Math.round(z/5);y.data.push([b.time-u,e,b.lat,b.lon]);z=ba=0}});e.push(y)})});this._chartSeries(e)};
ProfileVisualizer.prototype._chartSeries=function(b){this.jqelement.html("");new Highcharts.Chart({chart:{renderTo:this.jqelement.attr("id"),type:"area"},title:{text:""},subtitle:{text:""},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%e. %b",year:"%b"}},yAxis:{title:{text:"Elevation (m)"}},tooltip:{formatter:function(){g_display_pos&&g_display_pos(this.point.lat,this.point.lon);return Highcharts.dateFormat("%H:%M:%S",this.x)+": "+this.y+" m"}},plotOptions:{area:{fillColor:{linearGradient:[0,
0,0,200],stops:[[0,"rgba(192,192,192,0.5)"],[1,"rgba(64,64,64,0.5)"]]},lineWidth:1,lineColor:"#4040ff",marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},shadow:!1,states:{hover:{lineWidth:1}}}},series:b})};
var func={map:function(b,e,h){if(!func.isArray(b))throw"GPXParser._map: first argument must be array.";for(var l=[null],t=3;t<arguments.length;t++)l.push(arguments[t]);for(t=0;t<b.length;t++)l[0]=b[t],h.apply(e,l)},isArray:function(b){return void 0!=b&&0<=b.constructor.toString().indexOf("Array")?!0:!1}};
